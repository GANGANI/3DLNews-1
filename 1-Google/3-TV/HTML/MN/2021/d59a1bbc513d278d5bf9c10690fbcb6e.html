

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><script type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:true},ajax:{deny_list:["bam.nr-data.net"]},distributed_tracing:{enabled:true}};(window.NREUM||(NREUM={})).loader_config={agentID:"1120287744",accountID:"90195",trustKey:"90195",xpid:"XQYGWFNACQIAVllbDgEFUQ==",licenseKey:"646c3c011e",applicationID:"1102899027"};;/*! For license information please see nr-loader-spa-1.260.1.min.js.LICENSE.txt */
(()=>{var e,t,r={234:(e,t,r)=>{"use strict";r.d(t,{P_:()=>m,Mt:()=>b,C5:()=>s,DL:()=>w,OP:()=>O,lF:()=>D,Yu:()=>_,Dg:()=>v,CX:()=>c,GE:()=>E,sU:()=>I});var n=r(8632),i=r(9567);const o={beacon:n.ce.beacon,errorBeacon:n.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},a={};function s(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!a[e])throw new Error("Info for ".concat(e," was never set"));return a[e]}function c(e,t){if(!e)throw new Error("All info objects require an agent identifier!");a[e]=(0,i.D)(t,o);const r=(0,n.ek)(e);r&&(r.info=a[e])}const u=e=>{if(!e||"string"!=typeof e)return!1;try{document.createDocumentFragment().querySelector(e)}catch{return!1}return!0};var d=r(7056),l=r(50);const f="[data-nr-mask]",h=()=>{const e={mask_selector:"*",block_selector:"[data-nr-block]",mask_input_options:{color:!1,date:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:!1,search:!1,tel:!1,text:!1,time:!1,url:!1,week:!1,textarea:!1,select:!1,password:!0}};return{feature_flags:[],proxy:{assets:void 0,beacon:void 0},privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,block_internal:!0,enabled:!0,harvestTimeSeconds:10,autoStart:!0},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},session:{expiresMs:d.oD,inactiveMs:d.Hb},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},metrics:{enabled:!0,autoStart:!0},page_action:{enabled:!0,harvestTimeSeconds:30,autoStart:!0},page_view_event:{enabled:!0,autoStart:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30,long_task:!1,autoStart:!0},session_trace:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},harvest:{tooManyRequestsDelay:60},session_replay:{autoStart:!0,enabled:!1,harvestTimeSeconds:60,preload:!1,sampling_rate:10,error_sampling_rate:100,collect_fonts:!1,inline_images:!1,inline_stylesheet:!0,mask_all_inputs:!0,get mask_text_selector(){return e.mask_selector},set mask_text_selector(t){u(t)?e.mask_selector="".concat(t,",").concat(f):""===t||null===t?e.mask_selector=f:(0,l.Z)("An invalid session_replay.mask_selector was provided. '*' will be used.",t)},get block_class(){return"nr-block"},get ignore_class(){return"nr-ignore"},get mask_text_class(){return"nr-mask"},get block_selector(){return e.block_selector},set block_selector(t){u(t)?e.block_selector+=",".concat(t):""!==t&&(0,l.Z)("An invalid session_replay.block_selector was provided and will not be used",t)},get mask_input_options(){return e.mask_input_options},set mask_input_options(t){t&&"object"==typeof t?e.mask_input_options={...t,password:!0}:(0,l.Z)("An invalid session_replay.mask_input_option was provided and will not be used",t)}},spa:{enabled:!0,harvestTimeSeconds:10,autoStart:!0},soft_navigations:{enabled:!0,harvestTimeSeconds:10,autoStart:!0}}},p={},g="All configuration objects require an agent identifier!";function m(e){if(!e)throw new Error(g);if(!p[e])throw new Error("Configuration for ".concat(e," was never set"));return p[e]}function v(e,t){if(!e)throw new Error(g);p[e]=(0,i.D)(t,h());const r=(0,n.ek)(e);r&&(r.init=p[e])}function b(e,t){if(!e)throw new Error(g);var r=m(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const y={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},A={};function w(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!A[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return A[e]}function E(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");A[e]=(0,i.D)(t,y);const r=(0,n.ek)(e);r&&(r.loader_config=A[e])}const _=(0,n.mF)().o;var x=r(385),R=r(6818);const S={buildEnv:R.Re,distMethod:R.gF,version:R.q4,originTime:x.sK},T={customTransaction:void 0,disabled:!1,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,onerror:void 0,origin:""+x._A.location,ptid:void 0,releaseIds:{},appMetadata:{},session:void 0,denyList:void 0,harvestCount:0,timeKeeper:void 0},N={};function O(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!N[e])throw new Error("Runtime for ".concat(e," was never set"));return N[e]}function I(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");N[e]={...(0,i.D)(t,T),...S};const r=(0,n.ek)(e);r&&(r.runtime=N[e])}function D(e){return function(e){try{const t=s(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}(e)}},9567:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(50);function i(e,t){try{if(!e||"object"!=typeof e)return(0,n.Z)("Setting a Configurable requires an object as input");if(!t||"object"!=typeof t)return(0,n.Z)("Setting a Configurable requires a model to set its initial properties");const r=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),o=0===Object.keys(r).length?e:r;for(let a in o)if(void 0!==e[a])try{if(null===e[a]){r[a]=null;continue}Array.isArray(e[a])&&Array.isArray(t[a])?r[a]=Array.from(new Set([...e[a],...t[a]])):"object"==typeof e[a]&&"object"==typeof t[a]?r[a]=i(e[a],t[a]):r[a]=e[a]}catch(e){(0,n.Z)("An error occurred while setting a property of a Configurable",e)}return r}catch(e){(0,n.Z)("An error occured while setting a Configurable",e)}}},6818:(e,t,r)=>{"use strict";r.d(t,{Re:()=>i,gF:()=>o,lF:()=>a,q4:()=>n});const n="1.260.1",i="PROD",o="CDN",a="2.0.0-alpha.12"},385:(e,t,r)=>{"use strict";r.d(t,{FN:()=>u,IF:()=>f,LW:()=>s,Nk:()=>p,Tt:()=>d,_A:()=>a,iS:()=>c,il:()=>i,sK:()=>g,ux:()=>l,v6:()=>o,w1:()=>h});var n=r(7894);const i="undefined"!=typeof window&&!!window.document,o="undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis.navigator instanceof WorkerNavigator),a=i?window:"undefined"!=typeof WorkerGlobalScope&&("undefined"!=typeof self&&self instanceof WorkerGlobalScope&&self||"undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope&&globalThis),s="complete"===a?.document?.readyState,c=Boolean("hidden"===a?.document?.visibilityState),u=""+a?.location,d=/iPad|iPhone|iPod/.test(a.navigator?.userAgent),l=d&&"undefined"==typeof SharedWorker,f=(()=>{const e=a.navigator?.userAgent?.match(/Firefox[/\s](\d+\.\d+)/);return Array.isArray(e)&&e.length>=2?+e[1]:0})(),h=Boolean(i&&window.document.documentMode),p=!!a.navigator?.sendBeacon,g=Date.now()-(0,n.z)()},1117:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(50);const i={agentIdentifier:"",ee:void 0};class o{constructor(e){try{if("object"!=typeof e)return(0,n.Z)("shared context requires an object as input");this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=>{let[t,r]=e;Object.keys(i).includes(t)&&(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)("An error occurred while setting SharedContext",e)}}}},1199:(e,t,r)=>{"use strict";r.d(t,{R2:()=>a,zR:()=>i,zh:()=>o});var n=[];function i(e){if(o(e))return!1;if(0===n.length)return!0;for(var t=0;t<n.length;t++){var r=n[t];if("*"===r.hostname)return!1;if(s(r.hostname,e.hostname)&&c(r.pathname,e.pathname))return!1}return!0}function o(e){return void 0===e.hostname}function a(e){if(n=[],e&&e.length)for(var t=0;t<e.length;t++){let r=e[t];if(!r)continue;0===r.indexOf("http://")?r=r.substring(7):0===r.indexOf("https://")&&(r=r.substring(8));const i=r.indexOf("/");let o,a;i>0?(o=r.substring(0,i),a=r.substring(i)):(o=r,a="");let[s]=o.split(":");n.push({hostname:s,pathname:a})}}function s(e,t){return!(e.length>t.length)&&t.indexOf(e)===t.length-e.length}function c(e,t){return 0===e.indexOf("/")&&(e=e.substring(1)),0===t.indexOf("/")&&(t=t.substring(1)),""===e||e===t}},8e3:(e,t,r)=>{"use strict";r.d(t,{LP:()=>l,RP:()=>c,o5:()=>u});var n=r(8325),i=r(1284),o=r(4322),a=r(3325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};d(e),s[e].get(t)||s[e].set(t,r)}function u(e,t){d(e),s[e].get(t)&&s[e].delete(t),s[e].size&&f(e)}function d(e){if(!e)throw new Error("agentIdentifier required");s[e]||(s[e]=new Map)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d(e),!e||!s[e].get(t)||r)return h(e,t);s[e].get(t).staged=!0,f(e)}function f(e){const t=Array.from(s[e]);t.every((e=>{let[t,r]=e;return r.staged}))&&(t.sort(((e,t)=>e[1].priority-t[1].priority)),t.forEach((t=>{let[r]=t;s[e].delete(r),h(e,r)})))}function h(e,t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&&a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&&u<s.length;++u)p(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}r.isolatedBacklog||delete a[t],r.backlog[t]=null,r.emit("drain-"+t,[])}}function p(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},8325:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,ee:()=>u});var n=r(8632),i=r(2210),o=r(234);class a{constructor(e){this.contextId=e}}var s=r(3117);const c="nr@context:".concat(s.a),u=function e(t,r){var n={},s={},d={},l=!1;try{l=16===r.length&&(0,o.OP)(r).isolatedBacklog}catch(e){}var f={on:p,addEventListener:p,removeEventListener:function(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function(e,r,n,i,o){!1!==o&&(o=!0);if(u.aborted&&!i)return;t&&o&&t.emit(e,r,n);for(var a=h(n),c=g(e),d=c.length,l=0;l<d;l++)c[l].apply(a,r);var p=v()[s[e]];p&&p.push([f,e,r,a]);return a},get:m,listeners:g,context:h,buffer:function(e,t){const r=v();if(t=t||"feature",f.aborted)return;Object.entries(e||{}).forEach((e=>{let[n,i]=e;s[i]=t,t in r||(r[t]=[])}))},abort:function(){f._aborted=!0,Object.keys(f.backlog).forEach((e=>{delete f.backlog[e]}))},isBuffering:function(e){return!!v()[s[e]]},debugId:r,backlog:l?{}:t&&"object"==typeof t.backlog?t.backlog:{},isolatedBacklog:l};return Object.defineProperty(f,"aborted",{get:()=>{let e=f._aborted||!1;return e||(t&&(e=t.aborted),e)}}),f;function h(e){return e&&e instanceof a?e:e?(0,i.X)(e,c,(()=>new a(c))):new a(c)}function p(e,t){n[e]=g(e).concat(t)}function g(e){return n[e]||[]}function m(t){return d[t]=d[t]||e(f,t)}function v(){return f.backlog}}(void 0,"globalEE"),d=(0,n.fP)();d.ee||(d.ee=u)},5546:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,p:()=>i});var n=r(8325).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4322:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(5546);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},3239:(e,t,r)=>{"use strict";r.d(t,{bP:()=>s,iz:()=>c,m$:()=>a});var n=r(385);let i=!1,o=!1;try{const e={get passive(){return i=!0,!1},get signal(){return o=!0,!1}};n._A.addEventListener("test",null,e),n._A.removeEventListener("test",null,e)}catch(e){}function a(e,t){return i||o?{capture:!!e,passive:i,signal:t}:!!e}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;window.addEventListener(e,t,a(r,n))}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;document.addEventListener(e,t,a(r,n))}},3117:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});const n=(0,r(4402).Rl)()},4402:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>u,M:()=>c,Rl:()=>a,ky:()=>s});var n=r(385);const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function o(e,t){return e?15&e[t]:16*Math.random()|0}function a(){const e=n._A?.crypto||n._A?.msCrypto;let t,r=0;return e&&e.getRandomValues&&(t=e.getRandomValues(new Uint8Array(30))),i.split("").map((e=>"x"===e?o(t,r++).toString(16):"y"===e?(3&o()|8).toString(16):e)).join("")}function s(e){const t=n._A?.crypto||n._A?.msCrypto;let r,i=0;t&&t.getRandomValues&&(r=t.getRandomValues(new Uint8Array(e)));const a=[];for(var s=0;s<e;s++)a.push(o(r,i++).toString(16));return a.join("")}function c(){return s(16)}function u(){return s(32)}},7056:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>n,Hb:()=>a,IK:()=>u,K4:()=>i,oD:()=>o,uT:()=>c,wO:()=>s});const n="NRBA",i="SESSION",o=144e5,a=18e5,s={STARTED:"session-started",PAUSE:"session-pause",RESET:"session-reset",RESUME:"session-resume",UPDATE:"session-update"},c={SAME_TAB:"same-tab",CROSS_TAB:"cross-tab"},u={OFF:0,FULL:1,ERROR:2}},7894:(e,t,r)=>{"use strict";function n(){return Math.floor(performance.now())}r.d(t,{z:()=>n})},7243:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(385);function i(e){if(0===(e||"").indexOf("data:"))return{protocol:"data"};try{const t=new URL(e,location.href),r={port:t.port,hostname:t.hostname,pathname:t.pathname,search:t.search,protocol:t.protocol.slice(0,t.protocol.indexOf(":")),sameOrigin:t.protocol===n._A?.location?.protocol&&t.host===n._A?.location?.host};return r.port&&""!==r.port||("http:"===t.protocol&&(r.port="80"),"https:"===t.protocol&&(r.port="443")),r.pathname&&""!==r.pathname?r.pathname.startsWith("/")||(r.pathname="/".concat(r.pathname)):r.pathname="/",r}catch(e){return{}}}},50:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof console.warn&&(console.warn("New Relic: ".concat(e)),t&&console.warn(t))}r.d(t,{Z:()=>n})},2825:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,T:()=>s});var n=r(8325),i=r(385);const o="newrelic";const a=new Set,s={};function c(e,t){const r=n.ee.get(t);s[t]??={},e&&"object"==typeof e&&(a.has(t)||(r.emit("rumresp",[e]),s[t]=e,a.add(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{i._A.dispatchEvent(new CustomEvent(o,{detail:e}))}catch(e){}}({loaded:!0})))}},2210:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},7872:(e,t,r)=>{"use strict";function n(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=n?.leading||!1;let o;return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];i&&void 0===o&&(e.apply(t,a),o=setTimeout((()=>{o=clearTimeout(o)}),r)),i||(clearTimeout(o),o=setTimeout((()=>{e.apply(t,a)}),r))}}function i(e){var t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e.apply(t,i)}}}r.d(t,{D:()=>n,Z:()=>i})},1284:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n=(e,t)=>Object.entries(e||{}).map((e=>{let[r,n]=e;return t(r,n)}))},4351:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(8325);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}}}},3960:(e,t,r)=>{"use strict";r.d(t,{KB:()=>a,b2:()=>o});var n=r(3239);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.bP)("load",e,t)}function a(e){if(i())return e();(0,n.iz)("DOMContentLoaded",e)}},8632:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>d,ce:()=>o,ek:()=>u,fP:()=>a,gG:()=>l,h5:()=>c,mF:()=>s});var n=r(385),i=r(7894);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return n._A.NREUM||(n._A.NREUM={}),void 0===n._A.newrelic&&(n._A.newrelic=n._A.NREUM),n._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:n._A.setTimeout,SI:n._A.setImmediate,CT:n._A.clearTimeout,XHR:n._A.XMLHttpRequest,REQ:n._A.Request,EV:n._A.Event,PR:n._A.Promise,MO:n._A.MutationObserver,FETCH:n._A.fetch}),e}function c(e,t){let r=a();r.initializedAgents??={},t.initializedAt={ms:(0,i.z)(),date:new Date},r.initializedAgents[e]=t}function u(e){let t=a();return t.initializedAgents?.[e]}function d(e,t){a()[e]=t}function l(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},7956:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(3239);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,n.iz)("visibilitychange",(function(){if(t)return void("hidden"===document.visibilityState&&e());e(document.visibilityState)}),r,i)}},7806:(e,t,r)=>{"use strict";r.d(t,{em:()=>b,u5:()=>T,QU:()=>I,_L:()=>j,Gm:()=>L,Lg:()=>M,BV:()=>V,Kf:()=>Y});var n=r(8325),i=r(3117);const o="nr@original:".concat(i.a);var a=Object.prototype.hasOwnProperty,s=!1;function c(e,t){return e||(e=n.ee),r.inPlace=function(e,t,n,i,o){n||(n="");const a="-"===n.charAt(0);for(let s=0;s<t.length;s++){const c=t[s],u=e[c];d(u)||(e[c]=r(u,a?c+n:n,i,c,o))}},r.flag=o,r;function r(t,r,n,s,c){return d(t)?t:(r||(r=""),nrWrapper[o]=t,function(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){u([e],r)}for(var n in e)a.call(e,n)&&(t[n]=e[n])}(t,nrWrapper,e),nrWrapper);function nrWrapper(){var o,a,d,l;try{a=this,o=[...arguments],d="function"==typeof n?n(o,a):n||{}}catch(t){u([t,"",[o,a,s],d],e)}i(r+"start",[o,a,s],d,c);try{return l=t.apply(a,o)}catch(e){throw i(r+"err",[o,a,e],d,c),e}finally{i(r+"end",[o,a,l],d,c)}}}function i(r,n,i,o){if(!s||t){var a=s;s=!0;try{e.emit(r,n,i,t,o)}catch(t){u([t,r,n,i],e)}s=a}}}function u(e,t){t||(t=n.ee);try{t.emit("internal-error",e)}catch(e){}}function d(e){return!(e&&"function"==typeof e&&e.apply&&!e[o])}var l=r(2210),f=r(385);const h={},p=f._A.XMLHttpRequest,g="addEventListener",m="removeEventListener",v="nr@wrapped:".concat(n.A);function b(e){var t=function(e){return(e||n.ee).get("events")}(e);if(h[t.debugId]++)return t;h[t.debugId]=1;var r=c(t,!0);function i(e){r.inPlace(e,[g,m],"-",o)}function o(e,t){return e[1]}return"getPrototypeOf"in Object&&(f.il&&y(document,i),y(f._A,i),y(p.prototype,i)),t.on(g+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,l.X)(n,v,(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(m+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function y(e,t){let r=e;for(;"object"==typeof r&&!Object.prototype.hasOwnProperty.call(r,g);)r=Object.getPrototypeOf(r);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r&&t(r,...i)}var A="fetch-",w=A+"body-",E=["arrayBuffer","blob","json","text","formData"],_=f._A.Request,x=f._A.Response,R="prototype";const S={};function T(e){const t=function(e){return(e||n.ee).get("fetch")}(e);if(!(_&&x&&f._A.fetch))return t;if(S[t.debugId]++)return t;function r(e,r,i){var o=e[r];"function"==typeof o&&(e[r]=function(){var e,r=[...arguments],a={};t.emit(i+"before-start",[r],a),a[n.A]&&a[n.A].dt&&(e=a[n.A].dt);var s=o.apply(this,r);return t.emit(i+"start",[r,e],s),s.then((function(e){return t.emit(i+"end",[null,e],s),e}),(function(e){throw t.emit(i+"end",[e],s),e}))})}return S[t.debugId]=1,E.forEach((e=>{r(_[R],e,w),r(x[R],e,w)})),r(f._A,"fetch",A),t.on(A+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(A+"done",[null,r],n)}else t.emit(A+"done",[e],n)})),t}const N={},O=["pushState","replaceState"];function I(e){const t=function(e){return(e||n.ee).get("history")}(e);return!f.il||N[t.debugId]++||(N[t.debugId]=1,c(t).inPlace(window.history,O,"-")),t}var D=r(3239);const P={},C=["appendChild","insertBefore","replaceChild"];function j(e){const t=function(e){return(e||n.ee).get("jsonp")}(e);if(!f.il||P[t.debugId])return t;P[t.debugId]=!0;var r=c(t),i=/[?&](?:callback|cb)=([^&#]+)/,o=/(.*)\.([^.]+)/,a=/^(\w+)(\.|$)(.*)$/;function s(e,t){if(!e)return t;const r=e.match(a),n=r[1];return s(r[3],t[n])}return r.inPlace(Node.prototype,C,"dom-"),t.on("dom-start",(function(e){!function(e){if(!e||"string"!=typeof e.nodeName||"script"!==e.nodeName.toLowerCase())return;if("function"!=typeof e.addEventListener)return;var n=(a=e.src,c=a.match(i),c?c[1]:null);var a,c;if(!n)return;var u=function(e){var t=e.match(o);if(t&&t.length>=3)return{key:t[2],parent:s(t[1],window)};return{key:e,parent:window}}(n);if("function"!=typeof u.parent[u.key])return;var d={};function l(){t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,D.m$)(!1)),e.removeEventListener("error",f,(0,D.m$)(!1))}function f(){t.emit("jsonp-error",[],d),t.emit("jsonp-end",[],d),e.removeEventListener("load",l,(0,D.m$)(!1)),e.removeEventListener("error",f,(0,D.m$)(!1))}r.inPlace(u.parent,[u.key],"cb-",d),e.addEventListener("load",l,(0,D.m$)(!1)),e.addEventListener("error",f,(0,D.m$)(!1)),t.emit("new-jsonp",[e.src],d)}(e[0])})),t}const k={};function L(e){const t=function(e){return(e||n.ee).get("mutation")}(e);if(!f.il||k[t.debugId])return t;k[t.debugId]=!0;var r=c(t),i=f._A.MutationObserver;return i&&(window.MutationObserver=function(e){return this instanceof i?new i(r(e,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype),t}const H={};function M(e){const t=function(e){return(e||n.ee).get("promise")}(e);if(H[t.debugId])return t;H[t.debugId]=!0;var r=t.context,i=c(t),a=f._A.Promise;return a&&function(){function e(r){var n=t.context(),o=i(r,"executor-",n,null,!1);const s=Reflect.construct(a,[o],e);return t.context(s).getCtx=function(){return n},s}f._A.Promise=e,Object.defineProperty(e,"name",{value:"Promise"}),e.toString=function(){return a.toString()},Object.setPrototypeOf(e,a),["all","race"].forEach((function(r){const n=a[r];e[r]=function(e){let i=!1;[...e||[]].forEach((e=>{this.resolve(e).then(a("all"===r),a(!1))}));const o=n.apply(this,arguments);return o;function a(e){return function(){t.emit("propagate",[null,!i],o,!1,!1),i=i||!e}}}})),["resolve","reject"].forEach((function(r){const n=a[r];e[r]=function(e){const r=n.apply(this,arguments);return e!==r&&t.emit("propagate",[e,!0],r,!1,!1),r}})),e.prototype=a.prototype;const n=a.prototype.then;a.prototype.then=function(){var e=this,o=r(e);o.promise=e;for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];s[0]=i(s[0],"cb-",o,null,!1),s[1]=i(s[1],"cb-",o,null,!1);const u=n.apply(this,s);return o.nextPromise=u,t.emit("propagate",[e,!0],u,!1,!1),u},a.prototype.then[o]=n,t.on("executor-start",(function(e){e[0]=i(e[0],"resolve-",this,null,!1),e[1]=i(e[1],"resolve-",this,null,!1)})),t.on("executor-err",(function(e,t,r){e[1](r)})),t.on("cb-end",(function(e,r,n){t.emit("propagate",[n,!0],this.nextPromise,!1,!1)})),t.on("propagate",(function(e,r,n){this.getCtx&&!r||(this.getCtx=function(){if(e instanceof Promise)var r=t.context(e);return r&&r.getCtx?r.getCtx():this})}))}(),t}const U={},z="setTimeout",F="setInterval",B="clearTimeout",G="-start",q="-",K=[z,"setImmediate",F,B,"clearImmediate"];function V(e){const t=function(e){return(e||n.ee).get("timer")}(e);if(U[t.debugId]++)return t;U[t.debugId]=1;var r=c(t);return r.inPlace(f._A,K.slice(0,2),z+q),r.inPlace(f._A,K.slice(2,3),F+q),r.inPlace(f._A,K.slice(3),B+q),t.on(F+G,(function(e,t,n){e[0]=r(e[0],"fn-",null,n)})),t.on(z+G,(function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})),t}var Z=r(50);const W={},X=["open","send"];function Y(e){var t=e||n.ee;const r=function(e){return(e||n.ee).get("xhr")}(t);if(W[r.debugId]++)return r;W[r.debugId]=1,b(t);var i=c(r),o=f._A.XMLHttpRequest,a=f._A.MutationObserver,s=f._A.Promise,u=f._A.setInterval,d="readystatechange",l=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],h=[],p=f._A.XMLHttpRequest=function(e){const t=new o(e),n=r.context(t);try{r.emit("new-xhr",[t],n),t.addEventListener(d,(a=n,function(){var e=this;e.readyState>3&&!a.resolved&&(a.resolved=!0,r.emit("xhr-resolved",[],e)),i.inPlace(e,l,"fn-",w)}),(0,D.m$)(!1))}catch(e){(0,Z.Z)("An error occurred while intercepting XHR",e);try{r.emit("internal-error",[e])}catch(e){}}var a;return t};function g(e,t){i.inPlace(t,["onreadystatechange"],"fn-",w)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,p),p.prototype=o.prototype,i.inPlace(p.prototype,X,"-xhr-",w),r.on("send-xhr-start",(function(e,t){g(e,t),function(e){h.push(e),a&&(m?m.then(A):u?u(A):(v=-v,y.data=v))}(t)})),r.on("open-xhr-start",g),a){var m=s&&s.resolve();if(!u&&!s){var v=1,y=document.createTextNode(v);new a(A).observe(y,{characterData:!0})}}else t.on("fn-end",(function(e){e[0]&&e[0].type===d||A()}));function A(){for(var e=0;e<h.length;e++)g(0,h[e]);h.length&&(h=[])}function w(e,t){return t}return r}},7825:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.ajax},6660:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.jserrors},3081:(e,t,r)=>{"use strict";r.d(t,{gF:()=>o,mY:()=>i,t9:()=>n,vz:()=>s,xS:()=>a});const n=r(3325).D.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},4649:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageAction},7633:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageViewEvent},9251:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(3325).D.pageViewTiming},7144:(e,t,r)=>{"use strict";r.d(t,{Ef:()=>o,J0:()=>f,Mi:()=>l,Vb:()=>a,Ye:()=>c,fm:()=>u,i9:()=>s,pB:()=>h,t9:()=>i,u0:()=>d});var n=r(7056);const i=r(3325).D.sessionReplay,o={RECORD:"recordReplay",PAUSE:"pauseReplay",REPLAY_RUNNING:"replayRunning",ERROR_DURING_REPLAY:"errorDuringReplay"},a=.12,s={DomContentLoaded:0,Load:1,FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Custom:5},c=1e6,u=64e3,d={[n.IK.ERROR]:15e3,[n.IK.FULL]:3e5,[n.IK.OFF]:0},l={RESET:{message:"Session was reset",sm:"Reset"},IMPORT:{message:"Recorder failed to import",sm:"Import"},TOO_MANY:{message:"429: Too Many Requests",sm:"Too-Many"},TOO_BIG:{message:"Payload was too large",sm:"Too-Big"},CROSS_TAB:{message:"Session Entity was set to OFF on another tab",sm:"Cross-Tab"},ENTITLEMENTS:{message:"Session Replay is not allowed and will not be started",sm:"Entitlement"}},f=5e3,h={API:"api"}},3112:(e,t,r)=>{"use strict";r.d(t,{HM:()=>c,Rc:()=>a,rU:()=>s,wi:()=>u});var n=r(234),i=r(8488),o=r(385);function a(e){return!!n.Yu.MO&&(0,i.H)(e)&&!0===(0,n.Mt)(e,"session_trace.enabled")}function s(e){return!0===(0,n.Mt)(e,"session_replay.preload")&&a(e)}function c(e,t){return!!a(e)&&(!!t?.isNew||!!t?.state.sessionReplayMode)}function u(e,t){const r=t.correctAbsoluteTimestamp(e);return{originalTimestamp:e,correctedTimestamp:r,timestampDiff:e-r,originTime:o.sK,correctedOriginTime:t.correctedOriginTime,originTimeDiff:Math.floor(o.sK-t.correctedOriginTime)}}},3614:(e,t,r)=>{"use strict";r.d(t,{BST_RESOURCE:()=>i,END:()=>s,FEATURE_NAME:()=>n,FN_END:()=>u,FN_START:()=>c,PUSH_STATE:()=>d,RESOURCE:()=>o,START:()=>a,c:()=>l});const n=r(3325).D.sessionTrace,i="bstResource",o="resource",a="-start",s="-end",c="fn"+a,u="fn"+s,d="pushState",l=1e3},6216:(e,t,r)=>{"use strict";r.d(t,{K8:()=>s,QZ:()=>c,cS:()=>o,sE:()=>i,t9:()=>a,vh:()=>u});var n=r(3325);const i=["click","keydown","submit"],o="api",a=n.D.softNav,s={INITIAL_PAGE_LOAD:"",ROUTE_CHANGE:1,UNSPECIFIED:2},c={INTERACTION:1,AJAX:2,CUSTOM_END:3,CUSTOM_TRACER:4},u={IP:"in progress",FIN:"finished",CAN:"cancelled"}},7836:(e,t,r)=>{"use strict";r.d(t,{BODY:()=>E,CB_END:()=>_,CB_START:()=>u,END:()=>w,FEATURE_NAME:()=>i,FETCH:()=>R,FETCH_BODY:()=>v,FETCH_DONE:()=>m,FETCH_START:()=>g,FN_END:()=>c,FN_START:()=>s,INTERACTION:()=>f,INTERACTION_API:()=>d,INTERACTION_EVENTS:()=>o,JSONP_END:()=>b,JSONP_NODE:()=>p,JS_TIME:()=>x,MAX_TIMER_BUDGET:()=>a,REMAINING:()=>l,SPA_NODE:()=>h,START:()=>A,originalSetTimeout:()=>y});var n=r(234);const i=r(3325).D.spa,o=["click","submit","keypress","keydown","keyup","change"],a=999,s="fn-start",c="fn-end",u="cb-start",d="api-ixn-",l="remaining",f="interaction",h="spaNode",p="jsonpNode",g="fetch-start",m="fetch-done",v="fetch-body-",b="jsonp-end",y=n.Yu.ST,A="-start",w="-end",E="-body",_="cb"+w,x="jsTime",R="fetch"},5938:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(8325);class i{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=n.ee.get(e),this.featureName=r,this.blocked=!1}}},8488:(e,t,r)=>{"use strict";r.d(t,{H:()=>o});var n=r(234),i=r(385);const o=e=>i.il&&!0===(0,n.Mt)(e,"privacy.cookies_enabled")},2758:(e,t,r)=>{"use strict";r.d(t,{j:()=>_});var n=r(3325),i=r(234),o=r(5546),a=r(8325),s=r(8e3),c=r(3960),u=r(385),d=r(50),l=r(3081),f=r(8632),h=r(7144);const p=["setErrorHandler","finished","addToTrace","addRelease","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId","setApplicationVersion","start",h.Ef.RECORD,h.Ef.PAUSE],g=["setErrorHandler","finished","addToTrace","addRelease"];var m=r(7894),v=r(7056);function b(){const e=(0,f.gG)();p.forEach((t=>{e[t]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=[];return Object.values(e.initializedAgents).forEach((e=>{e.exposed&&e.api[t]&&o.push(e.api[t](...n))})),o.length>1?o:o[0]}(t,...n)}}))}const y={};var A=r(2825);const w=e=>{const t=e.startsWith("http");e+="/",r.p=t?e:"https://"+e};let E=!1;function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,_=arguments.length>3?arguments[3]:void 0,{init:x,info:R,loader_config:S,runtime:T={loaderType:p},exposed:N=!0}=t;const O=(0,f.gG)();R||(x=O.init,R=O.info,S=O.loader_config),(0,i.Dg)(e.agentIdentifier,x||{}),(0,i.GE)(e.agentIdentifier,S||{}),R.jsAttributes??={},u.v6&&(R.jsAttributes.isWorker=!0),(0,i.CX)(e.agentIdentifier,R);const I=(0,i.P_)(e.agentIdentifier),D=[R.beacon,R.errorBeacon];E||(I.proxy.assets&&(w(I.proxy.assets),D.push(I.proxy.assets)),I.proxy.beacon&&D.push(I.proxy.beacon),b(),(0,f.EZ)("activatedFeatures",A.T),e.runSoftNavOverSpa&&=!0===I.soft_navigations.enabled&&I.feature_flags.includes("soft_nav")),T.denyList=[...I.ajax.deny_list||[],...I.ajax.block_internal?D:[]],T.ptid=e.agentIdentifier,(0,i.sU)(e.agentIdentifier,T),void 0===e.api&&(e.api=function(e,t){let f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(0,s.RP)(e,"api");const p={};var b=a.ee.get(e),A=b.get("tracer");y[e]=v.IK.OFF,b.on(h.Ef.REPLAY_RUNNING,(t=>{y[e]=t}));var w="api-",E=w+"ixn-";function _(t,r,n,o){const a=(0,i.C5)(e);return null===r?delete a.jsAttributes[t]:(0,i.CX)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),S(w,n,!0,o||null===r?"session":void 0)(t,r)}function x(){}g.forEach((e=>{p[e]=S(w,e,!0,"api")})),p.addPageAction=S(w,"addPageAction",!0,n.D.pageAction),p.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,i.OP)(e).customTransaction=(r||"http://custom.transaction")+t,S(w,"setPageViewName",!0)()},p.setCustomAttribute=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e){if(["string","number","boolean"].includes(typeof t)||null===t)return _(e,t,"setCustomAttribute",r);(0,d.Z)("Failed to execute setCustomAttribute.\nNon-null value must be a string, number or boolean type, but a type of <".concat(typeof t,"> was provided."))}else(0,d.Z)("Failed to execute setCustomAttribute.\nName must be a string type, but a type of <".concat(typeof e,"> was provided."))},p.setUserId=function(e){if("string"==typeof e||null===e)return _("enduser.id",e,"setUserId",!0);(0,d.Z)("Failed to execute setUserId.\nNon-null value must be a string type, but a type of <".concat(typeof e,"> was provided."))},p.setApplicationVersion=function(e){if("string"==typeof e||null===e)return _("application.version",e,"setApplicationVersion",!1);(0,d.Z)("Failed to execute setApplicationVersion. Expected <String | null>, but got <".concat(typeof e,">."))},p.start=()=>{try{(0,o.p)(l.xS,["API/start/called"],void 0,n.D.metrics,b),b.emit("manual-start-all")}catch(e){(0,d.Z)("An unexpected issue occurred",e)}},p[h.Ef.RECORD]=function(){(0,o.p)(l.xS,["API/recordReplay/called"],void 0,n.D.metrics,b),(0,o.p)(h.Ef.RECORD,[],void 0,n.D.sessionReplay,b)},p[h.Ef.PAUSE]=function(){(0,o.p)(l.xS,["API/pauseReplay/called"],void 0,n.D.metrics,b),(0,o.p)(h.Ef.PAUSE,[],void 0,n.D.sessionReplay,b)},p.interaction=function(e){return(new x).get("object"==typeof e?e:{})};const R=x.prototype={createTracer:function(e,t){var r={},i=this,a="function"==typeof t;return(0,o.p)(l.xS,["API/createTracer/called"],void 0,n.D.metrics,b),f||(0,o.p)(E+"tracer",[(0,m.z)(),e,r],i,n.D.spa,b),function(){if(A.emit((a?"":"no-")+"fn-start",[(0,m.z)(),i,a],r),a)try{return t.apply(this,arguments)}catch(e){const t="string"==typeof e?new Error(e):e;throw A.emit("fn-err",[arguments,this,t],r),t}finally{A.emit("fn-end",[(0,m.z)()],r)}}}};function S(e,t,r,i){return function(){return(0,o.p)(l.xS,["API/"+t+"/called"],void 0,n.D.metrics,b),i&&(0,o.p)(e+t,[(0,m.z)(),...arguments],r?null:this,i,b),r?void 0:this}}function T(){r.e(111).then(r.bind(r,7438)).then((t=>{let{setAPI:r}=t;r(e),(0,s.LP)(e,"api")})).catch((e=>{(0,d.Z)("Downloading runtime APIs failed...",e),b.abort()}))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{R[e]=S(E,e,void 0,f?n.D.softNav:n.D.spa)})),p.setCurrentRouteName=f?S(E,"routeName",void 0,n.D.softNav):S(w,"routeName",!0,n.D.spa),p.noticeError=function(t,r){"string"==typeof t&&(t=new Error(t)),(0,o.p)(l.xS,["API/noticeError/called"],void 0,n.D.metrics,b),(0,o.p)("err",[t,(0,m.z)(),!1,r,!!y[e]],void 0,n.D.jserrors,b)},u.il?(0,c.b2)((()=>T()),!0):T(),p}(e.agentIdentifier,_,e.runSoftNavOverSpa)),void 0===e.exposed&&(e.exposed=N),E=!0}},8993:(e,t,r)=>{r.nc=(()=>{try{return document?.currentScript?.nonce}catch(e){}return""})()},3325:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,p:()=>i});const n={ajax:"ajax",jserrors:"jserrors",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionReplay:"session_replay",sessionTrace:"session_trace",softNav:"soft_navigations",spa:"spa"},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8,[n.softNav]:9,[n.sessionReplay]:10}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>({111:"nr-spa",164:"nr-spa-compressor",433:"nr-spa-recorder"}[e]+"-1.260.1.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA-1.260.1.PROD:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+o){s=l;break}}if(!s){c=!0;var f={111:"sha512-1vbJLadsUx7r3ct9dcZ8xWYWRwjt1ZgNM7ZGewgLIexOrwwEwfm93GALuGB8Z5SoqqsLLjmx45VxQ6hbq5d4tA==",433:"sha512-GiLzIBj56lJ8WJ2NzkmQbbP5bDfqc0PbS30+FFrYgYBhzMOWg3PDNb2OYCaGiWyvQagVT9CeRMBrrFe45RBNVA==",164:"sha512-89TYqrPxRo9GwsbxmRSsCdyC5BH41uIPaW0FFv5w92e97EnshpUozEOnd12Dqnl7LGF+GS5XJY3LfGAh5DzLyA=="};(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous"),f[a]&&(s.integrity=f[a])}e[r]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={801:0,92:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self["webpackChunk:NRBA-1.260.1.PROD"]=self["webpackChunk:NRBA-1.260.1.PROD"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";i(8993);var e=i(50),t=i(7144),r=i(4402),n=i(8325);class o{agentIdentifier;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.ky)(16);this.agentIdentifier=e,this.ee=n.ee.get(e)}#e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if("function"==typeof this.api?.[t])return this.api[t](...n);(0,e.Z)("Call to agent api ".concat(t," failed. The API is not currently initialized."))}addPageAction(e,t){return this.#e("addPageAction",e,t)}setPageViewName(e,t){return this.#e("setPageViewName",e,t)}setCustomAttribute(e,t,r){return this.#e("setCustomAttribute",e,t,r)}noticeError(e,t){return this.#e("noticeError",e,t)}setUserId(e){return this.#e("setUserId",e)}setApplicationVersion(e){return this.#e("setApplicationVersion",e)}setErrorHandler(e){return this.#e("setErrorHandler",e)}finished(e){return this.#e("finished",e)}addRelease(e,t){return this.#e("addRelease",e,t)}start(e){return this.#e("start",e)}recordReplay(){return this.#e(t.Ef.RECORD)}pauseReplay(){return this.#e(t.Ef.PAUSE)}addToTrace(e){return this.#e("addToTrace",e)}setCurrentRouteName(e){return this.#e("setCurrentRouteName",e)}interaction(){return this.#e("interaction")}}var a=i(3325),s=i(234);const c=Object.values(a.D);function u(e){const t={};return c.forEach((r=>{t[r]=function(e,t){return!0===(0,s.Mt)(t,"".concat(e,".enabled"))}(r,e)})),t}var d=i(2758);var l=i(8e3),f=i(5938),h=i(3960),p=i(385),g=i(3112),m=i(8488),v=i(7872);class b extends f.W{constructor(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];super(e,t,r),this.auto=n,this.abortHandler=void 0,this.featAggregate=void 0,this.onAggregateImported=void 0,!1===(0,s.Mt)(this.agentIdentifier,"".concat(this.featureName,".autoStart"))&&(this.auto=!1),this.auto?(0,l.RP)(e,r):this.ee.on("manual-start-all",(0,v.Z)((()=>{(0,l.RP)(this.agentIdentifier,this.featureName),this.auto=!0,this.importAggregator()})))}importAggregator(){let t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.featAggregate||!this.auto)return;this.onAggregateImported=new Promise((e=>{t=e}));const n=async()=>{let n;try{if((0,m.H)(this.agentIdentifier)){const{setupAgentSession:e}=await i.e(111).then(i.bind(i,9446));n=e(this.agentIdentifier)}}catch(t){(0,e.Z)("A problem occurred when starting up session manager. This page will not start or extend any session.",t),this.featureName===a.D.sessionReplay&&this.abortHandler?.()}try{if(!this.#t(this.featureName,n))return(0,l.LP)(this.agentIdentifier,this.featureName),void t(!1);const{lazyFeatureLoader:e}=await i.e(111).then(i.bind(i,8582)),{Aggregate:o}=await e(this.featureName,"aggregate");this.featAggregate=new o(this.agentIdentifier,this.aggregator,r),t(!0)}catch(r){(0,e.Z)("Downloading and initializing ".concat(this.featureName," failed..."),r),this.abortHandler?.(),(0,l.LP)(this.agentIdentifier,this.featureName,!0),t(!1),this.ee&&this.ee.abort()}};p.il?(0,h.b2)((()=>n()),!0):n()}#t(e,t){return e!==a.D.sessionReplay||(0,g.HM)(this.agentIdentifier,t)}}var y=i(7633);class A extends b{static featureName=y.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,y.t,r),this.importAggregator()}}var w=i(1117),E=i(1284);class _ extends w.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,E.D)(e,(function(e,r){t[e]=x(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,E.D)(r,(function(e,t){if("count"!==e){var n=a[e],i=r[e];i&&!i.c?a[e]=x(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=R(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=x(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&&this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r="",n=!1,i=0;i<e.length;i++)t[r=e[i]]=Object.values(this.aggregatedData[r]||{}),t[r].length&&(n=!0),delete this.aggregatedData[r];return n?t:null}}function x(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=R(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function R(e){return{t:e,min:e,max:e,sos:e*e,c:1}}var S=i(8632),T=i(4351);var N=i(5546),O=i(7956),I=i(3239),D=i(9251),P=i(7894);class C extends b{static featureName=D.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,D.t,r),p.il&&((0,O.N)((()=>(0,N.p)("docHidden",[(0,P.z)()],void 0,D.t,this.ee)),!0),(0,I.bP)("pagehide",(()=>(0,N.p)("winPagehide",[(0,P.z)()],void 0,D.t,this.ee))),this.importAggregator())}}var j=i(3081);class k extends b{static featureName=j.t9;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,j.t9,r),this.importAggregator()}}var L=i(6660);class H{constructor(e,t,r,n,i){this.name="UncaughtError",this.message="string"==typeof e?e:(0,T.P)(e),this.sourceURL=t,this.line=r,this.column=n,this.__newrelic=i}}function M(e){return F(e)?e:new H(void 0!==e?.message?e.message:e,e?.filename||e?.sourceURL,e?.lineno||e?.line,e?.colno||e?.col,e?.__newrelic)}function U(e){let t="Unhandled Promise Rejection";if(F(e?.reason))try{return e.reason.message=t+": "+e.reason.message,M(e.reason)}catch(t){return M(e.reason)}if(void 0===e.reason)return M(t);const r=M(e.reason);return r.message=t+": "+r?.message,r}function z(e){if(e.error instanceof SyntaxError&&!/:\d+$/.test(e.error.stack?.trim())){const t=new H(e.message,e.filename,e.lineno,e.colno,e.error.__newrelic);return t.name=SyntaxError.name,t}return F(e.error)?e.error:M(e)}function F(e){return e instanceof Error&&!!e.stack}class B extends b{static featureName=L.t;#r=!1;constructor(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,r,L.t,n);try{this.removeOnAbort=new AbortController}catch(e){}this.ee.on("internal-error",(e=>{this.abortHandler&&(0,N.p)("ierr",[M(e),(0,P.z)(),!0,{},this.#r],void 0,this.featureName,this.ee)})),this.ee.on(t.Ef.REPLAY_RUNNING,(e=>{this.#r=e})),p._A.addEventListener("unhandledrejection",(e=>{this.abortHandler&&(0,N.p)("err",[U(e),(0,P.z)(),!1,{unhandledPromiseRejection:1},this.#r],void 0,this.featureName,this.ee)}),(0,I.m$)(!1,this.removeOnAbort?.signal)),p._A.addEventListener("error",(e=>{this.abortHandler&&(0,N.p)("err",[z(e),(0,P.z)(),!1,{},this.#r],void 0,this.featureName,this.ee)}),(0,I.m$)(!1,this.removeOnAbort?.signal)),this.abortHandler=this.#n,this.importAggregator()}#n(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}var G=i(2210);let q=1;const K="nr@id";function V(e){const t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===p._A?0:(0,G.X)(e,K,(function(){return q++}))}function Z(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,T.P)(e).length}catch(e){return}}}var W=i(7806),X=i(7243);class Y{constructor(e){this.agentIdentifier=e}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var t=(0,s.DL)(this.agentIdentifier);if(!t)return null;var n=(t.accountID||"").toString()||null,i=(t.agentID||"").toString()||null,o=(t.trustKey||"").toString()||null;if(!n||!i)return null;var a=(0,r.M)(),c=(0,r.Ht)(),u=Date.now(),d={spanId:a,traceId:c,timestamp:u};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(d.traceContextParentHeader=this.generateTraceContextParentHeader(a,c),d.traceContextStateHeader=this.generateTraceContextStateHeader(a,u,n,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(d.newrelicHeader=this.generateTraceHeader(a,c,u,n,i,o)),d}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof p._A?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,T.P)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var t=!1,r={};if((0,s.Mt)(this.agentIdentifier,"distributed_tracing")&&(r=(0,s.P_)(this.agentIdentifier).distributed_tracing),e.sameOrigin)t=!0;else if(r.allowed_origins instanceof Array)for(var n=0;n<r.allowed_origins.length;n++){var i=(0,X.e)(r.allowed_origins[n]);if(e.hostname===i.hostname&&e.protocol===i.protocol&&e.port===i.port){t=!0;break}}return t}isDtEnabled(){var e=(0,s.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,s.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,s.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,s.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var J=i(7825),Q=i(1199),ee=["load","error","abort","timeout"],te=ee.length,re=s.Yu.REQ,ne=s.Yu.XHR;class ie extends b{static featureName=J.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,J.t,r),this.dt=new Y(e),this.handler=(e,t,r,n)=>(0,N.p)(e,t,r,n,this.ee);try{const e={xmlhttprequest:"xhr",fetch:"fetch",beacon:"beacon"};p._A?.performance?.getEntriesByType("resource").forEach((t=>{if(t.initiatorType in e&&0!==t.responseStatus){const r={status:t.responseStatus},n={rxSize:t.transferSize,duration:Math.floor(t.duration),cbTime:0};oe(r,t.name),this.handler("xhr",[r,n,t.startTime,t.responseEnd,e[t.initiatorType]],void 0,a.D.ajax)}}))}catch(e){}(0,W.u5)(this.ee),(0,W.Kf)(this.ee),function(e,t,r,n){function i(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=E,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){_(t,e)}),(0,I.m$)(!1)),p.IF||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,I.m$)(!1))}function o(e){this.params={method:e[0]},oe(this,e[1]),this.metrics={}}function c(t,r){var i=(0,s.DL)(e);i.xpid&&this.sameOrigin&&r.setRequestHeader("X-NewRelic-ID",i.xpid);var o=n.generateTracePayload(this.parsedOrigin);if(o){var a=!1;o.newrelicHeader&&(r.setRequestHeader("newrelic",o.newrelicHeader),a=!0),o.traceContextParentHeader&&(r.setRequestHeader("traceparent",o.traceContextParentHeader),o.traceContextStateHeader&&r.setRequestHeader("tracestate",o.traceContextStateHeader),a=!0),a&&(this.dt=o)}}function u(e,r){var n=this.metrics,i=e[0],o=this;if(n&&i){var a=Z(i);a&&(n.txSize=a)}this.startTime=(0,P.z)(),this.body=i,this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof r.onload)&&"function"==typeof o.end)&&o.end(r)}catch(e){try{t.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<te;s++)r.addEventListener(ee[s],this.listener,(0,I.m$)(!1))}function d(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function l(e,t){var r=""+V(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function f(e,t){var r=""+V(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function h(){this.endTime=(0,P.z)()}function g(e,r){r instanceof ne&&"load"===e[0]&&t.emit("xhr-load-added",[e[1],e[2]],r)}function m(e,r){r instanceof ne&&"load"===e[0]&&t.emit("xhr-load-removed",[e[1],e[2]],r)}function v(e,t,r){t instanceof ne&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,P.z)()))}function b(e,r){this.xhrCbStart&&t.emit("xhr-cb-time",[(0,P.z)()-this.xhrCbStart,this.onload,r],r)}function y(e){var t,r=e[1]||{};if("string"==typeof e[0]?0===(t=e[0]).length&&p.il&&(t=""+p._A.location.href):e[0]&&e[0].url?t=e[0].url:p._A?.URL&&e[0]&&e[0]instanceof URL?t=e[0].href:"function"==typeof e[0].toString&&(t=e[0].toString()),"string"==typeof t&&0!==t.length){t&&(this.parsedOrigin=(0,X.e)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var i=n.generateTracePayload(this.parsedOrigin);if(i&&(i.newrelicHeader||i.traceContextParentHeader))if(e[0]&&e[0].headers)s(e[0].headers,i)&&(this.dt=i);else{var o={};for(var a in r)o[a]=r[a];o.headers=new Headers(r.headers||{}),s(o.headers,i)&&(this.dt=i),e.length>1?e[1]=o:e.push(o)}}function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function A(e,t){this.params={},this.metrics={},this.startTime=(0,P.z)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof re?r=i.url:p._A?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),oe(this,r);var o=(""+(i&&i instanceof re&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.body=n.body,this.txSize=Z(n.body)||0}function w(e,t){if(this.endTime=(0,P.z)(),this.params||(this.params={}),(0,Q.zh)(this.params))return;let n;this.params.status=t?t.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);const i={txSize:this.txSize,rxSize:n,duration:(0,P.z)()-this.startTime};r("xhr",[this.params,i,this.startTime,this.endTime,"fetch"],this,a.D.ajax)}function E(e){const t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(let t=0;t<te;t++)e.removeEventListener(ee[t],this.listener,!1);t.aborted||(0,Q.zh)(t)||(n.duration=(0,P.z)()-this.startTime,this.loadCaptureCalled||4!==e.readyState?null==t.status&&(t.status=0):_(this,e),n.cbTime=this.cbTime,r("xhr",[t,n,this.startTime,this.endTime,"xhr"],this,a.D.ajax))}}function _(e,r){e.params.status=r.status;var n=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?Z(e.response):"text"===r||""===r||void 0===r?Z(e.responseText):void 0}(r,e.lastSize);if(n&&(e.metrics.rxSize=n),e.sameOrigin){var i=r.getResponseHeader("X-NewRelic-App-Data");i&&((0,N.p)(j.mY,["Ajax/CrossApplicationTracing/Header/Seen"],void 0,a.D.metrics,t),e.params.cat=i.split(", ").pop())}e.loadCaptureCalled=!0}t.on("new-xhr",i),t.on("open-xhr-start",o),t.on("open-xhr-end",c),t.on("send-xhr-start",u),t.on("xhr-cb-time",d),t.on("xhr-load-added",l),t.on("xhr-load-removed",f),t.on("xhr-resolved",h),t.on("addEventListener-end",g),t.on("removeEventListener-end",m),t.on("fn-end",b),t.on("fetch-before-start",y),t.on("fetch-start",A),t.on("fn-start",v),t.on("fetch-done",w)}(e,this.ee,this.handler,this.dt),this.importAggregator()}}function oe(e,t){var r=(0,X.e)(t),n=e.params||e;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}var ae=i(3614);const{BST_RESOURCE:se,RESOURCE:ce,START:ue,END:de,FEATURE_NAME:le,FN_END:fe,FN_START:he,PUSH_STATE:pe}=ae;var ge=i(7056);class me extends b{static featureName=t.t9;#i;constructor(e,r){let n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,r,t.t9,i),this.replayRunning=!1;try{n=JSON.parse(localStorage.getItem("".concat(ge.Bq,"_").concat(ge.K4)))}catch(e){}(0,g.Rc)(e)&&this.ee.on("recordReplay",(()=>this.#o())),this.#a(n)?(this.#i=n?.sessionReplayMode,this.#s()):this.importAggregator(),this.ee.on("err",(e=>{this.replayRunning&&(this.errorNoticed=!0,(0,N.p)(t.Ef.ERROR_DURING_REPLAY,[e],void 0,this.featureName,this.ee))})),this.ee.on(t.Ef.REPLAY_RUNNING,(e=>{this.replayRunning=e}))}#a(e){return e&&(e.sessionReplayMode===ge.IK.FULL||e.sessionReplayMode===ge.IK.ERROR)||(0,g.rU)(this.agentIdentifier)}#c=!1;async#s(e){if(!this.#c){this.#c=!0;try{const{Recorder:t}=await Promise.all([i.e(111),i.e(433)]).then(i.bind(i,4345));this.recorder??=new t({mode:this.#i,agentIdentifier:this.agentIdentifier,trigger:e,ee:this.ee}),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording}catch(e){}this.importAggregator({recorder:this.recorder,errorNoticed:this.errorNoticed})}}#o(){this.featAggregate?this.featAggregate.mode!==ge.IK.FULL&&this.featAggregate.initializeRecording(ge.IK.FULL,!0):(this.#i=ge.IK.FULL,this.#s(t.pB.API),this.recorder&&this.recorder.parent.mode!==ge.IK.FULL&&(this.recorder.parent.mode=ge.IK.FULL,this.recorder.stopRecording(),this.recorder.startRecording(),this.abortHandler=this.recorder.stopRecording))}}var ve=i(6216);class be extends b{static featureName=ve.t9;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(super(e,t,ve.t9,r),!p.il||!s.Yu.MO)return;const n=(0,W.QU)(this.ee),i=(0,W.em)(this.ee),o=()=>(0,N.p)("newURL",[(0,P.z)(),""+window.location],void 0,this.featureName,this.ee);n.on("pushState-end",o),n.on("replaceState-end",o);try{this.removeOnAbort=new AbortController}catch(e){}(0,I.bP)("popstate",(e=>(0,N.p)("newURL",[e.timeStamp,""+window.location],void 0,this.featureName,this.ee)),!0,this.removeOnAbort?.signal);let a=!1;const c=new s.Yu.MO(((e,t)=>{a||(a=!0,requestAnimationFrame((()=>{(0,N.p)("newDom",[(0,P.z)()],void 0,this.featureName,this.ee),a=!1})))})),u=(0,v.D)((e=>{(0,N.p)("newUIEvent",[e],void 0,this.featureName,this.ee),c.observe(document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}),100,{leading:!0});i.on("fn-start",(e=>{let[t]=e;ve.sE.includes(t?.type)&&u(t)}));for(let e of ve.sE)document.addEventListener(e,(()=>{}));this.abortHandler=function(){this.removeOnAbort?.abort(),c.disconnect(),this.abortHandler=void 0},this.importAggregator({domObserver:c})}}var ye=i(7836);const{FEATURE_NAME:Ae,START:we,END:Ee,BODY:_e,CB_END:xe,JS_TIME:Re,FETCH:Se,FN_START:Te,CB_START:Ne,FN_END:Oe}=ye;var Ie=i(4649);class De extends b{static featureName=Ie.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,Ie.t,r),this.importAggregator()}}new class extends o{constructor(t,r){super(r),p._A?(this.sharedAggregator=new _({agentIdentifier:this.agentIdentifier}),this.features={},(0,S.h5)(this.agentIdentifier,this),this.desiredFeatures=new Set(t.features||[]),this.desiredFeatures.add(A),this.runSoftNavOverSpa=[...this.desiredFeatures].some((e=>e.featureName===a.D.softNav)),(0,d.j)(this,t,t.loaderType||"agent"),this.run()):(0,e.Z)("Failed to initialize the agent. Could not determine the runtime environment.")}get config(){return{info:this.info,init:this.init,loader_config:this.loader_config,runtime:this.runtime}}run(){try{const t=u(this.agentIdentifier),r=[...this.desiredFeatures];r.sort(((e,t)=>a.p[e.featureName]-a.p[t.featureName])),r.forEach((r=>{if(!t[r.featureName]&&r.featureName!==a.D.pageViewEvent)return;if(this.runSoftNavOverSpa&&r.featureName===a.D.spa)return;if(!this.runSoftNavOverSpa&&r.featureName===a.D.softNav)return;const n=function(e){switch(e){case a.D.ajax:return[a.D.jserrors];case a.D.sessionTrace:return[a.D.ajax,a.D.pageViewEvent];case a.D.sessionReplay:return[a.D.sessionTrace];case a.D.pageViewTiming:return[a.D.pageViewEvent];default:return[]}}(r.featureName);n.every((e=>e in this.features))||(0,e.Z)("".concat(r.featureName," is enabled but one or more dependent features has not been initialized (").concat((0,T.P)(n),"). This may cause unintended consequences or missing data...")),this.features[r.featureName]=new r(this.agentIdentifier,this.sharedAggregator)}))}catch(t){(0,e.Z)("Failed to initialize all enabled instrument classes (agent aborted) -",t);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,S.fP)();delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.features,delete this.sharedAggregator;return r.ee.get(this.agentIdentifier).abort(),!1}}}({features:[ie,A,C,class extends b{static featureName=le;constructor(e,t){super(e,t,le,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]);if(!(0,m.H)(this.agentIdentifier))return void(0,l.o5)(this.agentIdentifier,this.featureName);const r=this.ee;let n;(0,W.QU)(r),this.eventsEE=(0,W.em)(r),this.eventsEE.on(he,(function(e,t){this.bstStart=(0,P.z)()})),this.eventsEE.on(fe,(function(e,t){(0,N.p)("bst",[e[0],t,this.bstStart,(0,P.z)()],void 0,a.D.sessionTrace,r)})),r.on(pe+ue,(function(e){this.time=(0,P.z)(),this.startPath=location.pathname+location.hash})),r.on(pe+de,(function(e){(0,N.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,a.D.sessionTrace,r)}));try{n=new PerformanceObserver((e=>{const t=e.getEntries();(0,N.p)(se,[t],void 0,a.D.sessionTrace,r)})),n.observe({type:ce,buffered:!0})}catch(e){}this.importAggregator({resourceObserver:n})}},me,k,De,B,be,class extends b{static featureName=Ae;constructor(e,t){var r;if(super(e,t,Ae,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),r=this,!p.il)return;try{this.removeOnAbort=new AbortController}catch(e){}let n,i=0;const o=this.ee.get("tracer"),a=(0,W._L)(this.ee),s=(0,W.Lg)(this.ee),c=(0,W.BV)(this.ee),u=(0,W.Kf)(this.ee),d=this.ee.get("events"),l=(0,W.u5)(this.ee),f=(0,W.QU)(this.ee),h=(0,W.Gm)(this.ee);function g(e,t){f.emit("newURL",[""+window.location,t])}function m(){i++,n=window.location.hash,this[Te]=(0,P.z)()}function v(){i--,window.location.hash!==n&&g(0,!0);var e=(0,P.z)();this[Re]=~~this[Re]+e-this[Te],this[Oe]=e}function b(e,t){e.on(t,(function(){this[t]=(0,P.z)()}))}this.ee.on(Te,m),s.on(Ne,m),a.on(Ne,m),this.ee.on(Oe,v),s.on(xe,v),a.on(xe,v),this.ee.on("fn-err",(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n[2]?.__newrelic?.[e]||(0,N.p)("function-err",[...n],void 0,r.featureName,r.ee)})),this.ee.buffer([Te,Oe,"xhr-resolved"],this.featureName),d.buffer([Te],this.featureName),c.buffer(["setTimeout"+Ee,"clearTimeout"+we,Te],this.featureName),u.buffer([Te,"new-xhr","send-xhr"+we],this.featureName),l.buffer([Se+we,Se+"-done",Se+_e+we,Se+_e+Ee],this.featureName),f.buffer(["newURL"],this.featureName),h.buffer([Te],this.featureName),s.buffer(["propagate",Ne,xe,"executor-err","resolve"+we],this.featureName),o.buffer([Te,"no-"+Te],this.featureName),a.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"],this.featureName),b(l,Se+we),b(l,Se+"-done"),b(a,"new-jsonp"),b(a,"jsonp-end"),b(a,"cb-start"),f.on("pushState-end",g),f.on("replaceState-end",g),window.addEventListener("hashchange",g,(0,I.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("load",g,(0,I.m$)(!0,this.removeOnAbort?.signal)),window.addEventListener("popstate",(function(){g(0,i>1)}),(0,I.m$)(!0,this.removeOnAbort?.signal)),this.abortHandler=this.#n,this.importAggregator()}#n(){this.removeOnAbort?.abort(),this.abortHandler=void 0}}],loaderType:"spa"})})()})();</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"646c3c011e","applicationID":"1102899027","transactionName":"Z1NQZEtSCEcAVEQPWF4ZdEVXUBJdDlkfBFJeQl1vWl4VGgdFXwhDVVhWHk9aA0MSDUIDWVRTQG9VWhBRPkdRAVI=","queueTime":5,"applicationTime":110,"agent":""}</script>
    <link type="text/css" href="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/lib/bootstrap.css" rel="stylesheet" />
    <link type="text/css" href="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/lib/bootstrap-responsive.css" rel="stylesheet" />
    <link type="text/css" href="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/css/frontend_style.css" rel="stylesheet" />
    <link type="text/css" href="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/js/frontend_js.css" rel="stylesheet" />
    

    <title>Veteran Stories</title><meta name="description" content="Veteran Stories from Pioneer PBS"/><meta property="fb:pages" content="146908345354012"/><!-- Twitter Card data --><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@PioneerPBS"/><meta name="twitter:title" content="Veteran Stories"><meta name="twitter:description"
      content="Veteran Stories from Pioneer PBS"/><meta name="twitter:image" content="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Playlists/Stories%20of%20Service/afb5725c89_Veteran%20Stories.jpg"/><meta name="thumbnail" content="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Playlists/Stories%20of%20Service/afb5725c89_Veteran%20Stories.jpg"/><!-- Open Graph data --><meta property="og:title" content="Veteran Stories"/><meta property="og:type" content="website"/><meta property="og:url" content="https://www.pioneer.org/veteran-stories/"/><meta property="og:image" content="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Playlists/Stories%20of%20Service/afb5725c89_Veteran%20Stories.jpg"/><meta property="og:description"
      content="Veteran Stories from Pioneer PBS"/><meta property="og:site_name" content="Pioneer PBS"/><meta name="robots" content="index, follow"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/><link rel="apple-touch-icon" sizes="180x180" href="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/PBS%20National/Official%20PBS%20logo/aaac26c5b7_PBS_P-Head-01.png?resize=180x180"><link rel="icon" type="image/png" href="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/PBS%20National/Official%20PBS%20logo/aaac26c5b7_PBS_P-Head-01.png?resize=32x32" sizes="32x32"><link rel="icon" type="image/png" href="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/PBS%20National/Official%20PBS%20logo/aaac26c5b7_PBS_P-Head-01.png?resize=16x16" sizes="16x16"><meta name="theme-color" content="#438eb9"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-D10XM2N4J4"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-D10XM2N4J4');
</script><!-- Google Ad Manager --><script async src="https://securepubads.g.doubleclick.net/tag/js/gpt.js"></script><script>
    window.googletag = window.googletag || {cmd: []};
</script><!-- End Google Ad Manager --><script type="application/ld+json">

{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "url": "https://www.pioneer.org/veteran-stories/",
    "name": "Veteran Stories",
    "description": "Veteran Stories from Pioneer PBS",
    "publisher": {
        "@type": "Organization",
        "name": "Pioneer PBS",
        "logo": {}
    },
    "keywords": "",
    "image": {
        "@type": "ImageObject",
        "url": "https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Playlists/Stories%20of%20Service/afb5725c89_Veteran%20Stories.jpg",
        "width": 724,
        "height": 171
    }
}

</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TH9PCPB');</script><!-- End Google Tag Manager -->
</head>

<body id="page-133243" class="studio bento3">
<style type="text/css">
        a {
    color: #2638c4;
}

a:hover,
a:active,
a:visited {
    color: #0f1e8c;
}

/* expose accent classes */

.colorPalette-main {
    color: #2638c4 !important;
}

.colorPalette-accent1 {
    color: #0f1e8c !important;
}

.colorPalette-accent2 {
    color: #d3d7f3 !important;
}

.colorPalette-accent3 {
    color: #e9ebf9 !important;
}

.colorPalette-accent4 {
    color: #eef0f5 !important;
}


    </style>

<!-- Google Tag Manager (noscript) --><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-TH9PCPB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><!-- End Google Tag Manager (noscript) --><header><a href="#main-content" class="skipnav" aria-label="skip to main link">
                    Skip to main content
                </a><div class="row-fluid"><style type="text/css">
        

#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.layout-padding {
        padding: px px px px;
    }
}

#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {
    background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");
}


@media (min-width: 1200px) {#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");}}@media (min-width: 768px) and (max-width: 991px) {#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");}}@media (min-width: 576px) and (max-width: 767px) {#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");}}@media (max-width: 575px) {#layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0.container.has-background-image {background-image: url("https://dc79r36mj3c9w.cloudfront.net/prod/3.77.0/staticfiles/dist/app/components/sidebar/media/default-image.svg?944047e5bcf7537758fbcf894867be43");}}

        </style><div id=""><div id="layout-a5f76c7d-32d9-4681-98f9-e91fc7e7dca0"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-3738ee44-cd4c-436a-bfde-f1c36b4ef957"
                 class="span12 column-12
                 "><div id="component-d3559a80-d395-11e7-890b-8db9bd778da8" class="component"><style type="text/css">
        
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger * {
    fill: #2638c4 !important;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger:hover *,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger:focus * {
    fill: #0f1e8c !important;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger {
    border-color: #2638c4 !important;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger:hover,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu__trigger:focus {
    border-color: #0f1e8c !important;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav {
    border-bottom: 4px solid #2638c4 !important;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .menu__li:hover > .menu-item,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .menu__li:focus > .menu-item {
    background-color: #eef0f5;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .dropdown-menu,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .submenu,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .menu__li.submenu-is-open {
    background-color: #eef0f5;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .menu-promo,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .links,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .menu-promo-wrapper,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .links-wrapper {
    background: transparent;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .station-header-search:hover,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .station-header-search:focus {
    background-color: #eef0f5;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav + .menu--navbar-nav__spacer {
    background-color: #eef0f5;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .submenu__li .menu-item{
    color: #2638c4;
}

#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .submenu__li .menu-item:hover,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .submenu__li .menu-item:focus,
#component-d3559a80-d395-11e7-890b-8db9bd778da8 .menu--navbar-nav .submenu__li .menu-item:visited{
    color: #0f1e8c;
}



@media screen and (min-width: 1025px) {
  .menu__trigger {
    display: none;
  }
}

    </style><nav id="d3559a80-d395-11e7-890b-8db9bd778da8" 
    class="station-header menu--default menu--navbar-nav container
    navbar-fixed-top
    has-search"
><button class="menu__trigger"><svg width="150" height="110" viewBox="0 0 150 110" xmlns="http://www.w3.org/2000/svg" class="pbs-hamburger" aria-labelledby="pbs-hamburger__title-d3559a80-d395-11e7-890b-8db9bd778da8"><title id="pbs-hamburger__title-d3559a80-d395-11e7-890b-8db9bd778da8">
            Menu
          </title><path class="path1" d="M0,2c0-1.1,0.9-2,2-2h146c1.1,0,2,0.9,2,2v16c0,1.1-0.9,2-2,2H2c-1.1,0-2-0.9-2-2V2L0,2z"/><path class="path2" d="M0,47c0-1.1,0.9-2,2-2h146c1.1,0,2,0.9,2,2v16c0,1.1-0.9,2-2,2H2c-1.1,0-2-0.9-2-2V47L0,47z"/><path class="path3" d="M0,47c0-1.1,0.9-2,2-2h146c1.1,0,2,0.9,2,2v16c0,1.1-0.9,2-2,2H2c-1.1,0-2-0.9-2-2V47L0,47z"/><path class="path4" d="M0,92c0-1.1,0.9-2,2-2h146c1.1,0,2,0.9,2,2v16c0,1.1-0.9,2-2,2H2c-1.1,0-2-0.9-2-2V92L0,92z"/></svg></button><div class="menu-container clearfix"><a aria-label="Serving the creative economy of rural Minnesota link" href="https://www.pioneer.org/" class="station-header-logo"><img
                    loading="eager"
                    src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png"
                    
                    
                        
                    srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9418936209_PioneerPBS_Blue.png?resize=575x,no-scale-up 575w"
                    sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                    
                    alt="Serving the creative economy of rural Minnesota"/></a><ul class="navbar-nav menu__ul
               align-left"><li id="cf7f200b-e6a9-479d-a427-3abac059a91b" class="menu__li "><a  aria-label="Schedule link"
    
    href="/schedule/"
      
    

    class="menu-item
    
    "
    >
    Schedule
    
  </a></li><li id="287acc01-1abe-4ac1-ac50-8e715efa61f1" class="menu__li "><a  aria-label="Pioneer Programs link"
    
    href="javascript:void(0)"
    

    class="menu-item
    
    
    has-children
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    "
    >
    Pioneer Programs
    
    <i class="menu-item-caret fas fa-angle-down" aria-hidden="true"></i></a><button class="submenu__trigger" aria-label="Open Submenu"><i class="menu-item-caret fas fa-caret-down" aria-hidden="true"></i></button><ul class="submenu mega-menu"><li><div class="row-fluid"><style type="text/css">
        

#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-c933c667-2edf-4d47-9421-6579daa053e8.container.layout-padding {
        padding: px px px px;
    }
}

#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-c933c667-2edf-4d47-9421-6579daa053e8.container.has-background-image {background-image: url("575w");}}

        </style><div id="Layout"><div id="layout-c933c667-2edf-4d47-9421-6579daa053e8"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-1a31f7c3-17da-4b41-9e2f-2068429ebc0d"
                 class="span4 column-4
                 "><div id="component-73a6b730-4980-11ec-87f1-9d657fdb2341" class="component"><style type="text/css">
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-component,
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-wrapper {
    background-color: #eef0f5;
}

#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-title a {
    color: #2638c4;
}

#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-title a:hover,
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-title a:focus,
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-title a:visited{
    color: #0f1e8c;
}


#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-list .list-element-container a {
    color: #2638c4;
}

#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-list .list-element-container a:hover,
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-list .list-element-container a:focus,
#component-73a6b730-4980-11ec-87f1-9d657fdb2341 .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="73a6b730-4980-11ec-87f1-9d657fdb2341" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Local Shows


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://www.pioneer.org/postcards/" aria-label="Postcards link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Postcards
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/prairiesportsman/" aria-label="Prairie Sportsman link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Prairie Sportsman
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/pyg/" aria-label="Prairie Yard &amp; Garden link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Prairie Yard &amp; Garden
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/compass/" aria-label="Compass link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Compass
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/yourlegislators/" aria-label="Your Legislators link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Your Legislators
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/funtimepolkaparty/" aria-label="Funtime Polka Party link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Funtime Polka Party
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://www.pioneer.org/landmarks/" aria-label="LANDMARKS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        LANDMARKS
    </a></li><li class="list-element-container has-link"><a href="/WHEELS/" aria-label="WHEELS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        WHEELS
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/grasslandjam/" aria-label="Grassland Jam link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Grassland Jam
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/specials/4h/" aria-label="Minnesota 4-H&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Minnesota 4-H&nbsp;
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/show/stage/" aria-label="On Stage link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        On Stage
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/show/my-way-back-home/" aria-label="My Way Back Home link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        My Way Back Home
    </a></li></div></ul></div></div></div></div></div><div id="column-4c9faa80-d632-40df-93d3-c8ec524d55e1"
                 class="span4 column-4
                 "><div id="component-04181ef0-3385-11ed-8b92-b9b26e1574a8" class="component"><style type="text/css">
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-component,
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-wrapper {
    background-color: #eef0f5;
}

#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-title a {
    color: #2638c4;
}

#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-title a:hover,
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-title a:focus,
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-title a:visited{
    color: #0f1e8c;
}


#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-list .list-element-container a {
    color: #2638c4;
}

#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-list .list-element-container a:hover,
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-list .list-element-container a:focus,
#component-04181ef0-3385-11ed-8b92-b9b26e1574a8 .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="04181ef0-3385-11ed-8b92-b9b26e1574a8" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Pioneer PBS Specials


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/luck-love-a-rodeo-story-wpvzpe/" aria-label="Luck &amp; Love: A Rodeo Story link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Luck &amp; Love: A Rodeo Story
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/eight-women-together-alone-iojeye/" aria-label="Eight Women Together Alone | The Willmar 8 link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Eight Women Together Alone | The Willmar 8
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/wwii-ace-a-heros-experience-legion-baseball-banquet-fjnavt/" aria-label="WWII Ace: A Hero's Experience | Legion Baseball Banquet link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        WWII Ace: A Hero's Experience | Legion Baseball Banquet
    </a></li><li class="list-element-container has-link"><a href="/SAKSANICA/" aria-label="SAKSANICA link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        SAKSANICA
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/state-of-polka-pxjddg/" aria-label="State of Polka link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        State of Polka
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/built-with-love-6cahbm/" aria-label="Built with Love link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Built with Love
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/made-in-sweden-tdr6bq/" aria-label="Made in Sweden link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Made in Sweden
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/remembering-wwii-heroes-and-history-kpjsth/" aria-label="Remembering WWII: Heroes and History link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Remembering WWII: Heroes and History
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/playing-haydn-for-the-angel-of-death-f3yjnd/" aria-label="Playing Haydn for the Angel of Death link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Playing Haydn for the Angel of Death
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/sympathetic-strings-a3bo4n/" aria-label="Sympathetic Strings link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Sympathetic Strings
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/the-devils-instrument-zcmrch/" aria-label="The Devil's Instrument&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        The Devil's Instrument&nbsp;
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/the-horse-relative-ovnggq/" aria-label="The Horse Relative link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        The Horse Relative
    </a></li></div></ul></div></div></div></div></div><div id="column-9e230850-df04-497a-ab08-c5d9091c5c3f"
                 class="span4 column-4
                 "><div id="component-50c63640-a411-11ed-9d75-ed3285e7a45b" class="component"><style type="text/css">
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-component,
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-wrapper {
    background-color: #eef0f5;
}

#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-title a {
    color: #2638c4;
}

#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-title a:hover,
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-title a:focus,
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-title a:visited{
    color: #0f1e8c;
}


#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-list .list-element-container a {
    color: #2638c4;
}

#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-list .list-element-container a:hover,
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-list .list-element-container a:focus,
#component-50c63640-a411-11ed-9d75-ed3285e7a45b .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="50c63640-a411-11ed-9d75-ed3285e7a45b" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Video Playlists


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/specials/" aria-label="Pioneer PBS Specials link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer PBS Specials
    </a></li><li class="list-element-container has-link"><a href="/emmys/" aria-label="Upper Midwest Emmy Nominees and Wins link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Upper Midwest Emmy Nominees and Wins
    </a></li><li class="list-element-container has-link"><a href="/scandinavian/" aria-label="Scandinavian link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Scandinavian
    </a></li><li class="list-element-container has-link"><a href="/native-stories/" aria-label="Native Stories link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Native Stories
    </a></li><li class="list-element-container has-link"><a href="/compass/aging-well/" aria-label="Aging Well in MN&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Aging Well in MN&nbsp;
    </a></li><li class="list-element-container has-link"><a href="/veteran-stories/" aria-label="Veteran Stories&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Veteran Stories&nbsp;
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/montevideo-to-montevideo/" aria-label="Montevideo Sister City link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Montevideo Sister City
    </a></li><li class="list-element-container has-link"><a href="/storiesfromgranitefalls/" aria-label="Granite Falls link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Granite Falls
    </a></li></div></ul></div></div></div></div></div></div></div></div></li></ul></li><li id="4d964b14-813a-499b-acf7-604992158e45" class="menu__li "><a  aria-label="Watch PBS link"
    
    href="javascript:void(0)"
    

    class="menu-item
    
    "
    >
    Watch PBS
    
  </a><button class="submenu__trigger" aria-label="Open Submenu"><i class="menu-item-caret fas fa-caret-down" aria-hidden="true"></i></button><ul class="submenu mega-menu"><li><div class="row-fluid"><style type="text/css">
        

#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.layout-padding {
        padding: px px px px;
    }
}

#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-b216fc69-f554-4c1f-8d76-f776b75f51c5.container.has-background-image {background-image: url("575w");}}

        </style><div id="Layout"><div id="layout-b216fc69-f554-4c1f-8d76-f776b75f51c5"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-b2b987f4-cab0-4a11-a589-b91a949c9c08"
                 class="span4 column-4
                 "><div id="component-919b5310-4bcc-11ec-94ee-898cdeb753a2" class="component"><div id="919b5310-4bcc-11ec-94ee-898cdeb753a2" class="menu-promo-component"><style type="text/css">
    #component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo,
#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-title a:hover,
#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-title a:focus,
#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-919b5310-4bcc-11ec-94ee-898cdeb753a2 .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    Pioneer PBS Passport


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png"
                             
                             
                                 
                                 srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/4169d752c3_Passport%20Polar%20Bear.png?resize=575x,no-scale-up 575w"
                                 sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    Pioneer PBS Passport is a member benefit for $60 a year, or for sustainers for $5/month that provides extended access to an on-demand library of quality public television programming. Watch programs early, view programs not on air, and enjoy the best of PBS on our Pioneer PBS Video player or on the PBS App.
                </div><div class="menu-promo-details-container"><a href="https://www.pioneer.org/passport/" aria-label="Learn More About Passport link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Learn More About Passport
    </a></div></div></div></div></div></div></div><div id="column-0c743c86-4cd1-4c34-9616-8c4bff53e6e9"
                 class="span4 column-4
                 "><div id="component-8d73a7a0-d13d-11ec-b64e-e30af10564aa" class="component"><div id="8d73a7a0-d13d-11ec-b64e-e30af10564aa" class="menu-promo-component"><style type="text/css">
    #component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo,
#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-title a:hover,
#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-title a:focus,
#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-8d73a7a0-d13d-11ec-b64e-e30af10564aa .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    Download the PBS App&nbsp;


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png"
                             
                             
                                 
                                 srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Passport%20Page/e40d422c8f_Learning%20Together.png?resize=575x,no-scale-up 575w"
                                 sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    Dive into this incredible library of high-quality shows at home on your TV and various devices like Roku, FireTV, and Apple TV or anywhere on your computer, phone, or tablet.
                </div><div class="menu-promo-details-container"><a href="/pbsapp/" aria-label="Let's Get You Watching link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Let's Get You Watching
    </a></div></div></div></div></div></div></div><div id="column-6ff2227b-22e2-460e-acb6-39c40bd305f2"
                 class="span4 column-4
                 "><div id="component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31" class="component"><style type="text/css">
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-component,
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-wrapper {
    background-color: #eef0f5;
}

#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-title a {
    color: #2638c4;
}

#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-title a:hover,
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-title a:focus,
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-title a:visited{
    color: #0f1e8c;
}


#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-list .list-element-container a {
    color: #2638c4;
}

#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-list .list-element-container a:hover,
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-list .list-element-container a:focus,
#component-4cb301b0-e5d4-11ec-b1aa-4fba858d8d31 .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="4cb301b0-e5d4-11ec-b1aa-4fba858d8d31" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Many Places to watch PBS


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://video.pioneer.org/" aria-label="Video Player&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Video Player&nbsp;
    </a></li><li class="list-element-container has-link"><a href="https://www.pbs.org/explore/" aria-label="National PBS Video Player link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        National PBS Video Player
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/live/" aria-label="LIVE Pioneer PBS TV link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        LIVE Pioneer PBS TV
    </a></li><li class="list-element-container has-link"><a href="/kidslive/" aria-label="LIVE PBS KIDS TV link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        LIVE PBS KIDS TV
    </a></li><li class="list-element-container has-link"><a href="https://www.youtube.com/pioneerpbs" aria-label="Pioneer PBS YouTube Channel link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer PBS YouTube Channel
    </a></li><li class="list-element-container has-link"><a href="/pbs-kids-app/" aria-label="PBS Kids Apps link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        PBS Kids Apps
    </a></li></div><div class='span6 col-xs-6'></div></ul></div></div></div></div></div></div></div></div></li></ul></li><li id="b7761fd6-0232-44a9-96e5-bfe9ced90821" class="menu__li "><a  aria-label="PBS KIDS link"
    
    href="javascript:void(0)"
    

    class="menu-item
    
    "
    >
    PBS KIDS
    
  </a><button class="submenu__trigger" aria-label="Open Submenu"><i class="menu-item-caret fas fa-caret-down" aria-hidden="true"></i></button><ul class="submenu mega-menu"><li><div class="row-fluid"><style type="text/css">
        

#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.layout-padding {
        padding: px px px px;
    }
}

#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46.container.has-background-image {background-image: url("575w");}}

        </style><div id="Layout"><div id="layout-58a0925d-88a5-434f-b8a8-8b3e38cb2a46"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-07d2b3bc-8057-4c48-ad70-7ac846c399c7"
                 class="span4 column-4
                 "><div id="component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b" class="component"><style type="text/css">
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-component,
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-wrapper {
    background-color: #eef0f5;
}

#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-title a {
    color: #2638c4;
}

#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-title a:hover,
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-title a:focus,
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-title a:visited{
    color: #0f1e8c;
}


#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-list .list-element-container a {
    color: #2638c4;
}

#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-list .list-element-container a:hover,
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-list .list-element-container a:focus,
#component-92c5ab00-e5d7-11ec-8dd1-3789897bd59b .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="92c5ab00-e5d7-11ec-8dd1-3789897bd59b" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    PARENT, TEACHER &amp; Student RESOURCES


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/kids/" aria-label="Education Tools for Kids and Teachers link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Education Tools for Kids and Teachers
    </a></li><li class="list-element-container has-link"><a href="/learning/" aria-label="Pioneer PBS LearningMedia link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer PBS LearningMedia
    </a></li><li class="list-element-container has-link"><a href="https://pioneer.pbslearningmedia.org/collection/intergenerational-art-and-culture-traditions/" aria-label="Pioneer PBS Lesson Plans via LearningMedia: Intergenerational Art and Culture Traditions link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer PBS Lesson Plans via LearningMedia: Intergenerational Art and Culture Traditions
    </a></li><li class="list-element-container has-link"><a href="https://pbskids.org/" aria-label="PBS KIDS&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        PBS KIDS&nbsp;
    </a></li></div><div class='span6 col-xs-6'></div></ul></div></div></div></div></div><div id="column-8be3b56e-231e-4423-803d-dbececd8865c"
                 class="span4 column-4
                 "><div id="component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b" class="component"><div id="df2b50d0-e5d7-11ec-8dd1-3789897bd59b" class="menu-promo-component"><style type="text/css">
    #component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo,
#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-title a:hover,
#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-title a:focus,
#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-df2b50d0-e5d7-11ec-8dd1-3789897bd59b .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    PBS KIDS FOR PARENTS


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png"
                             
                             
                                 
                                 srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/27e6439560_PBS%20kids%20parents%20poster%20logo.png?resize=575x,no-scale-up 575w"
                                 sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    Explore parent resources to help you raise kind, curious and resilient children. Find parenting tips, hands-on activities, games, and apps featuring your favorite programs.
                </div><div class="menu-promo-details-container"><a href="https://www.pbs.org/parents" aria-label="View Resources link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        View Resources
    </a></div></div></div></div></div></div></div><div id="column-fa455533-8a56-4169-b273-f5650d3a36e1"
                 class="span4 column-4
                 "><div id="component-201ea800-a412-11ed-9d75-ed3285e7a45b" class="component"><div id="201ea800-a412-11ed-9d75-ed3285e7a45b" class="menu-promo-component"><style type="text/css">
    #component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo,
#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-title a:hover,
#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-title a:focus,
#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-201ea800-a412-11ed-9d75-ed3285e7a45b .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    PBS KIDS Apps &amp; More


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png"
                             
                             
                                 
                                 srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/da9f086db7_PBS%20kids%20apps%20and%20more%20poster%20logo.png?resize=575x,no-scale-up 575w"
                                 sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    The PBS KIDS Video app gives kids and parents free videos to stream. The PBS KIDS Game app allows for play anytime. And there's so much more to explore. Get downloading today.
                </div><div class="menu-promo-details-container"><a href="https://www.pioneer.org/pbs-kids-app/" aria-label="Learn More link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Learn More
    </a></div></div></div></div></div></div></div></div></div></div></li></ul></li><li id="a3cb24ec-7e60-4797-8e79-3e585067283d" class="menu__li "><a  aria-label="About Us link"
    
    href="javascript:void(0)"
    

    class="menu-item
    
    
    has-children
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    "
    >
    About Us
    
    <i class="menu-item-caret fas fa-angle-down" aria-hidden="true"></i></a><button class="submenu__trigger" aria-label="Open Submenu"><i class="menu-item-caret fas fa-caret-down" aria-hidden="true"></i></button><ul class="submenu mega-menu"><li><div class="row-fluid"><style type="text/css">
        

#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-556aed04-2b62-4499-b45a-a070e80392c8.container.layout-padding {
        padding: px px px px;
    }
}

#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-556aed04-2b62-4499-b45a-a070e80392c8.container.has-background-image {background-image: url("575w");}}

        </style><div id="Layout"><div id="layout-556aed04-2b62-4499-b45a-a070e80392c8"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-b2299787-0f41-4095-80fb-1024c84bb5c3"
                 class="span4 column-4
                 "><div id="component-690a6170-100d-11ec-b52c-ff9e7ef7fbef" class="component"><style type="text/css">
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-component,
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-wrapper {
    background-color: #eef0f5;
}

#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-title a {
    color: #2638c4;
}

#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-title a:hover,
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-title a:focus,
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-title a:visited{
    color: #0f1e8c;
}


#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a {
    color: #2638c4;
}

#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:hover,
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:focus,
#component-690a6170-100d-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="690a6170-100d-11ec-b52c-ff9e7ef7fbef" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    What we do


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://www.pioneer.org/about/" aria-label="Learn about Pioneer PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Learn about Pioneer PBS
    </a></li><li class="list-element-container has-link"><a href="/about/staff/" aria-label="Staff of Pioneer PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Staff of Pioneer PBS
    </a></li><li class="list-element-container has-link"><a href="/about/channels/" aria-label="Digital Channels link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Digital Channels
    </a></li><li class="list-element-container has-link"><a href="/blogs/" aria-label="Press Releases and News link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Press Releases and News
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/legacyfunding/" aria-label="State Legacy Funding link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        State Legacy Funding
    </a></li><li class="list-element-container has-link"><a href="/about/regulatoryreports/" aria-label="Regulatory Reports link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Regulatory Reports
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/schedule/pioneer-preview/" aria-label="Pioneer Preview Guides link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer Preview Guides
    </a></li><li class="list-element-container has-link"><a href="https://video.pioneer.org/video/postcards-history-pioneer-public-television/" aria-label="Watch a Brief History of this Station link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Watch a Brief History of this Station
    </a></li><li class="list-element-container has-link"><a href="/blogs/events-screenings/" aria-label="Upcoming Events link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Upcoming Events
    </a></li></div></ul></div></div></div></div></div><div id="column-40f59e04-ab30-4d52-bc09-3de917241754"
                 class="span4 column-4
                 "><div id="component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef" class="component"><style type="text/css">
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-component,
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-wrapper {
    background-color: #eef0f5;
}

#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-title a {
    color: #2638c4;
}

#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-title a:hover,
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-title a:focus,
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-title a:visited{
    color: #0f1e8c;
}


#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a {
    color: #2638c4;
}

#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:hover,
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:focus,
#component-1fecec50-100e-11ec-b52c-ff9e7ef7fbef .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="1fecec50-100e-11ec-b52c-ff9e7ef7fbef" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Join Us


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/about/careers/" aria-label="Work with Us link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Work with Us
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/" aria-label="Become a Member link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Become a Member
    </a></li><li class="list-element-container has-link"><a href="/about/governance/" aria-label="Join our Board and CAB link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Join our Board and CAB
    </a></li><li class="list-element-container has-link"><a href="/passport/" aria-label="Activate Pioneer PBS Passport link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Activate Pioneer PBS Passport
    </a></li><li class="list-element-container has-link"><a href="/about/events/" aria-label="Come to Events link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Come to Events
    </a></li><li class="list-element-container has-link"><a href="https://lp.constantcontactpages.com/su/XSdo7xD" aria-label="Subscribe to our Program Newsletter&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Subscribe to our Program Newsletter&nbsp;
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://www.pioneer.org/blogs/pressroom/" aria-label="Subscribe to our Press Release Newsletter link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Subscribe to our Press Release Newsletter
    </a></li><li class="list-element-container has-link"><a href="https://lp.constantcontactpages.com/sl/8CksDF2" aria-label="Subscribe to our Pioneer PBS Passport Newsletter link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Subscribe to our Pioneer PBS Passport Newsletter
    </a></li></div></ul></div></div></div></div></div><div id="column-0105b338-7017-4bfe-a748-afead31f0d71"
                 class="span4 column-4
                 "><div id="component-2c1d4a10-f68e-11ee-99df-e98632f40c3d" class="component"><div id="2c1d4a10-f68e-11ee-99df-e98632f40c3d" class="menu-promo-component"><style type="text/css">
    #component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo,
#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-title a:hover,
#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-title a:focus,
#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-2c1d4a10-f68e-11ee-99df-e98632f40c3d .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    Regulatory Reports


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg"
                             
                             
                                 
                                 srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg?resize=640x,no-scale-up 640w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg?resize=399x,no-scale-up 399w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg?resize=330x,no-scale-up 330w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/0e0d8c2b90_regulatory%20reports%20poster.jpg?resize=575x,no-scale-up 575w"
                                 sizes="(min-width: 1200px) 640px,
 ((min-width: 992px) and (max-width: 1199px)) 399px,
 ((min-width: 768px) and (max-width: 991px)) 330px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    Check out our Policy documents, Reports and FCC Files.
                </div><div class="menu-promo-details-container"><a href="/about/regulatoryreports/" aria-label="Go Now. link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Go Now.
    </a></div></div></div></div></div></div></div></div></div></div></li></ul></li><li id="0cf461f6-56da-4e15-a95a-f7e4a5e6095c" class="menu__li "><a  aria-label="Support Us link"
    
    href="javascript:void(0)"
    

    class="menu-item
    
    
    has-children
      
        
      
        
      
        
      
        
      
        
      
        
      
    "
    >
    Support Us
    
    <i class="menu-item-caret fas fa-angle-down" aria-hidden="true"></i></a><button class="submenu__trigger" aria-label="Open Submenu"><i class="menu-item-caret fas fa-caret-down" aria-hidden="true"></i></button><ul class="submenu mega-menu"><li><div class="row-fluid"><style type="text/css">
        

#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.layout-padding {
        padding: px px px px;
    }
}

#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a.container.has-background-image {background-image: url("575w");}}

        </style><div id="Layout"><div id="layout-487bbbfc-2bc8-4b4f-9750-bba0cc60352a"
                class="container
                
                
                
                
                
                "
                style=""><div id="column-7818551c-6652-4688-83b5-921131294b00"
                 class="span6 column-6
                 "><div id="component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e" class="component"><style type="text/css">
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-component,
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-wrapper {
    background-color: #eef0f5;
}

#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-title a {
    color: #2638c4;
}

#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-title a:hover,
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-title a:focus,
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-title a:visited{
    color: #0f1e8c;
}


#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-list .list-element-container a {
    color: #2638c4;
}

#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-list .list-element-container a:hover,
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-list .list-element-container a:focus,
#component-ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e .links-list .list-element-container a:visited{
    color: #0f1e8c;
}

</style><div id="ef6ef0d0-c59e-11e8-93ad-5fd98bfcc33e" class="links-component"><div class="row-fluid links-wrapper"><div class="span12 col-xs-12 links-title">
                 


    Every little bit helps


            </div><div class="span12 col-xs-12 links-section"><ul class="links-list"><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="https://pioneer.secureallegiance.com/pioneer/WebModule/Donate.aspx?P=GENERALWEB&amp;PAGETYPE=PLG&amp;CHECK=cJcNO7RHzASZPS5qhJfdub1YhDw50SikSh2nq0qouhg%3d" aria-label="♥ DONATE ♥ link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        ♥ DONATE ♥
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/" aria-label="Become a Member link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Become a Member
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/waystogive/" aria-label="Ways to Give link"
        class="list-item-link"
        target="_self"
        rel="noopener noreferrer">
        Ways to Give
    </a></li><li class="list-element-container has-link"><a href="https://www.pioneer.org/passport/" aria-label="Join Passport link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Join Passport
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/waystogive/memorialgifts/" aria-label="Memorial Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Memorial Gifts
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/waystogive/matchinggifts/" aria-label="Matching Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Matching Gifts
    </a></li></div><div class='span6 col-xs-6'><li class="list-element-container has-link"><a href="/supportpioneer/waystogive/majorgifts/" aria-label="Major Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Major Gifts
    </a></li><li class="list-element-container has-link"><a href="/legacyfunding/" aria-label="Legacy Funding link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Legacy Funding
    </a></li><li class="list-element-container has-link"><a href="/supportpioneer/waystogive/nepac/" aria-label="Planned Giving link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Planned Giving
    </a></li><li class="list-element-container has-link"><a href="/businesssponsors/" aria-label="Business Sponsors link"
        class="list-item-link"
        target="_self"
        rel="noopener noreferrer">
        Business Sponsors
    </a></li><li class="list-element-container has-link"><a href="/value/" aria-label="9 Reasons to Value PBS&nbsp;&nbsp; link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        9 Reasons to Value PBS&nbsp;&nbsp;
    </a></li></div></ul></div></div></div></div></div><div id="column-37bf7636-fb8d-476e-a7ea-91aa8eaf96d7"
                 class="span6 column-6
                 "><div id="component-40f733b0-84ba-11ee-94f8-8928f9ead2b1" class="component"><div id="40f733b0-84ba-11ee-94f8-8928f9ead2b1" class="menu-promo-component"><style type="text/css">
    #component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo,
#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper {
    background-color: #eef0f5;
}

#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-title a {
    color: #2638c4;
}

#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-title a:hover,
#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-title a:focus,
#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-title a:visited {
    color: #0f1e8c;
}

#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-details-container a {
    color: #2638c4;
}

#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-details-container a:hover,
#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-details-container a:focus,
#component-40f733b0-84ba-11ee-94f8-8928f9ead2b1 .menu-promo-wrapper .menu-promo-details-container a:visited {
    color: #0f1e8c;
}

    </style><div class="menu-promo-wrapper"><div class="row menu-promo-title">
                


    We are Committed


            </div><div class="row"><div class="span4 col-xs-4"><div class="menu-promo-img-container "><img loading="lazy"
                             src="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif"
                             
                             
                                 
                                 srcset="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif 960w,
https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif 599w,
https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif 495w,
https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif 767w,
https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/Coming%20Into%20View/32148c424c_WeAreComitted.gif 575w"
                                 sizes="(min-width: 1200px) 960px,
 ((min-width: 992px) and (max-width: 1199px)) 599px,
 ((min-width: 768px) and (max-width: 991px)) 495px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                             
                             alt=""
                             ></div></div><div class="span8 col-xs-8"><div class="menu-promo-description">
                    We appreciate our viewers and thank them for watching Pioneer PBS. If you're not a member, consider becoming one or gifting one to someone, along with a thank you gift from us.
                </div><div class="menu-promo-details-container"><a href="/supportpioneer/" aria-label="Become A Member link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Become A Member
    </a></div></div></div></div></div></div></div></div></div></div></li></ul></li><li id="f5cb6396-3f06-414f-a0ae-eb692ce26643" class="menu__li highlight"><a  aria-label="♥ Donate ♥ link"
    
    href="https://pioneer.secureallegiance.com/pioneer/WebModule/Donate.aspx?P=GENERALWEB&amp;PAGETYPE=PLG&amp;CHECK=cJcNO7RHzASZPS5qhJfdub1YhDw50SikSh2nq0qouhg%3d"
      
    target="_blank" rel="noopener noreferrer"
      
    

    class="menu-item
    
    "
    >
    ♥ Donate ♥
    
  </a></li><li class="menu__li" tabindex="0" role="menu item"><div class="menu-item" role="live" aria-labelledby="menu-live-link"><a aria-label="LIVE TV link" class="live-link-text dropdown" href="https://www.pioneer.org/live/">LIVE TV</a></div></li><li class="station-header-search dropdown" tabindex="0"><div class="menu-search-icon" id="menu-search-dropdown"><i class="fas fa-search"></i></div><div class="dropdown-menu pull-right" role="search" aria-labelledby="menu-search-dropdown"><form class="station-header-search-form" action="https://www.pioneer.org/search/" method="get" role="search"><label for="station-header-search-input"><span class="visually-hidden">Search</span></label><input aria-label="Search" name="q" type="search" class="form-control"
                           placeholder="What are you looking for?" id="station-header-search-input"/><button type="submit" class="fas fa-search"><span class="hidden-a11y">Search</span></button></form></div></li></ul></div></nav><div class="menu--navbar-nav__spacer"></div><div class="header-fixed-spacer"></div></div></div></div></div></div></header>


    <main id="main-content" class="content ">
    <div class="row-fluid">
    <div class="container">


<div class="content-wrapper full-width
                                        
                                        "><div class="row-fluid"><style type="text/css">
        

#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-3c70ca2f-9e79-4b66-82e4-f7ec6a270577"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-bd699f30-d789-11ec-b27b-0d437218d429"
                 class="span12 column-12
                 "><div id="component-bf9dbd40-d789-11ec-b27b-0d437218d429" class="component"><style type="text/css">

@media(min-width: 1025px) {
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.light-bg:not(.full-width-image) .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.light-bg:not(.full-width-image) .title,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.full-width-image.dark-details .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.full-width-image.dark-details .title,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.blur-bg.dark-details .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.blur-bg.dark-details .title,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container .title{
        color: #2638c4;
    }

    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.light-bg:not(.full-width-image) a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.light-bg:not(.full-width-image) a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.light-bg:not(.full-width-image) a:visited,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.full-width-image.dark-details a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.full-width-image.dark-details a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.full-width-image.dark-details a:visited,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.blur-bg.dark-details a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.blur-bg.dark-details a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container.blur-bg.dark-details a:visited,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:visited{
        color: #0f1e8c;
    }

    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .full-size-slide.dark-bg,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .details-container.dark-bg:not(.full-width-image) {
        background-color: #0f1e8c;
    }

    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .full-size-slide.light-bg,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .details-container.light-bg:not(.full-width-image) {
        background-color: #f6f8fa;
    }
}

@media(max-width: 1024px) {
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container:not(.dark-bg) .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container:not(.dark-bg) .title,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container .cta,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container .title{
        color: #2638c4;
    }


    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container:not(.dark-bg) a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container:not(.dark-bg) a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-slide .details-container:not(.dark-bg) a:visited,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:hover,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:focus,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide .details-container a:visited {
        color: #0f1e8c;
    }

    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .details-container.dark-bg {
        background-color: #0f1e8c;
    }

    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .circle-crop-slide,
    #component-bf9dbd40-d789-11ec-b27b-0d437218d429 .full-size-carousel .details-container.light-bg {
        background-color: #f6f8fa;
    }
}




</style><section class='carousel full-size-carousel bento-component ' aria-labelledby="carousel-heading-bf9dbd40-d789-11ec-b27b-0d437218d429"><h1 id="carousel-heading-bf9dbd40-d789-11ec-b27b-0d437218d429" class="visuallyhidden">Showcase</h3><ul class="slides-wrapper"><li class="full-size-slide slide blur-bg"><figure class="image-background" aria-label="hidden"><img loading="eager"
             class="blurry-image"
             src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png"
            
            
                
                srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=960x,no-scale-up 960w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=599x,no-scale-up 599w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=495x,no-scale-up 495w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=575x,no-scale-up 575w"
                sizes="(min-width: 1200px) 960px,
 ((min-width: 992px) and (max-width: 1199px)) 599px,
 ((min-width: 768px) and (max-width: 991px)) 495px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
            
            alt=""
        /></figure><article class="details-container
                    full-width-image
                    light-details
                    blur-bg"><a aria-label="Veteran Stories link" class="title mobileAndDesktop" href=" https://www.pioneer.org/supportpioneer/?gclid=CjwKCAjw_o-HBhAsEiwANqYhp4jUGYs6OZoIjhTR4_7TTW5FFmoP0zOBqe-orZDZGTBrpGnpndNfuhoCc5MQAvD_BwE" target="_blank" rel="noopener">Veteran Stories</a><p class="description">View this collection of Postcards stories told by Veterans in the Pioneer PBS viewing&nbsp;area. Each individual story is worth a watch.&nbsp; If you know a Veteran with a good story, please let us know.&nbsp;If you like&nbsp;what you see, watch more Postcards videos here: https://video.pioneer.org/show/postcards/</p><a class="cta" aria-label="&gt; Support Pioneer PBS link" href=" https://www.pioneer.org/supportpioneer/?gclid=CjwKCAjw_o-HBhAsEiwANqYhp4jUGYs6OZoIjhTR4_7TTW5FFmoP0zOBqe-orZDZGTBrpGnpndNfuhoCc5MQAvD_BwE" target="_blank" rel="noopener">&gt; Support Pioneer PBS</a></article><a class="image-container-link full-width-image" aria-label="Slide image Veteran Stories link" href=" https://www.pioneer.org/supportpioneer/?gclid=CjwKCAjw_o-HBhAsEiwANqYhp4jUGYs6OZoIjhTR4_7TTW5FFmoP0zOBqe-orZDZGTBrpGnpndNfuhoCc5MQAvD_BwE" target="_blank" rel="noopener"><figure class="image-container full-width-image"><img loading="eager"
                src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png"
                
                
                    
                        
                    
                    srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=1920x,no-scale-up 1920w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=1199x,no-scale-up 1199w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=991x,no-scale-up 991w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png?resize=575x,no-scale-up 575w"
                    sizes="(min-width: 1200px) 1920px,
 ((min-width: 992px) and (max-width: 1199px)) 1199px,
 ((min-width: 768px) and (max-width: 991px)) 991px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                
                alt=""
            /></figure></a></li></ul></section></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-1c6ce48b-da70-4a30-8c48-fffa2f7092cc"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-a9da2bc0-d6f2-11ec-880b-d5b9e27309ea"
                 class="span4 column-4
                 "><div id="component-17664600-d78a-11ec-b27b-0d437218d429" class="component"><style type="text/css">
#component-17664600-d78a-11ec-b27b-0d437218d429 .text-container {
    background-color: rgba(255, 255, 255, 100);
    padding: 0px 16px 16px 16px;
}

#component-17664600-d78a-11ec-b27b-0d437218d429 .text-container.text-background-color {
    background-color: rgba(255, 255, 255, 0);
}

#component-17664600-d78a-11ec-b27b-0d437218d429 .text-container.text-padding {
    padding: 0px 16px 16px 16px;
}

@media (min-width: 1024px) {
    #component-17664600-d78a-11ec-b27b-0d437218d429 .text-container.text-padding {
        padding: 0px 16px 16px 16px;
    }
}

</style><div class="text-container
    text-background-color
    text-padding"><div id="rich-text-17664600-d78a-11ec-b27b-0d437218d429"
     style="
         max-width: 100%;
     "><h2 style="text-align:center;"><a href="#PioneerSpecials"><strong>| Jump to Pioneer specials</strong></a><strong>|</strong></h2></div><script type="text/javascript">
    (function (document) {
        var downloadAPI = "/bento-api/filer-file-download/"
        var baseURL = 'https://www.pioneer.org/',
            baseUrlLength = baseURL.length,
            component = document.getElementById('rich-text-17664600-d78a-11ec-b27b-0d437218d429'),
            aPageTags = component.querySelectorAll('a[data-link-page-id]'),
            aFileTags = component.querySelectorAll('a[data-link-file-id]'),
            aFileDownloads = component.querySelectorAll('a[href^="/bento-api/filer-file-download/"]'),
            filerImages = component.querySelectorAll('img[data-img-filer-id]'),
            filerImage;

        if (baseURL[baseUrlLength - 1] === '/') {
            baseURL = baseURL.substr(0, baseUrlLength - 1);
        }

        for (var index = 0; index < aPageTags.length; index++) {
            // all internal links are relative
            aPageTags[index].href = aPageTags[index].dataset.linkPageId;
        }

        for (var index = 0; index < aFileDownloads.length; index++) {
            var splited = aFileDownloads[index].href.split(downloadAPI)
            splited[0] = baseURL;
            aFileDownloads[index].href = splited.join(downloadAPI)
        }

        for (var index = 0; index < aFileTags.length; index++) {
            aFileTags[index].href = aFileTags[index].dataset.linkFileId;
        }

        for (var imgIndex = 0; imgIndex < filerImages.length; imgIndex++) {
            filerImage = filerImages[imgIndex];
            filerImage.src = filerImage.dataset.imgFilerId;
            filerImage.alt = filerImage.dataset.fileAltText || 'Filer image element';
}
    })(document);
</script></div></div></div><div id="column-2cf1bf83-63d4-45b9-b693-8de1b91849fe"
                 class="span4 column-4
                 "><div id="component-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7" class="component"><style type="text/css">
#component-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7 .text-container {
    background-color: rgba(255, 255, 255, 100);
    padding: 0px 16px 16px 16px;
}

#component-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7 .text-container.text-background-color {
    background-color: rgba(255, 255, 255, 0);
}

#component-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7 .text-container.text-padding {
    padding: 0px 16px 16px 16px;
}

@media (min-width: 1024px) {
    #component-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7 .text-container.text-padding {
        padding: 0px 16px 16px 16px;
    }
}

</style><div class="text-container
    text-background-color
    text-padding"><div id="rich-text-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7"
     style="
         max-width: 100%;
     "><h2 style="text-align:center;"><a href="#PostcardsVeteranStories"><strong>| Jump to Postcards stories</strong></a><strong>|</strong></h2></div><script type="text/javascript">
    (function (document) {
        var downloadAPI = "/bento-api/filer-file-download/"
        var baseURL = 'https://www.pioneer.org/',
            baseUrlLength = baseURL.length,
            component = document.getElementById('rich-text-546e4d7f-6e8e-4a1d-b236-5b9c53d420e7'),
            aPageTags = component.querySelectorAll('a[data-link-page-id]'),
            aFileTags = component.querySelectorAll('a[data-link-file-id]'),
            aFileDownloads = component.querySelectorAll('a[href^="/bento-api/filer-file-download/"]'),
            filerImages = component.querySelectorAll('img[data-img-filer-id]'),
            filerImage;

        if (baseURL[baseUrlLength - 1] === '/') {
            baseURL = baseURL.substr(0, baseUrlLength - 1);
        }

        for (var index = 0; index < aPageTags.length; index++) {
            // all internal links are relative
            aPageTags[index].href = aPageTags[index].dataset.linkPageId;
        }

        for (var index = 0; index < aFileDownloads.length; index++) {
            var splited = aFileDownloads[index].href.split(downloadAPI)
            splited[0] = baseURL;
            aFileDownloads[index].href = splited.join(downloadAPI)
        }

        for (var index = 0; index < aFileTags.length; index++) {
            aFileTags[index].href = aFileTags[index].dataset.linkFileId;
        }

        for (var imgIndex = 0; imgIndex < filerImages.length; imgIndex++) {
            filerImage = filerImages[imgIndex];
            filerImage.src = filerImage.dataset.imgFilerId;
            filerImage.alt = filerImage.dataset.fileAltText || 'Filer image element';
}
    })(document);
</script></div></div></div><div id="column-b5c22486-1eed-4c28-90b5-59e2cec53f2b"
                 class="span4 column-4
                 "><div id="component-f425af70-12d1-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
#component-f425af70-12d1-11ef-89c4-d99c5410a42e .text-container {
    background-color: rgba(255, 255, 255, 100);
    padding: 0px 16px 16px 16px;
}

#component-f425af70-12d1-11ef-89c4-d99c5410a42e .text-container.text-background-color {
    background-color: rgba(255, 255, 255, 0);
}

#component-f425af70-12d1-11ef-89c4-d99c5410a42e .text-container.text-padding {
    padding: 0px 16px 16px 16px;
}

@media (min-width: 1024px) {
    #component-f425af70-12d1-11ef-89c4-d99c5410a42e .text-container.text-padding {
        padding: 0px 16px 16px 16px;
    }
}

</style><div class="text-container
    text-background-color
    text-padding"><div id="rich-text-f425af70-12d1-11ef-89c4-d99c5410a42e"
     style="
         max-width: 100%;
     "><p style="text-align:center;"><a href="#PrairieSportsmanVeteranStories"><strong>| Jump to Prairie Sportsman stories</strong></a><strong>|</strong></p></div><script type="text/javascript">
    (function (document) {
        var downloadAPI = "/bento-api/filer-file-download/"
        var baseURL = 'https://www.pioneer.org/',
            baseUrlLength = baseURL.length,
            component = document.getElementById('rich-text-f425af70-12d1-11ef-89c4-d99c5410a42e'),
            aPageTags = component.querySelectorAll('a[data-link-page-id]'),
            aFileTags = component.querySelectorAll('a[data-link-file-id]'),
            aFileDownloads = component.querySelectorAll('a[href^="/bento-api/filer-file-download/"]'),
            filerImages = component.querySelectorAll('img[data-img-filer-id]'),
            filerImage;

        if (baseURL[baseUrlLength - 1] === '/') {
            baseURL = baseURL.substr(0, baseUrlLength - 1);
        }

        for (var index = 0; index < aPageTags.length; index++) {
            // all internal links are relative
            aPageTags[index].href = aPageTags[index].dataset.linkPageId;
        }

        for (var index = 0; index < aFileDownloads.length; index++) {
            var splited = aFileDownloads[index].href.split(downloadAPI)
            splited[0] = baseURL;
            aFileDownloads[index].href = splited.join(downloadAPI)
        }

        for (var index = 0; index < aFileTags.length; index++) {
            aFileTags[index].href = aFileTags[index].dataset.linkFileId;
        }

        for (var imgIndex = 0; imgIndex < filerImages.length; imgIndex++) {
            filerImage = filerImages[imgIndex];
            filerImage.src = filerImage.dataset.imgFilerId;
            filerImage.alt = filerImage.dataset.fileAltText || 'Filer image element';
}
    })(document);
</script></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-7208ab20-3d93-4fdd-a959-407d293389e2.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-7208ab20-3d93-4fdd-a959-407d293389e2"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-14a58a40-12d2-11ef-89c4-d99c5410a42e"
                 class="span12 column-12
                 "><div id="component-17a0a1d0-12d2-11ef-89c4-d99c5410a42e" class="component"><a name="PioneerSpecials"></a></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-21d0fdd7-0658-48b0-8a7f-13d1cccfdec6"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-26d35170-12d2-11ef-89c4-d99c5410a42e"
                 class="span12 column-12
                 "><div id="component-2b6b7730-12d2-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
#component-2b6b7730-12d2-11ef-89c4-d99c5410a42e .section-header-component.filled .section-header-value {
    background-color: #0f1e8c;
    color: #eef0f5;
    border-color: transparent;
}

#component-2b6b7730-12d2-11ef-89c4-d99c5410a42e .section-header-component.underline .section-header-value {
    background-color: inherit;
    color: #0f1e8c;
    border-bottom-color: #0f1e8c;
}

</style><div id="2b6b7730-12d2-11ef-89c4-d99c5410a42e" class="section-header-component underline"><h2 class="section-header-value" style="color: #ffffff;">
            .
        </h2></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-3384160e-e20e-4aa4-bf19-3c4298e7426b.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-3384160e-e20e-4aa4-bf19-3c4298e7426b"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-602bcc90-12d2-11ef-89c4-d99c5410a42e"
                 class="span6 column-6
                 "><div id="component-ab401330-12d2-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
 #video-component_ab401330-12d2-11ef-89c4-d99c5410a42e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e section {
    background-color: #eef0f5;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item,
#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-body,
#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .video-info {
    background-color: #eef0f5;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item-title {
    color: #2638c4;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item .playlist-item-title,
#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item,
#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_ab401330-12d2-11ef-89c4-d99c5410a42e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_ab401330-12d2-11ef-89c4-d99c5410a42e' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_ab401330-12d2-11ef-89c4-d99c5410a42e' class='video-container'></div><div class='video-info'><span class='channel'>Pioneer Specials</span><span class='title'>Night Wings: OSS Carpetbagger Ops</span><p class='description'>Explore WWII secrets with Veteran Robert Holmstrom, uncovering OSS history.</p></div></div></div></div></div><div id="column-972f0985-7c07-4955-b21c-714b9f89d8f7"
                 class="span6 column-6
                 "><div id="component-e0fdb450-12d2-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
 #video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e section {
    background-color: #eef0f5;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item,
#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-body,
#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .video-info {
    background-color: #eef0f5;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item-title {
    color: #2638c4;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item .playlist-item-title,
#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item,
#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_e0fdb450-12d2-11ef-89c4-d99c5410a42e' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_e0fdb450-12d2-11ef-89c4-d99c5410a42e' class='video-container'></div><div class='video-info'><span class='channel'>Pioneer Specials</span><span class='title'>WWII Ace: A Hero's Experience | Legion Baseball Banquet</span><p class='description'>Ace pilot Don McPherson shares his WWII experiences at American Legion Baseball banquet.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-fe5b845f-fb3a-46ec-b47e-700ff40804e8"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-12ad9560-12d3-11ef-89c4-d99c5410a42e"
                 class="span4 column-4
                 "><div id="component-f9324c70-12d2-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
 #video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e section {
    background-color: #eef0f5;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item,
#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-body,
#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .video-info {
    background-color: #eef0f5;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item-title {
    color: #2638c4;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item .playlist-item-title,
#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item.selected-item,
#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_f9324c70-12d2-11ef-89c4-d99c5410a42e' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_f9324c70-12d2-11ef-89c4-d99c5410a42e' class='video-container'></div><div class='video-info'><span class='channel'>Pioneer Specials</span><span class='title'>Care Under Fire</span><p class='description'>In Care Under Fire, Bill Strusinski recounts his times as a medic in Vietnam.</p></div></div></div></div></div><div id="column-418b8f2a-8078-4200-8f83-9563ccff9ed2"
                 class="span4 column-4
                 "><div id="component-172cdbf0-12d3-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
 #video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e section {
    background-color: #eef0f5;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item,
#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-body,
#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .video-info {
    background-color: #eef0f5;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item-title {
    color: #2638c4;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item.selected-item .playlist-item-title,
#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item.selected-item,
#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_172cdbf0-12d3-11ef-89c4-d99c5410a42e' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_172cdbf0-12d3-11ef-89c4-d99c5410a42e' class='video-container'></div><div class='video-info'><span class='channel'>Pioneer Specials</span><span class='title'>Vietnam Remembered: Western/Southwestern Minnesota</span><p class='description'>Local people remember their experiences during the Vietnam War era.</p></div></div></div></div></div><div id="column-b6e316cb-80f3-43ea-9214-9ec74eda9335"
                 class="span4 column-4
                 "><div id="component-22138a00-12d3-11ef-89c4-d99c5410a42e" class="component"><style type="text/css">
 #video-component_22138a00-12d3-11ef-89c4-d99c5410a42e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e section {
    background-color: #eef0f5;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item,
#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-body,
#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .video-info {
    background-color: #eef0f5;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item-title {
    color: #2638c4;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item.selected-item .playlist-item-title,
#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item.selected-item,
#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_22138a00-12d3-11ef-89c4-d99c5410a42e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_22138a00-12d3-11ef-89c4-d99c5410a42e' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_22138a00-12d3-11ef-89c4-d99c5410a42e' class='video-container'></div><div class='video-info'><span class='channel'>Pioneer Specials</span><span class='title'>Veterans Day 2017</span><p class='description'>Special Veterans Day program recorded at the Fagan Fighters WWII Museum in Granite Falls.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-275cc570-f53a-4872-a88d-a777c2346f0e.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-275cc570-f53a-4872-a88d-a777c2346f0e"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-6e3a2e30-d78d-11ec-b27b-0d437218d429"
                 class="span12 column-12
                 "><div id="component-71a1c330-d78d-11ec-b27b-0d437218d429" class="component"><a name="PostcardsVeteranStories"></a></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-0f767b33-a296-4e56-9727-80a25cca8e92.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-0f767b33-a296-4e56-9727-80a25cca8e92"
                class="container
                
                
                 center-layout-content-vertically
                
                
                 layout-padding "
                style=""><div id="column-69e01240-8eea-464f-b53e-ed03309ce5ea"
                 class="span12 column-12
                 center-column-content-vertically"><div id="component-367671f0-d78f-11ec-bbeb-079117cdb206" class="component"><style type="text/css">
#component-367671f0-d78f-11ec-bbeb-079117cdb206 .section-header-component.filled .section-header-value {
    background-color: #0f1e8c;
    color: #eef0f5;
    border-color: transparent;
}

#component-367671f0-d78f-11ec-bbeb-079117cdb206 .section-header-component.underline .section-header-value {
    background-color: inherit;
    color: #0f1e8c;
    border-bottom-color: #0f1e8c;
}

</style><div id="367671f0-d78f-11ec-bbeb-079117cdb206" class="section-header-component underline"><h2 class="section-header-value" style="color: #ffffff;">
            .
        </h2></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-7e18146c-f6c8-42fc-a3da-f116f4ba22de"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-beeeb320-f0fd-11ed-a875-31db497bbd26"
                 class="span4 column-4
                 "><div id="component-c35393e0-f0fd-11ed-a875-31db497bbd26" class="component"><style type="text/css">
 #video-component_c35393e0-f0fd-11ed-a875-31db497bbd26.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 section {
    background-color: #eef0f5;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item,
#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-body,
#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .video-info {
    background-color: #eef0f5;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item-title {
    color: #2638c4;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item.selected-item .playlist-item-title,
#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item.selected-item,
#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_c35393e0-f0fd-11ed-a875-31db497bbd26 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_c35393e0-f0fd-11ed-a875-31db497bbd26' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_c35393e0-f0fd-11ed-a875-31db497bbd26' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Bob Brix, WWII Oral History</span><div class='additional-mm-info runtime'>
                        10:32
                    </div><div class='additional-mm-info published'>Published: 
                    </div><p class='description'>Bob Brix is a WWII US Marine Veteran who served in many areas of the Pacific.</p></div></div></div></div></div><div id="column-aff059c1-b2bd-4cb0-97f9-8ba57f4708b7"
                 class="span4 column-4
                 "><div id="component-409fa9b0-f5b3-11ed-9166-85777f84ad2e" class="component"><style type="text/css">
 #video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e section {
    background-color: #eef0f5;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item,
#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-body,
#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .video-info {
    background-color: #eef0f5;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item-title {
    color: #2638c4;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item.selected-item .playlist-item-title,
#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item.selected-item,
#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_409fa9b0-f5b3-11ed-9166-85777f84ad2e' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_409fa9b0-f5b3-11ed-9166-85777f84ad2e' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Delvin Owen, WWII Oral History</span><p class='description'>Delvin Owen is a WWII U.S. Naval Reserve Veteran who operated test flights on aircraft.</p></div></div></div></div></div><div id="column-15b6387e-76c5-4356-abf1-2018a4dadd8d"
                 class="span4 column-4
                 "><div id="component-5c6cd1e0-f5b3-11ed-9166-85777f84ad2e" class="component"><style type="text/css">
 #video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e section {
    background-color: #eef0f5;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item,
#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-body,
#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .video-info {
    background-color: #eef0f5;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item-title {
    color: #2638c4;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item.selected-item .playlist-item-title,
#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item.selected-item,
#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_5c6cd1e0-f5b3-11ed-9166-85777f84ad2e' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Paul Wojahn, WWII Oral History</span><p class='description'>Paul Wojahn is a WWII US Marine who fought as a pioneer soldier in the Pacific Theater.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-4b50feb1-7455-4ec5-ac33-afcb4d88454a"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-27cafa47-879b-4112-8b49-4294b70599e4"
                 class="span4 column-4
                 "><div id="component-065dc8d1-273a-436e-88e7-cab3fcb5e3cd" class="component"><style type="text/css">
 #video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd section {
    background-color: #eef0f5;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item,
#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-body,
#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .video-info {
    background-color: #eef0f5;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item-title {
    color: #2638c4;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item.selected-item .playlist-item-title,
#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item.selected-item,
#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_065dc8d1-273a-436e-88e7-cab3fcb5e3cd' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_065dc8d1-273a-436e-88e7-cab3fcb5e3cd' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Fay Hendricks, WWII Oral History</span><p class='description'>Fay Hendricks is a WWII U.S. Army Veteran who served in the Philippines.</p></div></div></div></div></div><div id="column-b8dcaf8f-1029-48bc-8230-62508ad4d4e3"
                 class="span4 column-4
                 "><div id="component-c568b1da-968c-42fa-b482-11056e39ece8" class="component"><style type="text/css">
 #video-component_c568b1da-968c-42fa-b482-11056e39ece8.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 section {
    background-color: #eef0f5;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item,
#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-body,
#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .video-info {
    background-color: #eef0f5;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item-title {
    color: #2638c4;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item.selected-item .playlist-item-title,
#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item.selected-item,
#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_c568b1da-968c-42fa-b482-11056e39ece8 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_c568b1da-968c-42fa-b482-11056e39ece8' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_c568b1da-968c-42fa-b482-11056e39ece8' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Bill Friberg, WWII Oral History</span><p class='description'>Bill Friberg is a WWII U.S. Marine Veteran who served as an airplane mechanic.</p></div></div></div></div></div><div id="column-4f41aa28-03a6-4317-a800-fbb175a7026e"
                 class="span4 column-4
                 "><div id="component-1f1d3cdc-966d-4e67-9339-a38f1495b184" class="component"><style type="text/css">
 #video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 section {
    background-color: #eef0f5;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item,
#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-body,
#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .video-info {
    background-color: #eef0f5;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item-title {
    color: #2638c4;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item.selected-item .playlist-item-title,
#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item.selected-item,
#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_1f1d3cdc-966d-4e67-9339-a38f1495b184' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_1f1d3cdc-966d-4e67-9339-a38f1495b184' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>William Homan, WWII Oral History</span><p class='description'>William Homan is a WWII US Air Corps Veteran who served as a a mechanic on a b-17 bomber.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-9cfdffbe-719a-4333-bcdb-cbec95d6da2a"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-86df6d40-e85f-11ed-8965-65e001f2d6ea"
                 class="span4 column-4
                 "><div id="component-9440df50-e85f-11ed-8965-65e001f2d6ea" class="component"><style type="text/css">
 #video-component_9440df50-e85f-11ed-8965-65e001f2d6ea.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea section {
    background-color: #eef0f5;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item,
#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-body,
#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .video-info {
    background-color: #eef0f5;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item-title {
    color: #2638c4;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item.selected-item .playlist-item-title,
#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item.selected-item,
#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_9440df50-e85f-11ed-8965-65e001f2d6ea .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_9440df50-e85f-11ed-8965-65e001f2d6ea' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_9440df50-e85f-11ed-8965-65e001f2d6ea' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Ray Fagen Memorial Airshow</span><p class='description'>Ray Fagen Airshow in Granite Falls, MN is a biyearly event held at Fagen Fighters Museum.</p></div></div></div></div></div><div id="column-f1d8d3a2-25e2-4694-8ab5-4f34d75e13ee"
                 class="span4 column-4
                 "><div id="component-908809a0-f0fd-11ed-a875-31db497bbd26" class="component"><style type="text/css">
 #video-component_908809a0-f0fd-11ed-a875-31db497bbd26.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 section {
    background-color: #eef0f5;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item,
#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-body,
#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .video-info {
    background-color: #eef0f5;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item-title {
    color: #2638c4;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item.selected-item .playlist-item-title,
#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item.selected-item,
#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_908809a0-f0fd-11ed-a875-31db497bbd26 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_908809a0-f0fd-11ed-a875-31db497bbd26' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_908809a0-f0fd-11ed-a875-31db497bbd26' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Harlan Rosvold, WWII Oral History</span><p class='description'>Harlan Rosvold was a WWII US Marine Corps Veteran who served in the Pacific theater.</p></div></div></div></div></div><div id="column-ebca9858-9fa7-4c30-b976-293f80ed2ffc"
                 class="span4 column-4
                 "><div id="component-629faae9-ebe1-4a16-910f-f8f4aa6a3d16" class="component"><style type="text/css">
 #video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 section {
    background-color: #eef0f5;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item,
#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-body,
#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .video-info {
    background-color: #eef0f5;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item-title {
    color: #2638c4;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item.selected-item .playlist-item-title,
#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item.selected-item,
#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_629faae9-ebe1-4a16-910f-f8f4aa6a3d16' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_629faae9-ebe1-4a16-910f-f8f4aa6a3d16' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Paul Fynboh, WWII Oral History</span><p class='description'>Paul Fynboh is a US Navy veteran who served as Electrician and loader in WWII.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-add13cf8-eea9-401e-987a-ff9e0c30ee76.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-add13cf8-eea9-401e-987a-ff9e0c30ee76"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-2a9ee560-d42f-11eb-8210-f765a3000ffb"
                 class="span4 column-4
                 "><div id="component-95e09558-d058-433e-a493-fbeb7074c44a" class="component"><style type="text/css">
 #video-component_95e09558-d058-433e-a493-fbeb7074c44a.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a section {
    background-color: #eef0f5;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item,
#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-body,
#video-component_95e09558-d058-433e-a493-fbeb7074c44a .video-info {
    background-color: #eef0f5;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item-title {
    color: #2638c4;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item.selected-item .playlist-item-title,
#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item.selected-item,
#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_95e09558-d058-433e-a493-fbeb7074c44a .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_95e09558-d058-433e-a493-fbeb7074c44a' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_95e09558-d058-433e-a493-fbeb7074c44a' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Vietnam Survival Story with Eugene Murphy</span><p class='description'>Vietnam veterans Gene Murphy and Lyle Bowes of Sioux Falls tell their stories.</p></div></div></div></div></div><div id="column-2b78548c-8b48-45ac-bb8a-e434325e42d6"
                 class="span4 column-4
                 "><div id="component-52553146-dfe6-4a93-a1e6-1bfdb48169d0" class="component"><style type="text/css">
 #video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 section {
    background-color: #eef0f5;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item,
#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-body,
#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .video-info {
    background-color: #eef0f5;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item-title {
    color: #2638c4;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item.selected-item .playlist-item-title,
#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item.selected-item,
#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_52553146-dfe6-4a93-a1e6-1bfdb48169d0' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_52553146-dfe6-4a93-a1e6-1bfdb48169d0' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>40 Thieves on Saipan</span><p class='description'>40 Thieves on Saipan is a love letter from a son to his WWII vet father.</p></div></div></div></div></div><div id="column-352115e1-f8c5-4503-8e0a-cf6aa1f19835"
                 class="span4 column-4
                 "><div id="component-af8d46ab-3830-4860-b6a8-0424d91ab1f2" class="component"><style type="text/css">
 #video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 section {
    background-color: #eef0f5;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item,
#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-body,
#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .video-info {
    background-color: #eef0f5;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item-title {
    color: #2638c4;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item.selected-item .playlist-item-title,
#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item.selected-item,
#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_af8d46ab-3830-4860-b6a8-0424d91ab1f2' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_af8d46ab-3830-4860-b6a8-0424d91ab1f2' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Don McPherson</span><p class='description'>WWII Navy Ace Don McPherson shares his story.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-6508b0fa-0416-47f1-8b75-cdff4e7e1a23"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-1827c3ae-ac05-4ef3-9c54-9c207d7587c8"
                 class="span4 column-4
                 "><div id="component-631e3abc-e296-4272-8dbb-1f0fd62a449d" class="component"><style type="text/css">
 #video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d section {
    background-color: #eef0f5;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item,
#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-body,
#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .video-info {
    background-color: #eef0f5;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item-title {
    color: #2638c4;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item.selected-item .playlist-item-title,
#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item.selected-item,
#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_631e3abc-e296-4272-8dbb-1f0fd62a449d' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_631e3abc-e296-4272-8dbb-1f0fd62a449d' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>1969 USS Enterprise Fire</span><p class='description'>Woody Peet, Dave Jerpseth and Lynell Leasman talk about the USS Enterprise Fire.</p></div></div></div></div></div><div id="column-bf33f183-f920-42b1-a820-522ecf09ce3a"
                 class="span4 column-4
                 "><div id="component-5276b54c-03dd-4f92-8dfc-c82e617a4b9b" class="component"><style type="text/css">
 #video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b section {
    background-color: #eef0f5;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item,
#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-body,
#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .video-info {
    background-color: #eef0f5;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item-title {
    color: #2638c4;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item.selected-item .playlist-item-title,
#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item.selected-item,
#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_5276b54c-03dd-4f92-8dfc-c82e617a4b9b' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_5276b54c-03dd-4f92-8dfc-c82e617a4b9b' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Majestic Chaos</span><p class='description'>The biggest bomb in US history detonated on March 1 1954 &amp; USMC veteran Bob Bormann saw it</p></div></div></div></div></div><div id="column-4080f57e-5199-431a-bd38-c7c7baabe0f7"
                 class="span4 column-4
                 "><div id="component-f9f51803-2abe-4533-be08-0cfe81e56b5b" class="component"><style type="text/css">
 #video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b section {
    background-color: #eef0f5;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item,
#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-body,
#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .video-info {
    background-color: #eef0f5;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item-title {
    color: #2638c4;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item.selected-item .playlist-item-title,
#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item.selected-item,
#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_f9f51803-2abe-4533-be08-0cfe81e56b5b' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_f9f51803-2abe-4533-be08-0cfe81e56b5b' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Postcards: Dave Hansen, Vietnam Veteran</span><p class='description'>Learn about the Vietnam War from Dave Hanson and the ongoing struggle with PTSD.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-97d6afb5-31d6-46a6-81e7-bab8d0a40987"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-0042470e-1975-4dbc-98ba-e67cdb6b2a8e"
                 class="span4 column-4
                 "><div id="component-561aca40-d39b-11eb-8210-f765a3000ffb" class="component"><style type="text/css">
 #video-component_561aca40-d39b-11eb-8210-f765a3000ffb.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb section {
    background-color: #eef0f5;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item,
#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-body,
#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .video-info {
    background-color: #eef0f5;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item-title {
    color: #2638c4;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item.selected-item .playlist-item-title,
#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item.selected-item,
#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_561aca40-d39b-11eb-8210-f765a3000ffb .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_561aca40-d39b-11eb-8210-f765a3000ffb' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_561aca40-d39b-11eb-8210-f765a3000ffb' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Craig Tschetter, Vietnam War Vet</span><p class='description'>Learn about the the book Fifteen Minutes Ago: A Vietnam War Memoir by Craig Tschetter.</p></div></div></div></div></div><div id="column-661b151c-c208-4b18-8186-346ccd1271ce"
                 class="span4 column-4
                 "><div id="component-83c1a630-d39b-11eb-8210-f765a3000ffb" class="component"><style type="text/css">
 #video-component_83c1a630-d39b-11eb-8210-f765a3000ffb.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb section {
    background-color: #eef0f5;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item,
#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-body,
#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .video-info {
    background-color: #eef0f5;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item-title {
    color: #2638c4;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item.selected-item .playlist-item-title,
#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item.selected-item,
#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_83c1a630-d39b-11eb-8210-f765a3000ffb .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_83c1a630-d39b-11eb-8210-f765a3000ffb' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_83c1a630-d39b-11eb-8210-f765a3000ffb' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Inventor Don Husby</span><p class='description'>Don Husby secured more than 25 patents for his lighting inventions and other innovations.</p></div></div></div></div></div><div id="column-e6bd0045-9ea4-43a8-a092-b7e4d9b1ec67"
                 class="span4 column-4
                 "><div id="component-eeeef1b6-5e70-4df1-8ef6-269b05017d33" class="component"><style type="text/css">
 #video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 section {
    background-color: #eef0f5;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item,
#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-body,
#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .video-info {
    background-color: #eef0f5;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item-title {
    color: #2638c4;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item.selected-item .playlist-item-title,
#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item.selected-item,
#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_eeeef1b6-5e70-4df1-8ef6-269b05017d33' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_eeeef1b6-5e70-4df1-8ef6-269b05017d33' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>WWII Story</span><p class='description'>96-year-old Robert Millsaps tells his story of service in WWII.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-7a601242-7ee7-4651-9f90-d888626f88f6.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-7a601242-7ee7-4651-9f90-d888626f88f6"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-d64547c1-4504-42dd-8249-7fab30cefae4"
                 class="span4 column-4
                 "><div id="component-d9a45aa2-32ba-4912-8b6c-8de218a21beb" class="component"><style type="text/css">
 #video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb section {
    background-color: #eef0f5;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item,
#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-body,
#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .video-info {
    background-color: #eef0f5;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item-title {
    color: #2638c4;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item.selected-item .playlist-item-title,
#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item.selected-item,
#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_d9a45aa2-32ba-4912-8b6c-8de218a21beb' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_d9a45aa2-32ba-4912-8b6c-8de218a21beb' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>WWII Museum Boxcar</span><p class='description'>A 118 year old railroad boxcar finds a new home at the center of a WWII museum exhibit.</p></div></div></div></div></div><div id="column-97bf4431-62b3-4135-869c-b9994c1c19de"
                 class="span4 column-4
                 "><div id="component-e970d5d7-5d41-4b21-8e56-94838e8d8f39" class="component"><style type="text/css">
 #video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 section {
    background-color: #eef0f5;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item,
#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-body,
#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .video-info {
    background-color: #eef0f5;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item-title {
    color: #2638c4;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item.selected-item .playlist-item-title,
#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item.selected-item,
#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_e970d5d7-5d41-4b21-8e56-94838e8d8f39' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_e970d5d7-5d41-4b21-8e56-94838e8d8f39' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Vietnam Story</span><p class='description'>Charlie Hettling talks about his experience as a soldier during the Vietnam War.</p></div></div></div></div></div><div id="column-7386feba-3235-41c0-a3f0-8692b27e3422"
                 class="span4 column-4
                 "><div id="component-264a0d4e-8d66-4ccb-b3bb-461e551821fd" class="component"><style type="text/css">
 #video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd section {
    background-color: #eef0f5;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item,
#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-body,
#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .video-info {
    background-color: #eef0f5;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item-title {
    color: #2638c4;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item.selected-item .playlist-item-title,
#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item.selected-item,
#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_264a0d4e-8d66-4ccb-b3bb-461e551821fd' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_264a0d4e-8d66-4ccb-b3bb-461e551821fd' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Fagen Fighters &amp; History Preservation</span><p class='description'>Learn more about Fagen Fighters WWII Museum in Granite Falls, Minnesota.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-dc5f23a2-d67a-47b7-b878-f20e01aa4cc3"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-6d0ad34d-51f1-48d4-87d5-e75e33437ea6"
                 class="span4 column-4
                 "><div id="component-731096de-cda3-4436-a0fb-fc086a6a66be" class="component"><style type="text/css">
 #video-component_731096de-cda3-4436-a0fb-fc086a6a66be.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be section {
    background-color: #eef0f5;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item,
#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-body,
#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .video-info {
    background-color: #eef0f5;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item-title {
    color: #2638c4;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item.selected-item .playlist-item-title,
#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item.selected-item,
#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_731096de-cda3-4436-a0fb-fc086a6a66be .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_731096de-cda3-4436-a0fb-fc086a6a66be' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_731096de-cda3-4436-a0fb-fc086a6a66be' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>World War II Veteran</span><p class='description'>Hear a story from a World War II vet told at the Fagen Fighters Museum in Granite Falls.</p></div></div></div></div></div><div id="column-f80897c6-08f2-4145-8321-7c4310911ad2"
                 class="span4 column-4
                 "><div id="component-c7624abe-8ca5-4904-9d86-f53c1d41edeb" class="component"><style type="text/css">
 #video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb section {
    background-color: #eef0f5;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item,
#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-body,
#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .video-info {
    background-color: #eef0f5;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item-title {
    color: #2638c4;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item.selected-item .playlist-item-title,
#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item.selected-item,
#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_c7624abe-8ca5-4904-9d86-f53c1d41edeb' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_c7624abe-8ca5-4904-9d86-f53c1d41edeb' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Willmar War Memorial Room</span><p class='description'>Willmar War Auditorium is featured.</p></div></div></div></div></div><div id="column-1522dae9-424a-4e8e-b5b0-0fbd47b50df8"
                 class="span4 column-4
                 "><div id="component-d817fa37-9e48-4036-a337-1c950ac5267b" class="component"><style type="text/css">
 #video-component_d817fa37-9e48-4036-a337-1c950ac5267b.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b section {
    background-color: #eef0f5;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item,
#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-body,
#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .video-info {
    background-color: #eef0f5;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item-title {
    color: #2638c4;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item.selected-item .playlist-item-title,
#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item.selected-item,
#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_d817fa37-9e48-4036-a337-1c950ac5267b .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_d817fa37-9e48-4036-a337-1c950ac5267b' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_d817fa37-9e48-4036-a337-1c950ac5267b' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Earl Orr</span><p class='description'>Memories from US Navy veteran, Earl W. Orr.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-181ab11c-c99f-4637-880b-d08e6cef74c3.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-181ab11c-c99f-4637-880b-d08e6cef74c3"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-08f49270-d52e-11eb-9e0d-8feb526d967b"
                 class="span4 column-4
                 "><div id="component-0d5120f9-9e8e-4873-a963-dddab7ae89b8" class="component"><style type="text/css">
 #video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 section {
    background-color: #eef0f5;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item,
#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-body,
#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .video-info {
    background-color: #eef0f5;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item-title {
    color: #2638c4;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item.selected-item .playlist-item-title,
#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item.selected-item,
#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_0d5120f9-9e8e-4873-a963-dddab7ae89b8' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_0d5120f9-9e8e-4873-a963-dddab7ae89b8' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>War Stories: Stan Reeves</span><p class='description'>Local veteran tells his story at the Fagen Fighters WWII Museum.</p></div></div></div></div></div><div id="column-b9390335-b103-4fca-b84e-fae24e5f580e"
                 class="span4 column-4
                 "><div id="component-5136d017-3694-41f6-8bb6-9a2dc9e14411" class="component"><style type="text/css">
 #video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 section {
    background-color: #eef0f5;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item,
#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-body,
#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .video-info {
    background-color: #eef0f5;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item-title {
    color: #2638c4;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item.selected-item .playlist-item-title,
#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item.selected-item,
#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_5136d017-3694-41f6-8bb6-9a2dc9e14411' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_5136d017-3694-41f6-8bb6-9a2dc9e14411' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Honor Flight Southwest Minnesota, Part 1</span><p class='description'>A documentary detailing a trip to Washington D.C. by 100 World War II veterans from SW MN.</p></div></div></div></div></div><div id="column-564be30f-567f-46e5-a326-aa4d974bef18"
                 class="span4 column-4
                 "><div id="component-556c61ca-fec0-410d-9f09-22792d065180" class="component"><style type="text/css">
 #video-component_556c61ca-fec0-410d-9f09-22792d065180.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 section {
    background-color: #eef0f5;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item,
#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-body,
#video-component_556c61ca-fec0-410d-9f09-22792d065180 .video-info {
    background-color: #eef0f5;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item-title {
    color: #2638c4;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item.selected-item .playlist-item-title,
#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item.selected-item,
#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_556c61ca-fec0-410d-9f09-22792d065180 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_556c61ca-fec0-410d-9f09-22792d065180' class='video-component  column-4'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_556c61ca-fec0-410d-9f09-22792d065180' class='video-container'></div><div class='video-info'><span class='channel'>Postcards</span><span class='title'>Honor Flight Southwest Minnesota, Part 2</span><p class='description'>An overview of 2010 programming produced by Pioneer Public Television.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-6c297d6c-8294-42c4-a8b4-872184e4d5a9"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-a2ac2000-d78e-11ec-bbeb-079117cdb206"
                 class="span12 column-12
                 "></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-b65373a7-c6fc-4806-9416-818a7f0e03d2.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-b65373a7-c6fc-4806-9416-818a7f0e03d2"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-843cf230-d78d-11ec-b27b-0d437218d429"
                 class="span12 column-12
                 "><div id="component-128f0dc3-0480-4ed2-b6c1-e037e62846fd" class="component"><a name="PrairieSportsmanVeteranStories"></a></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-3e792f39-4553-4a31-a590-f76e2978bc43.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-3e792f39-4553-4a31-a590-f76e2978bc43"
                class="container
                
                
                 center-layout-content-vertically
                
                
                 layout-padding "
                style=""><div id="column-890b879b-7a4e-42d2-bfbf-da77ad9ca946"
                 class="span12 column-12
                 center-column-content-vertically"><div id="component-4759266e-d01b-4131-812c-dc50ba83bfe2" class="component"><style type="text/css">
#component-4759266e-d01b-4131-812c-dc50ba83bfe2 .section-header-component.filled .section-header-value {
    background-color: #0f1e8c;
    color: #eef0f5;
    border-color: transparent;
}

#component-4759266e-d01b-4131-812c-dc50ba83bfe2 .section-header-component.underline .section-header-value {
    background-color: inherit;
    color: #0f1e8c;
    border-bottom-color: #0f1e8c;
}

</style><div id="4759266e-d01b-4131-812c-dc50ba83bfe2" class="section-header-component underline"><h1 class="section-header-value" style="color: #ffffff;">
            .
        </h1></div></div><div id="component-31ff810d-12b4-4d46-b148-f03069197482" class="component"><style type="text/css">
#component-31ff810d-12b4-4d46-b148-f03069197482 .image-wrapper {
    text-align: center;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .image-wrapper.img-text-align {
    text-align: center;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container {
    text-align: center;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container .filer-image {
    max-width: 100%;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container .img-details {
    text-align: center;
    max-width: 100%;
    margin: auto;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container .img-details.img-aligned-left {
    margin: 0 auto 0 0;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container .img-details.img-aligned-right {
    margin: 0 0 0 auto;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container.img-padding-top {
    padding-top: px;
}

#component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container.img-padding-bottom {
    padding-bottom: px;
}

@media (min-width: 1024px) {
    #component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container.img-padding-left {
        padding-left: px;
    }

    #component-31ff810d-12b4-4d46-b148-f03069197482 .filer-image-container.img-padding-right {
        padding-right: px;
    }
}

</style><div class="image-wrapper
            img-text-align"><div
        id="31ff810d-12b4-4d46-b148-f03069197482"
        class="filer-image-container
            
            
            
            
            
            
            "><img loading="lazy"
                class="filer-image"
                style="max-width: 100%;"
                alt="Filer image"
                src=""
                
                
                /></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-16cec9c5-9f92-40be-83a6-358621994da5.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-16cec9c5-9f92-40be-83a6-358621994da5.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-16cec9c5-9f92-40be-83a6-358621994da5"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-b14cd030-d78b-11ec-b27b-0d437218d429"
                 class="span6 column-6
                 "><div id="component-be8cfea0-d78b-11ec-b27b-0d437218d429" class="component"><style type="text/css">
 #video-component_be8cfea0-d78b-11ec-b27b-0d437218d429.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 section {
    background-color: #eef0f5;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item,
#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-body,
#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .video-info {
    background-color: #eef0f5;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item-title {
    color: #2638c4;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item .playlist-item-title,
#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item,
#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_be8cfea0-d78b-11ec-b27b-0d437218d429 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_be8cfea0-d78b-11ec-b27b-0d437218d429' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_be8cfea0-d78b-11ec-b27b-0d437218d429' class='video-container'></div><div class='video-info'><span class='channel'>Prairie Sportsman</span><span class='title'>Lake of the Woods Memorial</span><p class='description'>The late Mark Bode, a U.S. Navy veteran, is memorialized at Lake of the Woods.</p></div></div></div></div></div><div id="column-0c1a684f-d618-4d33-a0f6-06785c975860"
                 class="span6 column-6
                 "><div id="component-98eae680-d78b-11ec-b27b-0d437218d429" class="component"><style type="text/css">
 #video-component_98eae680-d78b-11ec-b27b-0d437218d429.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 section {
    background-color: #eef0f5;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item,
#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-body,
#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .video-info {
    background-color: #eef0f5;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item-title {
    color: #2638c4;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item .playlist-item-title,
#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item,
#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_98eae680-d78b-11ec-b27b-0d437218d429 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_98eae680-d78b-11ec-b27b-0d437218d429' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_98eae680-d78b-11ec-b27b-0d437218d429' class='video-container'></div><div class='video-info'><span class='channel'>Prairie Sportsman</span><span class='title'>One of a Kind</span><p class='description'>An army sergeant who lost an arm is presented with a custom-made rod and reel.</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-5be4c513-1c7b-464c-8bb9-fe3d8e3a583f"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-b0357eb0-d789-11ec-b27b-0d437218d429"
                 class="span6 column-6
                 "><div id="component-5d523f60-d78b-11ec-b27b-0d437218d429" class="component"><style type="text/css">
 #video-component_5d523f60-d78b-11ec-b27b-0d437218d429.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 section {
    background-color: #eef0f5;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item,
#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-body,
#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .video-info {
    background-color: #eef0f5;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item-title {
    color: #2638c4;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item .playlist-item-title,
#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item.selected-item,
#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_5d523f60-d78b-11ec-b27b-0d437218d429 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_5d523f60-d78b-11ec-b27b-0d437218d429' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_5d523f60-d78b-11ec-b27b-0d437218d429' class='video-container'></div><div class='video-info'><span class='channel'>Prairie Sportsman</span><span class='title'>Veterans Appreciation Hunt</span><p class='description'>Nobles County Pheasants Forever hosts an annual Veterans Appreciation Hunt.</p></div></div></div></div></div><div id="column-790b7fdb-579d-4e61-856d-455e45137242"
                 class="span6 column-6
                 "><div id="component-675dada0-d54b-437c-a6da-d9e446442633" class="component"><style type="text/css">
 #video-component_675dada0-d54b-437c-a6da-d9e446442633.video-component {
    border: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .video-container {
    background-color: #eef0f5;
    border-bottom: 1px solid #e9ebf9;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .video-info {
    border-top: 1px solid #e9ebf9;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 section {
    background-color: #eef0f5;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist__wrapper {
    border-left: 1px solid #e9ebf9;
    background-color: #eef0f5;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item,
#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-body,
#video-component_675dada0-d54b-437c-a6da-d9e446442633 .video-info {
    background-color: #eef0f5;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item-title {
    color: #2638c4;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item.selected-item .playlist-item-title,
#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item:hover .playlist-item-title {
    color: #0f1e8c;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item.selected-item,
#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-item:hover {
    background-color: #e9ebf9;
}

#video-component_675dada0-d54b-437c-a6da-d9e446442633 .playlist-header {
    background-color: #d3d7f3;
}

</style><div id='video-component_675dada0-d54b-437c-a6da-d9e446442633' class='video-component  column-6'><div class="video-container__wrapper"><!-- The <iframe> (and video player) will replace this <div> tag. --><div id='video-container_675dada0-d54b-437c-a6da-d9e446442633' class='video-container'></div><div class='video-info'><span class='channel'>Prairie Sportsman</span><span class='title'>National Guard Pheasant Hunt</span><p class='description'>The Annual Minnesota National Guard Pheasant Hunt near Holloway, Minnesota</p></div></div></div></div></div></div></div></div><div class="row-fluid"><style type="text/css">
        

#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.layout-padding {
    padding: 0px 0px 0px 0px;
}

@media (min-width: 1024px) {
    #layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.layout-padding {
        padding: 0px 0px 0px 0px;
    }
}

#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-e5629a65-d7ef-44b3-b66a-d4bbb030905e"
                class="container
                
                
                
                
                
                 layout-padding "
                style=""><div id="column-9c53aca0-d78e-11ec-bbeb-079117cdb206"
                 class="span12 column-12
                 "></div></div></div></div>


</div>


    



    </div>
    </div>
    </main>


<footer><div class="row-fluid"><style type="text/css">
        

#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.layout-padding {
    padding: px 0px px 0px;
}

@media (min-width: 1024px) {
    #layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.layout-padding {
        padding: px px px px;
    }
}

#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {
    background-image: url("");
}


@media (min-width: 1200px) {#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {background-image: url("1920w");}}@media (min-width: 992px) and (max-width: 1199px) {#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {background-image: url("1199w");}}@media (min-width: 768px) and (max-width: 991px) {#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {background-image: url("991w");}}@media (min-width: 576px) and (max-width: 767px) {#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {background-image: url("767w");}}@media (max-width: 575px) {#layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4.container.has-background-image {background-image: url("575w");}}

        </style><div id=""><div id="layout-aa3bda8c-13d4-4b7d-a3a6-575cf71a3bc4"
                class="container
                
                
                
                
                 has-background-color 
                "
                style=" background-color: #eef0f5;"><div id="column-0c960c3c-c153-45a2-bd5a-48d48a1ced05"
                 class="span12 column-12
                 "><div id="component-215fb640-397f-11e7-b2a4-9b2a1b740fda" class="component"><style type="text/css">
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .flexible-footer {
     background-color: #eef0f5;
}

/********************** LIGHT THEME ***********************/

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light {
    background-color: #eef0f5;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links-column .link-element,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links .link-element {
   color: #0f1e8c;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links-column .link-element a,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links .link-element a {
   color: #2638c4;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links-column .column-header {
   color: #222;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .links-column .column-header a,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .flexible-footer-social .column-header {
   color: #0f1e8c;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .flexible-footer-social .social-icons svg #Social-Icons-Exportable,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .flexible-footer-social .social-icons svg circle {
   fill: #0f1e8c;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .footer-details, 
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .footer-details * {
   color: #4b4b4b;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.light .footer-logo-link .footer-logo-container-default {
   border: 1px dashed #707070;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.light {
   background-color: #2638c4;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.light .link-element:after,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.light .link-element,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.light .link-element a {
   color: #fff;
}

/********************** DARK THEME ***********************/

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark {
   background-color: #2638c4;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links-column .link-element,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links-column .link-element a,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links .link-element,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links .link-element a {
   color: #fff;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links-column .column-header,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .links-column .column-header a,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .flexible-footer-social .column-header {
   color: #fff;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .flexible-footer-social .social-icons svg #Social-Icons-Exportable,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .flexible-footer-social .social-icons svg circle {
   fill: #fff;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .footer-details, 
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .footer-details * {
   color: #fff;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .footer-wrapper.dark .footer-logo-link .footer-logo-container-default {
   border: 1px dashed #fff;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.dark {
   background-color: #eef0f5;
}

#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.dark .link-element:after,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.dark .link-element,
#component-215fb640-397f-11e7-b2a4-9b2a1b740fda .copyright-wrapper.dark .link-element a {
   color: #2638c4;
}
</style><div id="215fb640-397f-11e7-b2a4-9b2a1b740fda" class="flexible-footer bento-component"><div class="footer-wrapper row-fluid light"><div class="expanded-footer row"><div class="span3 contact-section"><div class="footer-logo-container"><a href="/" aria-label="Logo link"
                            class="footer-logo-link"
                            target="_blank"
                            rel="noopener noreferrer"><img loading="lazy"
                                 src="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png"
                                    
                                    
                                        
                                        srcset="https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png?resize=960x,no-scale-up 960w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png?resize=599x,no-scale-up 599w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png?resize=495x,no-scale-up 495w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png?resize=767x,no-scale-up 767w,
https://image.pbs.org/bento3-prod/kwcm-bento-live-pbs/Logos/Pioneer%20PBS/9112133a2a_KWCM_Logo_Stacked_Blue.png?resize=575x,no-scale-up 575w"
                                        sizes="(min-width: 1200px) 960px,
 ((min-width: 992px) and (max-width: 1199px)) 599px,
 ((min-width: 768px) and (max-width: 991px)) 495px,
 ((min-width: 576px) and (max-width: 767px)) 767px,
 (max-width: 575px) 575px"
                                    
                                    alt="Pioneer Public Television"
                                    class="flexible-footer-logo"></a></div><div class="footer-details">
                    1 Pioneer Drive<br>Granite Falls, MN | 56241<br>800-726-3178<br>yourtv@pioneer.org
                </div></div><div class="span9 links-section"><div class='links-column'><ul><li class="column-header "><a href="/supportpioneer/" aria-label="SUPPORT PIONEER PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        SUPPORT PIONEER PBS
    </a></li><li class="link-element"><a href="/supportpioneer/waystogive/nepac/" aria-label="Planned Giving link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Planned Giving
    </a></li><li class="link-element"><a href="/supportpioneer/waystogive/matchinggifts/" aria-label="Matching Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Matching Gifts
    </a></li><li class="link-element"><a href="/supportpioneer/waystogive/memorialgifts/" aria-label="Memorial Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Memorial Gifts
    </a></li><li class="link-element"><a href="/supportpioneer/waystogive/majorgifts/" aria-label="Major Gifts link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Major Gifts
    </a></li><li class="link-element"><a href="" aria-label="Corporate Support link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Corporate Support
    </a></li><li class="link-element"><a href="/businesssponsors/" aria-label="Business Sponsors link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Business Sponsors
    </a></li></ul></div><div class='links-column'><ul><li class="column-header "><a href="/about/" aria-label="We ARE Pioneer PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        We ARE Pioneer PBS
    </a></li><li class="link-element"><a href="/about/" aria-label="About Pioneer PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        About Pioneer PBS
    </a></li><li class="link-element"><a href="/about/channels/" aria-label="Channels link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Channels
    </a></li><li class="link-element"><a href="/blogs/" aria-label="Press Release News link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Press Release News
    </a></li><li class="link-element"><a href="" aria-label="The Staff of Pioneer link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        The Staff of Pioneer
    </a></li><li class="link-element"><a href="/about/regulatoryreports/" aria-label="Regulatory Reports link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Regulatory Reports
    </a></li><li class="link-element"><a href="/legacyfunding/" aria-label="State Legacy Funding link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        State Legacy Funding
    </a></li></ul></div><div class='links-column'><ul><li class="column-header "><a href="https://video.pioneer.org/livestream/" aria-label="WATCH PIONEER PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        WATCH PIONEER PBS
    </a></li><li class="link-element"><a href="https://video.pioneer.org" aria-label="Video Player link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Video Player
    </a></li><li class="link-element"><a href="/pbsapp/" aria-label="PBS App link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        PBS App
    </a></li><li class="link-element"><a href="/passport/" aria-label="Pioneer PBS Passport link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer PBS Passport
    </a></li><li class="link-element"><a href="/schedule/" aria-label="Schedule link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Schedule
    </a></li><li class="link-element"><a href="https://video.pioneer.org/show/pioneer-ptv-specials/" aria-label="Pioneer Specials link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Pioneer Specials
    </a></li><li class="link-element"><a href="/live/" aria-label="Livestream link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Livestream
    </a></li></ul></div><div class='links-column'><ul><li class="column-header "><a href="/supportpioneer/" aria-label="Join Pioneer PBS link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Join Pioneer PBS
    </a></li><li class="link-element"><a href="/supportpioneer/" aria-label="Become a Member link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Become a Member
    </a></li><li class="link-element"><a href="/about/careers/" aria-label="Careers link"
        class="list-item-link"
        target="_self"
        rel="noopener noreferrer">
        Careers
    </a></li><li class="link-element"><a href="/about/governance/" aria-label="Governance link"
        class="list-item-link"
        target="_self"
        rel="noopener noreferrer">
        Governance
    </a></li><li class="link-element"><a href="https://lp.constantcontactpages.com/su/XSdo7xD" aria-label="Subscribe to our Upcoming Programs Newsletter link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Subscribe to our Upcoming Programs Newsletter
    </a></li><li class="link-element"><a href="https://lp.constantcontactpages.com/su/fSmoTGu" aria-label="Press release mailing list link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Press release mailing list
    </a></li></ul></div><div class='flexible-footer-social'><div class='column-header'>
                    Connect with us
                </div><div class="social-icons"><a href="https://www.facebook.com/pioneerpbs/" aria-label="facebook social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="15px" height="33px" viewBox="0 0 15 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: sketchtool 50.2 (55047) - http://www.bohemiancoding.com/sketch --><title>B4D46BEA-351A-4ED1-A452-3F7DE04739C6</title><desc>Created with sketchtool.</desc><defs></defs><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable" transform="translate(-589.000000, -45.000000)" fill="#3B5998"><path d="M598.974345,78 L598.974345,61.498068 L603.411925,61.498068 L604,55.8114108 L598.974345,55.8114108 L598.981884,52.9651841 C598.981884,51.4820164 599.119165,50.6873012 601.194392,50.6873012 L603.968586,50.6873012 L603.968586,45 L599.530378,45 C594.199376,45 592.323002,47.7586405 592.323002,52.3978064 L592.323002,55.8120548 L589,55.8120548 L589,61.498712 L592.323002,61.498712 L592.323002,78 L598.974345,78 Z" id="Facebook-color"></path></g></g></svg></a><a href="https://www.youtube.com/c/pioneerpbs" aria-label="you-tube social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="23px" viewBox="0 0 32 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: sketchtool 50.2 (55047) - http://www.bohemiancoding.com/sketch --><title>7EF8F25D-338D-4495-9310-1A1AAB1AC0C2</title><desc>Created with sketchtool.</desc><defs></defs><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable" transform="translate(-881.000000, -128.000000)" fill="#CE1312"><path d="M912.68,132.961345 C912.68,132.961345 913,135.608077 913,138.253788 L913,140.734971 C913,143.381703 912.68,146.027414 912.68,146.027414 C912.68,146.027414 912.367,148.280713 911.408,149.272982 C910.191,150.57591 908.827,150.582041 908.202,150.658684 C903.724,150.989781 897,151 897,151 C897,151 888.68,150.922335 886.12,150.670947 C885.408,150.535034 883.809,150.57591 882.591,149.272982 C881.632,148.280713 881.32,146.027414 881.32,146.027414 C881.32,146.027414 881,143.381703 881,140.734971 L881,138.253788 C881,135.608077 881.32,132.961345 881.32,132.961345 C881.32,132.961345 881.632,130.708046 882.591,129.715777 C883.809,128.412849 885.172,128.406718 885.798,128.331097 C890.276,128 896.993,128 896.993,128 L897.007,128 C897.007,128 903.724,128 908.202,128.331097 C908.827,128.406718 910.191,128.412849 911.408,129.715777 C912.367,130.708046 912.68,132.961345 912.68,132.961345 Z M893.696,143.741414 L902.341,139.163283 L893.695,134.553472 L893.696,143.741414 Z" id="YouTube-color"></path></g></g></svg></a><a href="https://www.linkedin.com/company/pioneerpbs/" aria-label="linked-in social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="30px" viewBox="0 0 32 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: sketchtool 50.2 (55047) - http://www.bohemiancoding.com/sketch --><title>E39F5B47-E14C-4A73-9E5B-8E664CA69B91</title><desc>Created with sketchtool.</desc><defs></defs><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable" transform="translate(-981.000000, -46.000000)" fill="#0077B5"><path d="M988.264415,55.7578659 L988.264415,75.9994626 L981.40558,75.9994626 L981.40558,55.7578659 L988.264415,55.7578659 Z M988.716156,49.4963234 C988.716156,51.4398897 987.226701,52.9950651 984.835135,52.9950651 L984.791303,52.9950651 C982.488633,52.9950651 981,51.4398897 981,49.4963234 C981,47.5116477 982.533972,46 984.880336,46 C987.226701,46 988.671639,47.5116477 988.716156,49.4963234 Z M1013,64.3935497 L1012.99973,75.9994626 L1006.14116,75.9994626 L1006.14116,65.1701969 C1006.14116,62.4501178 1005.14865,60.59401 1002.66572,60.59401 C1000.77083,60.59401 999.64216,61.8452975 999.146451,63.0538633 C998.965097,63.4869909 998.920581,64.0904678 998.920581,64.6954224 L998.920581,76 L992.060923,76 C992.060923,76 992.151326,57.6577701 992.060923,55.7584033 L998.920581,55.7584033 L998.920581,58.6254557 C999.83091,57.2472123 1001.46131,55.282554 1005.1029,55.282554 C1009.61633,55.282554 1013,58.1762066 1013,64.3935497 Z" id="LinkedIn-color"></path></g></g></svg></a><a href="https://www.instagram.com/pioneerpbs/" aria-label="instagram social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: sketchtool 50.2 (55047) - http://www.bohemiancoding.com/sketch --><title>64D03090-1948-4B4D-A1E2-33CCBBE4FE41</title><desc>Created with sketchtool.</desc><defs></defs><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable" transform="translate(-781.000000, -45.000000)" fill="#C82D93"><path d="M797.0015,45 C792.656121,45 792.110782,45.019 790.404098,45.0966667 C788.700747,45.1746667 787.538068,45.4443333 786.520724,45.84 C785.46838,46.2486667 784.575704,46.7953333 783.686361,47.685 C782.796352,48.5743333 782.24968,49.467 781.839675,50.519 C781.443005,51.5366667 781.173002,52.6996667 781.096334,54.4023333 C781.02,56.109 781,56.6546667 781,61 C781,65.3453333 781.019334,65.889 781.096668,67.5956667 C781.175002,69.299 781.444671,70.4616667 781.840009,71.479 C782.249013,72.5313333 782.795685,73.424 783.685361,74.3133333 C784.574371,75.2033333 785.467047,75.7513333 786.518724,76.16 C787.536735,76.5556667 788.699747,76.8253333 790.402765,76.9033333 C792.109449,76.981 792.654455,77 796.9995,77 C801.345212,77 801.888884,76.981 803.595569,76.9033333 C805.29892,76.8253333 806.462932,76.5556667 807.480943,76.16 C808.532953,75.7513333 809.424296,75.2033333 810.313305,74.3133333 C811.203315,73.424 811.749987,72.5313333 812.159991,71.4793333 C812.553329,70.4616667 812.823331,69.2986667 812.903332,67.596 C812.98,65.8893333 813,65.3453333 813,61 C813,56.6546667 812.98,56.1093333 812.903332,54.4026667 C812.823331,52.6993333 812.553329,51.5366667 812.159991,50.5193333 C811.749987,49.467 811.203315,48.5743333 810.313305,47.685 C809.423296,46.795 808.533287,46.2483333 807.479942,45.84 C806.459932,45.4443333 805.296586,45.1746667 803.593235,45.0966667 C801.886551,45.019 801.343212,45 796.9965,45 L797.0015,45 Z M795.566152,47.8833333 C795.992156,47.8826667 796.467494,47.8833333 797.0015,47.8833333 C801.273545,47.8833333 801.779883,47.8986667 803.466901,47.9753333 C805.026917,48.0466667 805.873592,48.3073333 806.437598,48.5263333 C807.184273,48.8163333 807.716612,49.163 808.276284,49.723 C808.83629,50.283 809.18296,50.8163333 809.47363,51.563 C809.692632,52.1263333 809.953635,52.973 810.024636,54.533 C810.101303,56.2196667 810.11797,56.7263333 810.11797,60.9963333 C810.11797,65.2663333 810.101303,65.773 810.024636,67.4596667 C809.953302,69.0196667 809.692632,69.8663333 809.47363,70.4296667 C809.183627,71.1763333 808.83629,71.708 808.276284,72.2676667 C807.716278,72.8276667 807.184606,73.1743333 806.437598,73.4643333 C805.874259,73.6843333 805.026917,73.9443333 803.466901,74.0156667 C801.780216,74.0923333 801.273545,74.109 797.0015,74.109 C792.729122,74.109 792.222784,74.0923333 790.536099,74.0156667 C788.976083,73.9436667 788.129408,73.683 787.565068,73.464 C786.818394,73.174 786.285055,72.8273333 785.725049,72.2673333 C785.165043,71.7073333 784.818373,71.1753333 784.527703,70.4283333 C784.308701,69.865 784.047698,69.0183333 783.976698,67.4583333 C783.90003,65.7716667 783.884697,65.265 783.884697,60.9923333 C783.884697,56.7196667 783.90003,56.2156667 783.976698,54.529 C784.048032,52.969 784.308701,52.1223333 784.527703,51.5583333 C784.817706,50.8116667 785.165043,50.2783333 785.725049,49.7183333 C786.285055,49.1583333 786.818394,48.8116667 787.565068,48.521 C788.129074,48.301 788.976083,48.041 790.536099,47.9693333 C792.012115,47.9026667 792.584121,47.8826667 795.566152,47.8793333 L795.566152,47.8833333 Z M805.542256,50.54 C804.482245,50.54 803.622236,51.399 803.622236,52.4593333 C803.622236,53.5193333 804.482245,54.3793333 805.542256,54.3793333 C806.602267,54.3793333 807.462276,53.5193333 807.462276,52.4593333 C807.462276,51.3993333 806.602267,50.5393333 805.542256,50.5393333 L805.542256,50.54 Z M797.0015,52.7833333 C792.463786,52.7833333 788.784748,56.4623333 788.784748,61 C788.784748,65.5376667 792.463786,69.215 797.0015,69.215 C801.539214,69.215 805.216919,65.5376667 805.216919,61 C805.216919,56.4623333 801.538881,52.7833333 797.001167,52.7833333 L797.0015,52.7833333 Z M797.0015,55.6666667 C799.946864,55.6666667 802.334889,58.0543333 802.334889,61 C802.334889,63.9453333 799.946864,66.3333333 797.0015,66.3333333 C794.055803,66.3333333 791.668111,63.9453333 791.668111,61 C791.668111,58.0543333 794.055803,55.6666667 797.0015,55.6666667 L797.0015,55.6666667 Z" id="Instagram-color"></path></g></g></svg></a><a href="https://twitter.com/PioneerPBS" aria-label="twitter social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="29px" height="24px" viewBox="0 0 29 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: sketchtool 50.2 (55047) - http://www.bohemiancoding.com/sketch --><title>D2A3D41C-A479-4FD8-88E5-A040C1936DDF</title><desc>Created with sketchtool.</desc><defs></defs><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable" transform="translate(-682.000000, -49.000000)" fill="#55ACEE"><path d="M696.081155,55.3843758 L696.144017,56.4224435 L695.096312,56.2953331 C691.282666,55.8080769 687.950964,54.1556426 685.122161,51.3804004 L683.73919,50.0033719 L683.382971,51.0202545 C682.628623,53.2870554 683.110567,55.6809665 684.682125,57.2910307 C685.520289,58.180803 685.331702,58.3079133 683.885869,57.778287 C683.382971,57.6088065 682.942934,57.4816962 682.901026,57.5452514 C682.754348,57.6935467 683.257246,59.6213867 683.655374,60.3840487 C684.20018,61.4433014 685.310748,62.4813691 686.526085,63.0957357 L687.552836,63.582992 L686.337499,63.604177 C685.164069,63.604177 685.122161,63.6253621 685.247885,64.0702482 C685.666967,65.4472768 687.322341,66.9090455 689.166302,67.5445972 L690.465456,67.9894833 L689.333935,68.6674051 C687.657607,69.6419176 685.687921,70.192729 683.718236,70.2350991 C682.775302,70.2562842 682,70.3410244 682,70.4045796 C682,70.6164301 684.5564,71.8027932 686.044141,72.2688644 C690.507364,73.645893 695.808751,73.0527114 699.79003,70.7011703 C702.618834,69.027551 705.447637,65.7014974 706.767745,62.4813691 C707.480185,60.7653797 708.192624,57.6299916 708.192624,56.1258527 C708.192624,55.1513402 708.255487,55.0242299 709.428916,53.8590518 C710.120401,53.1811301 710.769978,52.4396532 710.895703,52.2278026 C711.105244,51.8252866 711.08429,51.8252866 710.015631,52.1854325 C708.234532,52.8209842 707.983083,52.7362439 708.863155,51.7829165 C709.512732,51.1049947 710.288034,49.8762616 710.288034,49.5161156 C710.288034,49.4525605 709.973723,49.5584857 709.617503,49.7491512 C709.240329,49.9610018 708.402165,50.2787776 707.773542,50.4694431 L706.642021,50.829589 L705.61527,50.1304822 C705.049509,49.7491512 704.253254,49.3254501 703.834172,49.1983398 C702.765512,48.901749 701.131093,48.9441191 700.167204,49.28308 C697.547942,50.2364075 695.892568,52.6938738 696.081155,55.3843758 Z" id="Twitter-color"></path></g></g></svg></a><a href="https://www.tiktok.com/@pioneerpbs" aria-label="tiktok social icon link"
                            target="_blank"
                            rel="noopener"><?xml version="1.0" encoding="UTF-8"?><svg width="27" height="32" viewBox="0 0 27 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="Component---Social" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Social-Icons-Exportable"><path fill-rule="evenodd" clip-rule="evenodd"
                  d="M3.12012 28.2613C-3.39082 22.5239 0.820193 9.74984 10.8299 11.3574V12.5405C2.37623 12.1412 -1.34497 22.3812 3.12012 28.2617V28.2613ZM21.3783 6.10163C22.4068 6.93623 23.8252 7.55187 25.7804 7.66937V8.82839C23.6167 8.42259 22.2454 7.33072 21.3783 6.10163ZM18.664 0C18.6626 0.427698 18.7172 0.887145 18.7862 1.30682H14.7958V21.4827C14.7958 22.4129 14.7017 23.2409 14.5141 23.9675C12.889 27.6048 8.28811 27.1296 7.01669 24.6335C8.90945 25.8371 12.0219 25.5174 13.2994 22.6607C13.4856 21.9356 13.5797 21.1057 13.5797 20.1759V0H18.6643H18.664Z"
                  fill="#00F7EF" id="TikTok-color"/><path fill-rule="evenodd" clip-rule="evenodd"
                  d="M19.8803 1.30682V1.33273C19.8817 1.79984 20.0165 8.5547 26.9971 8.97619C26.9971 15.2603 27.0004 8.97619 27.0004 14.1954C26.476 14.2272 22.4055 13.9283 19.8727 11.634L19.8648 21.7944C19.9274 26.395 17.4054 30.907 12.6837 31.8161C11.3609 32.0704 10.1696 32.0993 8.1701 31.6555C-3.34891 28.1566 0.478662 10.8074 12.0448 12.6642C12.0448 18.2651 12.048 12.6627 12.048 18.2651C7.2699 17.5513 5.67145 21.5878 6.94144 24.4777C8.09715 27.1088 12.8544 27.6796 14.5139 23.9675C14.7019 23.2409 14.7957 22.4126 14.7957 21.4827V1.30682H19.8803Z"
                  fill="black" id="TikTok-color"/><path fill-rule="evenodd" clip-rule="evenodd"
                  d="M10.8298 12.5401C11.224 12.5576 11.6297 12.597 12.0448 12.6638C12.0448 18.2648 12.048 12.6623 12.048 18.2648C7.26991 17.551 5.67146 21.5874 6.94145 24.4773C6.96481 24.5299 6.98997 24.5824 7.01656 24.6332C6.44841 24.2722 5.9913 23.7763 5.72537 23.1705C4.45718 20.2803 6.05383 16.2441 10.8319 16.9576C10.8319 11.8241 10.8305 16.096 10.8305 12.5397L10.8298 12.5401ZM25.7803 8.82839C26.1605 8.89955 26.5662 8.95028 26.9968 8.97619C26.9968 15.2603 27 8.97619 27 14.1954C26.4757 14.2272 22.4052 13.9283 19.8724 11.634L19.8645 21.7944C19.927 26.395 17.405 30.907 12.6833 31.8161C11.3605 32.0704 10.1692 32.0993 8.16975 31.6555C5.9187 30.972 4.25629 29.7575 3.11963 28.2613C4.13231 29.1546 5.40338 29.8779 6.95511 30.3502C8.95244 30.7921 10.1441 30.7636 11.4669 30.5089C16.1886 29.5995 18.7106 25.0879 18.6495 20.4886L18.656 10.3268C21.1887 12.6211 25.2592 12.9215 25.7854 12.8879C25.7854 8.04087 25.7807 13.1138 25.7807 8.82803L25.7803 8.82839ZM19.8803 1.30682V1.33273C19.8803 1.60752 19.9288 4.04635 21.3785 6.10163C19.6313 4.68206 19.0085 2.63151 18.786 1.30682H19.8803V1.30682Z"
                  fill="#FF004F" id="TikTok-color"/></g></g><defs><clipPath id="clip0_1628_783"><rect width="27" height="32" fill="white"/></clipPath></defs></svg></a></div></div></div></div></div><div class="copyright-wrapper row-fluid light"><ul class="links-column"><li class="link-element">
                    


    ©2024 Pioneer PBS. All rights reserved. Pioneer PBS's studio in Granite Falls, graciously donated by Ron and Diane Fagen, is located on traditional Dakota land.


                </li><li class="link-element"><a href="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/About%20Us/Regulatory%20Reports/3cc4cea14c_codeofintegrity.pdf" aria-label="Public Media Code of Integrity link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Public Media Code of Integrity
    </a></li><li class="link-element"><a href="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/About%20Us/Regulatory%20Reports/1fb420ea0c_privacy_policy.pdf" aria-label="Online Privacy Policy link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Online Privacy Policy
    </a></li><li class="link-element"><a href="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/About%20Us/Regulatory%20Reports/19a245cd59_terms_of_use_policy.pdf" aria-label="Terms of Use Policy link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Terms of Use Policy
    </a></li><li class="link-element"><a href="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/About%20Us/Regulatory%20Reports/951cdeccee_Donor%20Bill%20of%20Rights.docx" aria-label="Donor Bill of Rights link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Donor Bill of Rights
    </a></li><li class="link-element"><a href="https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/About%20Us/Regulatory%20Reports/661e882a2a_Annual%20Report%20digital_2023.pdf" aria-label="Local Content and Service Report link"
        class="list-item-link"
        target="_blank"
        rel="noopener noreferrer">
        Local Content and Service Report
    </a></li></ul></div></div></div></div></div></div></div></footer>


    




<script type="text/javascript">
    PBS = window.PBS || {};
    PBS.BentoConfig = PBS.BentoConfig || {};
    PBS.BentoConfig.baseURL = 'https://www.pioneer.org/';
    PBS.BentoConfig.APIBaseURL = 'https://www.pioneer.org/';
    PBS.BentoConfig.ItsPrefix = 'https://image.pbs.org/bento3-prod';

</script>

<script type="text/javascript" src="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/css/frontend_style.js" ></script>
<script type="text/javascript" src="https://bento.pbs.org/prod/3.122.0/staticfiles/dist/frontend/js/frontend_js.js" ></script>


<script type="text/javascript">
(function(PBS){
    PBS = PBS || {};
    PBS.snippets = PBS.snippets || {};
    PBS.snippets['page-content-disqus'] = new PBS.Disqus({
        disqus_shortname: "",
        show_disqus: false,
        page_url: "https://www.pioneer.org/veteran-stories/",
        page_id: 133243
    });
}(window.PBS));
</script>


<script type="text/javascript">
(function(PBS){
    PBS = PBS || {};
    PBS.snippets = PBS.snippets || {};
    PBS.snippets['d3559a80-d395-11e7-890b-8db9bd778da8'] = new PBS.Menu({
        component: document.getElementById('component-d3559a80-d395-11e7-890b-8db9bd778da8'),
        id: 'd3559a80-d395-11e7-890b-8db9bd778da8'
    });
}(window.PBS));

</script>


    <script id="carousel-bf9dbd40-d789-11ec-b27b-0d437218d429">
    (function(PBS) {
        PBS = PBS || {};
        PBS.snippets = PBS.snippets || {};
        PBS.snippets['bf9dbd40-d789-11ec-b27b-0d437218d429'] = new PBS.Carousel({
            slidesData: [
    {
        "id": "4b6e404e-f35e-4d87-bd84-649cdf386704",
        "title": "Veteran Stories",
        "titlePlaceholder": "Title",
        "description": "View this collection of Postcards stories told by Veterans in the Pioneer PBS viewing&nbsp;area. Each individual story is worth a watch.&nbsp; If you know a Veteran with a good story, please let us know.&nbsp;If you like&nbsp;what you see, watch more Postcards videos here: https://video.pioneer.org/show/postcards/",
        "descriptionPlaceholder": "Short description",
        "image": {
            "id": 140960,
            "icon": "https://dc79r36mj3c9w.cloudfront.net/prod/filer_public_thumbnails/filer_public/kwcm-bento-live-pbs/LearningMedia/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png__32x32_q85_crop_subsampling-2_upscale.png",
            "label": "VietnamStory16X9.png",
            "url": "https://dc79r36mj3c9w.cloudfront.net/prod/filer_public/kwcm-bento-live-pbs/PBS%20KIDS%20Educational%20Resources/Educational%20Resources/Local%20Episodes%20for%20Teachers/17bb5a9818_VietnamStory16X9.png"
        },
        "logo": {
            "url": "https://bento.pbs.org/prod/3.86.0/staticfiles/dist/app/bento-components/carousel/media/default-logo.svg?72d28710fb34f035c7eb69af17c16020",
            "isDefault": true
        },
        "ctaLink": {
            "pageId": null,
            "externalHref": " https://www.pioneer.org/supportpioneer/?gclid=CjwKCAjw_o-HBhAsEiwANqYhp4jUGYs6OZoIjhTR4_7TTW5FFmoP0zOBqe-orZDZGTBrpGnpndNfuhoCc5MQAvD_BwE",
            "fileId": null,
            "target": "_blank",
            "enabled": true
        },
        "ctaText": "&gt; Support Pioneer PBS",
        "ctaPlaceholder": "Call To Action >"
    }
],
            slidesSettings: [
    {
        "id": "4b6e404e-f35e-4d87-bd84-649cdf386704",
        "isFullWidthImage": true,
        "detailsStyle": {
            "label": "Light",
            "value": "light"
        },
        "showLogo": false,
        "showTitle": true,
        "showCTA": true,
        "logoDeviceDisplay": "mobileAndDesktop",
        "titleDeviceDisplay": "mobileAndDesktop",
        "imageAltText": "",
        "logoAltText": ""
    }
],
            settings: {
    "type": "fullSize",
    "backgroundStyle": {
        "label": "Blur",
        "value": "blur"
    },
    "slidesSettings": [
        {
            "id": "4b6e404e-f35e-4d87-bd84-649cdf386704",
            "isFullWidthImage": true,
            "detailsStyle": {
                "label": "Light",
                "value": "light"
            },
            "showLogo": false,
            "showTitle": true,
            "showCTA": true,
            "logoDeviceDisplay": "mobileAndDesktop",
            "titleDeviceDisplay": "mobileAndDesktop",
            "imageAltText": "",
            "logoAltText": ""
        }
    ]
},
            component: document.getElementById('component-bf9dbd40-d789-11ec-b27b-0d437218d429')
        });
    }(window.PBS));
    </script>

<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'];
            var currentSettings = settingsMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('ab401330-12d2-11ef-89c4-d99c5410a42e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'];
        var currentSettings = settingsMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['ab401330-12d2-11ef-89c4-d99c5410a42e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'ab401330-12d2-11ef-89c4-d99c5410a42e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Pioneer Specials",
        "channelPlaceholder": "Content channel",
        "title": "Night Wings: OSS Carpetbagger Ops",
        "titlePlaceholder": "Title",
        "description": "Explore WWII secrets with Veteran Robert Holmstrom, uncovering OSS history.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/Q4o5Ar1-asset-mezzanine-16x9-WhtQqhU.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "kE_rW8f3bQSkHc8Ac6haZA==",
        "expires": "",
        "rating": "",
        "runtime": "26:46",
        "published": "2024/05/27",
        "url": "http://pbs.org/video/night-wings-oss-carpetbagger-ops-lxphjf/",
        "videoId": "night-wings-oss-carpetbagger-ops-lxphjf",
        "videoSource": "cove",
        "id": "321a5948-4559-4ced-92f7-bcdf88474ea9"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false,
    "selectedRegions": [
        {
            "value": "US",
            "label": "US"
        }
    ]
}
    


    $(window).on('load', function(){
        resizePlaylist('ab401330-12d2-11ef-89c4-d99c5410a42e');
    });
    $(window).resize(function(){
        resizePlaylist('ab401330-12d2-11ef-89c4-d99c5410a42e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'] = playlistJson;
    window.settingsMapping['ab401330-12d2-11ef-89c4-d99c5410a42e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'];
            var currentSettings = settingsMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('e0fdb450-12d2-11ef-89c4-d99c5410a42e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'];
        var currentSettings = settingsMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['e0fdb450-12d2-11ef-89c4-d99c5410a42e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'e0fdb450-12d2-11ef-89c4-d99c5410a42e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Pioneer Specials",
        "channelPlaceholder": "Content channel",
        "title": "WWII Ace: A Hero's Experience | Legion Baseball Banquet",
        "titlePlaceholder": "Title",
        "description": "Ace pilot Don McPherson shares his WWII experiences at American Legion Baseball banquet.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/GLnaf6b-asset-mezzanine-16x9-trCmM44.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "RAo2O0yUYwrTLbQ3diIuTg==",
        "expires": "",
        "rating": "",
        "runtime": "17:44",
        "published": "2023/10/16",
        "url": "http://pbs.org/video/wwii-ace-a-heros-experience-legion-baseball-banquet-fjnavt/",
        "videoId": "wwii-ace-a-heros-experience-legion-baseball-banquet-fjnavt",
        "videoSource": "cove",
        "id": "88ed0937-bc56-4b31-b1ca-e32af020c09b"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false,
    "selectedRegions": [
        {
            "value": "US",
            "label": "US"
        }
    ]
}
    


    $(window).on('load', function(){
        resizePlaylist('e0fdb450-12d2-11ef-89c4-d99c5410a42e');
    });
    $(window).resize(function(){
        resizePlaylist('e0fdb450-12d2-11ef-89c4-d99c5410a42e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'] = playlistJson;
    window.settingsMapping['e0fdb450-12d2-11ef-89c4-d99c5410a42e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'];
            var currentSettings = settingsMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('f9324c70-12d2-11ef-89c4-d99c5410a42e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'];
        var currentSettings = settingsMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['f9324c70-12d2-11ef-89c4-d99c5410a42e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'f9324c70-12d2-11ef-89c4-d99c5410a42e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Pioneer Specials",
        "channelPlaceholder": "Content channel",
        "title": "Care Under Fire",
        "titlePlaceholder": "Title",
        "description": "In Care Under Fire, Bill Strusinski recounts his times as a medic in Vietnam.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/PzwQEWZ-asset-mezzanine-16x9-HaDVD2T.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "Advxgn-uyu_rJspbDW4Reg==",
        "expires": "",
        "rating": "",
        "runtime": "41:17",
        "published": "2021/05/18",
        "url": "http://pbs.org/video/care-under-fire-bpsorf/",
        "videoId": "care-under-fire-bpsorf",
        "videoSource": "cove",
        "id": "d4b9f41d-b168-4f05-b971-a49c81923fbe"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false,
    "selectedRegions": [
        {
            "value": "US",
            "label": "US"
        }
    ]
}
    


    $(window).on('load', function(){
        resizePlaylist('f9324c70-12d2-11ef-89c4-d99c5410a42e');
    });
    $(window).resize(function(){
        resizePlaylist('f9324c70-12d2-11ef-89c4-d99c5410a42e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'] = playlistJson;
    window.settingsMapping['f9324c70-12d2-11ef-89c4-d99c5410a42e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'];
            var currentSettings = settingsMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('172cdbf0-12d3-11ef-89c4-d99c5410a42e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'];
        var currentSettings = settingsMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['172cdbf0-12d3-11ef-89c4-d99c5410a42e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '172cdbf0-12d3-11ef-89c4-d99c5410a42e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Pioneer Specials",
        "channelPlaceholder": "Content channel",
        "title": "Vietnam Remembered: Western/Southwestern Minnesota",
        "titlePlaceholder": "Title",
        "description": "Local people remember their experiences during the Vietnam War era.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/wjkKtrh-asset-mezzanine-16x9-IVnv4qp.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "rPmR5ydADDvN_ZqUeTwC3A==",
        "expires": "",
        "rating": "",
        "runtime": "26:46",
        "published": "2017/09/21",
        "url": "http://pbs.org/video/vietnam-remembered-md2g1j/",
        "videoId": "vietnam-remembered-md2g1j",
        "videoSource": "cove",
        "id": "6801d7bf-9f72-44c6-ad52-1b8c290485e4"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false,
    "selectedRegions": [
        {
            "value": "US",
            "label": "US"
        }
    ]
}
    


    $(window).on('load', function(){
        resizePlaylist('172cdbf0-12d3-11ef-89c4-d99c5410a42e');
    });
    $(window).resize(function(){
        resizePlaylist('172cdbf0-12d3-11ef-89c4-d99c5410a42e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'] = playlistJson;
    window.settingsMapping['172cdbf0-12d3-11ef-89c4-d99c5410a42e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'];
            var currentSettings = settingsMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('22138a00-12d3-11ef-89c4-d99c5410a42e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'];
        var currentSettings = settingsMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['22138a00-12d3-11ef-89c4-d99c5410a42e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '22138a00-12d3-11ef-89c4-d99c5410a42e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Pioneer Specials",
        "channelPlaceholder": "Content channel",
        "title": "Veterans Day 2017",
        "titlePlaceholder": "Title",
        "description": "Special Veterans Day program recorded at the Fagan Fighters WWII Museum in Granite Falls.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/qjaMqJY-asset-mezzanine-16x9-thBLInn.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "FuiLXAWESjkwj-haBPN3wA==",
        "expires": "",
        "rating": "",
        "runtime": "1:09:32",
        "published": "2017/11/13",
        "url": "http://pbs.org/video/veterans-day-2017-69t40l/",
        "videoId": "veterans-day-2017-69t40l",
        "videoSource": "cove",
        "id": "3e2d1a6b-3732-4531-a1d7-d30fc3960011"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false,
    "selectedRegions": [
        {
            "value": "US",
            "label": "US"
        }
    ]
}
    


    $(window).on('load', function(){
        resizePlaylist('22138a00-12d3-11ef-89c4-d99c5410a42e');
    });
    $(window).resize(function(){
        resizePlaylist('22138a00-12d3-11ef-89c4-d99c5410a42e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'] = playlistJson;
    window.settingsMapping['22138a00-12d3-11ef-89c4-d99c5410a42e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'];
            var currentSettings = settingsMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('c35393e0-f0fd-11ed-a875-31db497bbd26', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'];
        var currentSettings = settingsMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['c35393e0-f0fd-11ed-a875-31db497bbd26'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'c35393e0-f0fd-11ed-a875-31db497bbd26').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Bob Brix, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Bob Brix is a WWII US Marine Veteran who served in many areas of the Pacific.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/oSfvgpG-asset-mezzanine-16x9-rF4u21h.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "NEJoOsadT5U6BQ0zmCzvnQ==",
        "expires": "",
        "rating": "",
        "runtime": "10:32",
        "published": "2023/05/11",
        "url": "http://pbs.org/video/bob-brix-wwii-oral-history-56avcm/",
        "videoId": "bob-brix-wwii-oral-history-56avcm",
        "videoSource": "cove",
        "id": "c8034bad-0666-42f9-9f8f-58e059c9fc7e"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": true,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('c35393e0-f0fd-11ed-a875-31db497bbd26');
    });
    $(window).resize(function(){
        resizePlaylist('c35393e0-f0fd-11ed-a875-31db497bbd26');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'] = playlistJson;
    window.settingsMapping['c35393e0-f0fd-11ed-a875-31db497bbd26'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'];
            var currentSettings = settingsMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('409fa9b0-f5b3-11ed-9166-85777f84ad2e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'];
        var currentSettings = settingsMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['409fa9b0-f5b3-11ed-9166-85777f84ad2e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '409fa9b0-f5b3-11ed-9166-85777f84ad2e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Delvin Owen, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Delvin Owen is a WWII U.S. Naval Reserve Veteran who operated test flights on aircraft.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/pCNtOuq-asset-mezzanine-16x9-NeQEoyp.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "iZ4BkV_dzgaxS-9JK9nTjA==",
        "expires": "",
        "rating": "",
        "runtime": "7:31",
        "published": "2023/05/15",
        "url": "http://pbs.org/video/delvin-owen-wwii-oral-history-rcqgff/",
        "videoId": "delvin-owen-wwii-oral-history-rcqgff",
        "videoSource": "cove",
        "id": "2bc851ac-d36e-4e60-8106-83f5ebd14fed"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('409fa9b0-f5b3-11ed-9166-85777f84ad2e');
    });
    $(window).resize(function(){
        resizePlaylist('409fa9b0-f5b3-11ed-9166-85777f84ad2e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'] = playlistJson;
    window.settingsMapping['409fa9b0-f5b3-11ed-9166-85777f84ad2e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'];
            var currentSettings = settingsMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('5c6cd1e0-f5b3-11ed-9166-85777f84ad2e', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'];
        var currentSettings = settingsMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '5c6cd1e0-f5b3-11ed-9166-85777f84ad2e').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Paul Wojahn, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Paul Wojahn is a WWII US Marine who fought as a pioneer soldier in the Pacific Theater.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/H1G4dS3-asset-mezzanine-16x9-Z3MKlEC.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "X5Sq7ce0lL_URNDJV3H1hQ==",
        "expires": "",
        "rating": "",
        "runtime": "10:05",
        "published": "2023/05/29",
        "url": "http://pbs.org/video/paul-wojahn-wwii-oral-history-mpq8rl/",
        "videoId": "paul-wojahn-wwii-oral-history-mpq8rl",
        "videoSource": "cove",
        "id": "715d8cee-3b11-4934-b736-4da1cd540c2a"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('5c6cd1e0-f5b3-11ed-9166-85777f84ad2e');
    });
    $(window).resize(function(){
        resizePlaylist('5c6cd1e0-f5b3-11ed-9166-85777f84ad2e');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'] = playlistJson;
    window.settingsMapping['5c6cd1e0-f5b3-11ed-9166-85777f84ad2e'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'];
            var currentSettings = settingsMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('065dc8d1-273a-436e-88e7-cab3fcb5e3cd', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'];
        var currentSettings = settingsMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '065dc8d1-273a-436e-88e7-cab3fcb5e3cd').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Fay Hendricks, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Fay Hendricks is a WWII U.S. Army Veteran who served in the Philippines.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/KM2xdee-asset-mezzanine-16x9-G0DmLA0.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "CwhKwBlE2bnO3CE7XrLwPA==",
        "expires": "",
        "rating": "",
        "runtime": "14:52",
        "published": "2023/04/27",
        "url": "http://pbs.org/video/fay-hendricks-wwii-oral-history-h6jy7l/",
        "videoId": "fay-hendricks-wwii-oral-history-h6jy7l",
        "videoSource": "cove",
        "id": "62c4064a-2c0d-4629-b241-62b4113a8fec"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('065dc8d1-273a-436e-88e7-cab3fcb5e3cd');
    });
    $(window).resize(function(){
        resizePlaylist('065dc8d1-273a-436e-88e7-cab3fcb5e3cd');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'] = playlistJson;
    window.settingsMapping['065dc8d1-273a-436e-88e7-cab3fcb5e3cd'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['c568b1da-968c-42fa-b482-11056e39ece8'];
            var currentSettings = settingsMapping['c568b1da-968c-42fa-b482-11056e39ece8'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('c568b1da-968c-42fa-b482-11056e39ece8', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['c568b1da-968c-42fa-b482-11056e39ece8'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['c568b1da-968c-42fa-b482-11056e39ece8'];
        var currentSettings = settingsMapping['c568b1da-968c-42fa-b482-11056e39ece8'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['c568b1da-968c-42fa-b482-11056e39ece8'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'c568b1da-968c-42fa-b482-11056e39ece8').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Bill Friberg, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Bill Friberg is a WWII U.S. Marine Veteran who served as an airplane mechanic.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/liXLXGe-asset-mezzanine-16x9-LqQOhvW.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "-NnyxTL22WsxrrumiAnmow==",
        "expires": "",
        "rating": "",
        "runtime": "5:12",
        "published": "2023/05/01",
        "url": "http://pbs.org/video/bill-friberg-wwii-oral-history-ku7kdc/",
        "videoId": "bill-friberg-wwii-oral-history-ku7kdc",
        "videoSource": "cove",
        "id": "63d469c1-75be-4c5b-b1b4-6bd2cdb8893c"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('c568b1da-968c-42fa-b482-11056e39ece8');
    });
    $(window).resize(function(){
        resizePlaylist('c568b1da-968c-42fa-b482-11056e39ece8');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['c568b1da-968c-42fa-b482-11056e39ece8'] = playlistJson;
    window.settingsMapping['c568b1da-968c-42fa-b482-11056e39ece8'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'];
            var currentSettings = settingsMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('1f1d3cdc-966d-4e67-9339-a38f1495b184', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'];
        var currentSettings = settingsMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['1f1d3cdc-966d-4e67-9339-a38f1495b184'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '1f1d3cdc-966d-4e67-9339-a38f1495b184').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "William Homan, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "William Homan is a WWII US Air Corps Veteran who served as a a mechanic on a b-17 bomber.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/7eM8mNZ-asset-mezzanine-16x9-hLuPzmW.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "PWyg1S0_3jSYmtAflf4MNA==",
        "expires": "",
        "rating": "",
        "runtime": "6:14",
        "published": "2023/05/04",
        "url": "http://pbs.org/video/william-homan-wwii-oral-history-kha5sa/",
        "videoId": "william-homan-wwii-oral-history-kha5sa",
        "videoSource": "cove",
        "id": "e1f01895-758b-4828-92ec-12e8931b0297"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('1f1d3cdc-966d-4e67-9339-a38f1495b184');
    });
    $(window).resize(function(){
        resizePlaylist('1f1d3cdc-966d-4e67-9339-a38f1495b184');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'] = playlistJson;
    window.settingsMapping['1f1d3cdc-966d-4e67-9339-a38f1495b184'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'];
            var currentSettings = settingsMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('9440df50-e85f-11ed-8965-65e001f2d6ea', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'];
        var currentSettings = settingsMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['9440df50-e85f-11ed-8965-65e001f2d6ea'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '9440df50-e85f-11ed-8965-65e001f2d6ea').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Ray Fagen Memorial Airshow",
        "titlePlaceholder": "Title",
        "description": "Ray Fagen Airshow in Granite Falls, MN is a biyearly event held at Fagen Fighters Museum.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/x6eUCq7-asset-mezzanine-16x9-dOafZOh.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "roJ6W8JFamB98VD2r87q6g==",
        "expires": "",
        "rating": "",
        "runtime": "8:52",
        "published": "2023/04/20",
        "url": "http://pbs.org/video/ray-fagen-memorial-airshow-zvemrw/",
        "videoId": "ray-fagen-memorial-airshow-zvemrw",
        "videoSource": "cove",
        "id": "302fd08e-3bec-4b7b-bdaf-c4483bcc830d"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('9440df50-e85f-11ed-8965-65e001f2d6ea');
    });
    $(window).resize(function(){
        resizePlaylist('9440df50-e85f-11ed-8965-65e001f2d6ea');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'] = playlistJson;
    window.settingsMapping['9440df50-e85f-11ed-8965-65e001f2d6ea'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['908809a0-f0fd-11ed-a875-31db497bbd26'];
            var currentSettings = settingsMapping['908809a0-f0fd-11ed-a875-31db497bbd26'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('908809a0-f0fd-11ed-a875-31db497bbd26', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['908809a0-f0fd-11ed-a875-31db497bbd26'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['908809a0-f0fd-11ed-a875-31db497bbd26'];
        var currentSettings = settingsMapping['908809a0-f0fd-11ed-a875-31db497bbd26'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['908809a0-f0fd-11ed-a875-31db497bbd26'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '908809a0-f0fd-11ed-a875-31db497bbd26').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Harlan Rosvold, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Harlan Rosvold was a WWII US Marine Corps Veteran who served in the Pacific theater.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/wnqd8Bx-asset-mezzanine-16x9-fI48VFD.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "VqeshBRr8LnsPeIgRw2lGg==",
        "expires": "",
        "rating": "",
        "runtime": "5:43",
        "published": "2023/04/06",
        "url": "http://pbs.org/video/harlan-rosvold-g06jqj/",
        "videoId": "harlan-rosvold-g06jqj",
        "videoSource": "cove",
        "id": "c0793bd4-9055-4024-b7bd-84ba73c6bf2b"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('908809a0-f0fd-11ed-a875-31db497bbd26');
    });
    $(window).resize(function(){
        resizePlaylist('908809a0-f0fd-11ed-a875-31db497bbd26');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['908809a0-f0fd-11ed-a875-31db497bbd26'] = playlistJson;
    window.settingsMapping['908809a0-f0fd-11ed-a875-31db497bbd26'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'];
            var currentSettings = settingsMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('629faae9-ebe1-4a16-910f-f8f4aa6a3d16', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'];
        var currentSettings = settingsMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '629faae9-ebe1-4a16-910f-f8f4aa6a3d16').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Paul Fynboh, WWII Oral History",
        "titlePlaceholder": "Title",
        "description": "Paul Fynboh is a US Navy veteran who served as Electrician and loader in WWII.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/J2AfXzk-asset-mezzanine-16x9-MCeSDxO.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "6LPZyWEC3nKqTwaSwrSl3g==",
        "expires": "",
        "rating": "",
        "runtime": "6:44",
        "published": "2023/04/17",
        "url": "http://pbs.org/video/paul-fynboh-wwii-oral-history-i35bco/",
        "videoId": "paul-fynboh-wwii-oral-history-i35bco",
        "videoSource": "cove",
        "id": "061232fc-7af3-4f3c-9603-50fb0f7e6ecc"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4,
    "endScreen": false
}
    


    $(window).on('load', function(){
        resizePlaylist('629faae9-ebe1-4a16-910f-f8f4aa6a3d16');
    });
    $(window).resize(function(){
        resizePlaylist('629faae9-ebe1-4a16-910f-f8f4aa6a3d16');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'] = playlistJson;
    window.settingsMapping['629faae9-ebe1-4a16-910f-f8f4aa6a3d16'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['95e09558-d058-433e-a493-fbeb7074c44a'];
            var currentSettings = settingsMapping['95e09558-d058-433e-a493-fbeb7074c44a'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('95e09558-d058-433e-a493-fbeb7074c44a', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['95e09558-d058-433e-a493-fbeb7074c44a'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['95e09558-d058-433e-a493-fbeb7074c44a'];
        var currentSettings = settingsMapping['95e09558-d058-433e-a493-fbeb7074c44a'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['95e09558-d058-433e-a493-fbeb7074c44a'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '95e09558-d058-433e-a493-fbeb7074c44a').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Vietnam Survival Story with Eugene Murphy",
        "titlePlaceholder": "Title",
        "description": "Vietnam veterans Gene Murphy and Lyle Bowes of Sioux Falls tell their stories.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/XYyB6vu-asset-mezzanine-16x9-haQz6rg.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "SjGyNi6HG5WSJD3Pu3I5Hw==",
        "expires": "",
        "rating": "",
        "runtime": "24:13",
        "published": "2022/03/22",
        "url": "http://pbs.org/video/vietnam-survival-story-eugene-murphy-1/",
        "videoId": "vietnam-survival-story-eugene-murphy-1",
        "videoSource": "cove",
        "id": "9a5ecdc8-3fb7-4f0a-a5eb-f4386977a0fc"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('95e09558-d058-433e-a493-fbeb7074c44a');
    });
    $(window).resize(function(){
        resizePlaylist('95e09558-d058-433e-a493-fbeb7074c44a');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['95e09558-d058-433e-a493-fbeb7074c44a'] = playlistJson;
    window.settingsMapping['95e09558-d058-433e-a493-fbeb7074c44a'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'];
            var currentSettings = settingsMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('52553146-dfe6-4a93-a1e6-1bfdb48169d0', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'];
        var currentSettings = settingsMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['52553146-dfe6-4a93-a1e6-1bfdb48169d0'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '52553146-dfe6-4a93-a1e6-1bfdb48169d0').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "40 Thieves on Saipan",
        "titlePlaceholder": "Title",
        "description": "40 Thieves on Saipan is a love letter from a son to his WWII vet father.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/pq0ebLN-asset-mezzanine-16x9-TXwrqO9.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "BLYUAPZCA089TUn8lwNrLw==",
        "expires": "",
        "rating": "",
        "runtime": "19:13",
        "published": "2022/04/20",
        "url": "http://pbs.org/video/40-thieves-saipan-zrsshu/",
        "videoId": "40-thieves-saipan-zrsshu",
        "videoSource": "cove",
        "id": "a9cf0d57-348f-4ccf-80ac-455c476aafd0"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('52553146-dfe6-4a93-a1e6-1bfdb48169d0');
    });
    $(window).resize(function(){
        resizePlaylist('52553146-dfe6-4a93-a1e6-1bfdb48169d0');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'] = playlistJson;
    window.settingsMapping['52553146-dfe6-4a93-a1e6-1bfdb48169d0'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'];
            var currentSettings = settingsMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('af8d46ab-3830-4860-b6a8-0424d91ab1f2', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'];
        var currentSettings = settingsMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['af8d46ab-3830-4860-b6a8-0424d91ab1f2'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'af8d46ab-3830-4860-b6a8-0424d91ab1f2').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Postcards",
        "channelPlaceholder": "Content channel",
        "title": "Don McPherson",
        "titlePlaceholder": "Title",
        "description": "WWII Navy Ace Don McPherson shares his story.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/h0Sfg73-asset-mezzanine-16x9-DJlrklM.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "yh--6NvC-H77JgmcPDHSGQ==",
        "expires": "",
        "rating": "",
        "runtime": "4:42",
        "published": "2022/02/02",
        "url": "http://pbs.org/video/don-mcpherson/",
        "videoId": "don-mcpherson",
        "videoSource": "cove",
        "id": "01a49d25-8511-4b90-a4d7-9ceb0e0c535c"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('af8d46ab-3830-4860-b6a8-0424d91ab1f2');
    });
    $(window).resize(function(){
        resizePlaylist('af8d46ab-3830-4860-b6a8-0424d91ab1f2');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'] = playlistJson;
    window.settingsMapping['af8d46ab-3830-4860-b6a8-0424d91ab1f2'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'];
            var currentSettings = settingsMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('631e3abc-e296-4272-8dbb-1f0fd62a449d', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'];
        var currentSettings = settingsMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['631e3abc-e296-4272-8dbb-1f0fd62a449d'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '631e3abc-e296-4272-8dbb-1f0fd62a449d').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "XNo914LSm8YLQucdr-h81Q==",
        "title": "1969 USS Enterprise Fire",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/1969-uss-enterprise-fire-musician-dan-reeb-prairie-arts-ch-t/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "1969-uss-enterprise-fire-musician-dan-reeb-prairie-arts-ch-t",
        "expires": "",
        "published": "2020/04/25",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/i9CTqYg-asset-mezzanine-16x9-ijZ9nOX.png"
        },
        "rating": "",
        "description": "Woody Peet, Dave Jerpseth and Lynell Leasman talk about the USS Enterprise Fire.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "4201c9c2-e118-48af-a353-db2b28a563a3",
        "runtime": "13:32"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('631e3abc-e296-4272-8dbb-1f0fd62a449d');
    });
    $(window).resize(function(){
        resizePlaylist('631e3abc-e296-4272-8dbb-1f0fd62a449d');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'] = playlistJson;
    window.settingsMapping['631e3abc-e296-4272-8dbb-1f0fd62a449d'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'];
            var currentSettings = settingsMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('5276b54c-03dd-4f92-8dfc-c82e617a4b9b', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'];
        var currentSettings = settingsMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '5276b54c-03dd-4f92-8dfc-c82e617a4b9b').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "a-oJncBn6fGK33CWSg5ngg==",
        "title": "Majestic Chaos",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/majestic-chaos-d9i1hr/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "majestic-chaos-d9i1hr",
        "expires": "",
        "published": "2019/04/08",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/aZxZ9oY-asset-mezzanine-16x9-0DersH8.png"
        },
        "rating": "",
        "description": "The biggest bomb in US history detonated on March 1 1954 &amp; USMC veteran Bob Bormann saw it",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "39d52819-2fff-4d83-86d3-6a3ed5fe8e5c",
        "runtime": "18:10"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('5276b54c-03dd-4f92-8dfc-c82e617a4b9b');
    });
    $(window).resize(function(){
        resizePlaylist('5276b54c-03dd-4f92-8dfc-c82e617a4b9b');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'] = playlistJson;
    window.settingsMapping['5276b54c-03dd-4f92-8dfc-c82e617a4b9b'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'];
            var currentSettings = settingsMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('f9f51803-2abe-4533-be08-0cfe81e56b5b', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'];
        var currentSettings = settingsMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['f9f51803-2abe-4533-be08-0cfe81e56b5b'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'f9f51803-2abe-4533-be08-0cfe81e56b5b').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "ksxNwNJrBfgfDOFAq2HNww==",
        "title": "Postcards: Dave Hansen, Vietnam Veteran",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-dave-hansen-vietnam-vet-nyl5er/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-dave-hansen-vietnam-vet-nyl5er",
        "expires": "",
        "published": "2021/04/25",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/kF9qat7-asset-mezzanine-16x9-vylzDZW.png"
        },
        "rating": "",
        "description": "Learn about the Vietnam War from Dave Hanson and the ongoing struggle with PTSD.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "79be002f-34b5-4d5e-a8ed-43519a773d08",
        "runtime": "28:45"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('f9f51803-2abe-4533-be08-0cfe81e56b5b');
    });
    $(window).resize(function(){
        resizePlaylist('f9f51803-2abe-4533-be08-0cfe81e56b5b');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'] = playlistJson;
    window.settingsMapping['f9f51803-2abe-4533-be08-0cfe81e56b5b'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['561aca40-d39b-11eb-8210-f765a3000ffb'];
            var currentSettings = settingsMapping['561aca40-d39b-11eb-8210-f765a3000ffb'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('561aca40-d39b-11eb-8210-f765a3000ffb', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['561aca40-d39b-11eb-8210-f765a3000ffb'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['561aca40-d39b-11eb-8210-f765a3000ffb'];
        var currentSettings = settingsMapping['561aca40-d39b-11eb-8210-f765a3000ffb'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['561aca40-d39b-11eb-8210-f765a3000ffb'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '561aca40-d39b-11eb-8210-f765a3000ffb').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "c6I55SYM3kakH8wX1-MoLQ==",
        "title": "Craig Tschetter, Vietnam War Vet",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/craig-tschetter-vietnam-vet-7enzbo/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "craig-tschetter-vietnam-vet-7enzbo",
        "expires": "",
        "published": "2021/04/10",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/Eimr6IY-asset-mezzanine-16x9-xHLAPDW.png"
        },
        "rating": "",
        "description": "Learn about the the book Fifteen Minutes Ago: A Vietnam War Memoir by Craig Tschetter.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "6a847018-d0a4-4480-b8b1-24b18c557397",
        "runtime": "29:08"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('561aca40-d39b-11eb-8210-f765a3000ffb');
    });
    $(window).resize(function(){
        resizePlaylist('561aca40-d39b-11eb-8210-f765a3000ffb');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['561aca40-d39b-11eb-8210-f765a3000ffb'] = playlistJson;
    window.settingsMapping['561aca40-d39b-11eb-8210-f765a3000ffb'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'];
            var currentSettings = settingsMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('83c1a630-d39b-11eb-8210-f765a3000ffb', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'];
        var currentSettings = settingsMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['83c1a630-d39b-11eb-8210-f765a3000ffb'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '83c1a630-d39b-11eb-8210-f765a3000ffb').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "CUiWEVClqXGJtz7mxHmpUA==",
        "title": "Inventor Don Husby",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/inventor-don-husby-mbqnno/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "inventor-don-husby-mbqnno",
        "expires": "",
        "published": "2020/05/09",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/dTiccbd-asset-mezzanine-16x9-YodHdot.png"
        },
        "rating": "",
        "description": "Don Husby secured more than 25 patents for his lighting inventions and other innovations.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "c9274f1e-ddd1-4038-9569-df328f589140",
        "runtime": "7:17"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('83c1a630-d39b-11eb-8210-f765a3000ffb');
    });
    $(window).resize(function(){
        resizePlaylist('83c1a630-d39b-11eb-8210-f765a3000ffb');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'] = playlistJson;
    window.settingsMapping['83c1a630-d39b-11eb-8210-f765a3000ffb'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'];
            var currentSettings = settingsMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('eeeef1b6-5e70-4df1-8ef6-269b05017d33', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'];
        var currentSettings = settingsMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['eeeef1b6-5e70-4df1-8ef6-269b05017d33'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'eeeef1b6-5e70-4df1-8ef6-269b05017d33').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "_zzn6OtsrNrefKagMPw9vA==",
        "title": "WWII Story",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/wwii-story-nyqovp/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "wwii-story-nyqovp",
        "expires": "",
        "published": "2020/05/23",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/AhyOsu8-asset-mezzanine-16x9-8KcuZTx.png"
        },
        "rating": "",
        "description": "96-year-old Robert Millsaps tells his story of service in WWII.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "3fd5855b-099d-4a53-84eb-b33a976dfe00",
        "runtime": "9:42"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('eeeef1b6-5e70-4df1-8ef6-269b05017d33');
    });
    $(window).resize(function(){
        resizePlaylist('eeeef1b6-5e70-4df1-8ef6-269b05017d33');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'] = playlistJson;
    window.settingsMapping['eeeef1b6-5e70-4df1-8ef6-269b05017d33'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'];
            var currentSettings = settingsMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('d9a45aa2-32ba-4912-8b6c-8de218a21beb', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'];
        var currentSettings = settingsMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['d9a45aa2-32ba-4912-8b6c-8de218a21beb'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'd9a45aa2-32ba-4912-8b6c-8de218a21beb').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "1sqA245WXK3OnsLlz2kBJQ==",
        "title": "WWII Museum Boxcar",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/pocyho-wwii-museum-boxcar/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "pocyho-wwii-museum-boxcar",
        "expires": "",
        "published": "2017/04/13",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/JPUtxaY-asset-mezzanine-16x9-WHABIJd.png"
        },
        "rating": "",
        "description": "A 118 year old railroad boxcar finds a new home at the center of a WWII museum exhibit.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "e7b57007-541c-4c54-a02b-1746fc9efe3f",
        "runtime": "15:20"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('d9a45aa2-32ba-4912-8b6c-8de218a21beb');
    });
    $(window).resize(function(){
        resizePlaylist('d9a45aa2-32ba-4912-8b6c-8de218a21beb');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'] = playlistJson;
    window.settingsMapping['d9a45aa2-32ba-4912-8b6c-8de218a21beb'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'];
            var currentSettings = settingsMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('e970d5d7-5d41-4b21-8e56-94838e8d8f39', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'];
        var currentSettings = settingsMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['e970d5d7-5d41-4b21-8e56-94838e8d8f39'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'e970d5d7-5d41-4b21-8e56-94838e8d8f39').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "HameG18WVK9RuIlqAaM1Cw==",
        "title": "Vietnam Story",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/vietnam-story-4ecbl9/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "vietnam-story-4ecbl9",
        "expires": "",
        "published": "2018/05/13",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/9WU7iR8-asset-mezzanine-16x9-SBLUJVH.png"
        },
        "rating": "",
        "description": "Charlie Hettling talks about his experience as a soldier during the Vietnam War.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "5a77a292-6213-4327-8277-d4cd331dcfee",
        "runtime": "5:48"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('e970d5d7-5d41-4b21-8e56-94838e8d8f39');
    });
    $(window).resize(function(){
        resizePlaylist('e970d5d7-5d41-4b21-8e56-94838e8d8f39');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'] = playlistJson;
    window.settingsMapping['e970d5d7-5d41-4b21-8e56-94838e8d8f39'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'];
            var currentSettings = settingsMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('264a0d4e-8d66-4ccb-b3bb-461e551821fd', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'];
        var currentSettings = settingsMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['264a0d4e-8d66-4ccb-b3bb-461e551821fd'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '264a0d4e-8d66-4ccb-b3bb-461e551821fd').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "N-ylqnRsNtMcc4raLr2pcg==",
        "title": "Fagen Fighters &amp; History Preservation",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-fagen-fighters-history-preservation/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-fagen-fighters-history-preservation",
        "expires": "",
        "published": "2015/05/10",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/172879/images/mezzanine_722.png"
        },
        "rating": "NR",
        "description": "Learn more about Fagen Fighters WWII Museum in Granite Falls, Minnesota.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "f93181f3-182a-477e-bf99-0a44d0a0e6a5",
        "runtime": "28:46"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('264a0d4e-8d66-4ccb-b3bb-461e551821fd');
    });
    $(window).resize(function(){
        resizePlaylist('264a0d4e-8d66-4ccb-b3bb-461e551821fd');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'] = playlistJson;
    window.settingsMapping['264a0d4e-8d66-4ccb-b3bb-461e551821fd'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['731096de-cda3-4436-a0fb-fc086a6a66be'];
            var currentSettings = settingsMapping['731096de-cda3-4436-a0fb-fc086a6a66be'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('731096de-cda3-4436-a0fb-fc086a6a66be', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['731096de-cda3-4436-a0fb-fc086a6a66be'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['731096de-cda3-4436-a0fb-fc086a6a66be'];
        var currentSettings = settingsMapping['731096de-cda3-4436-a0fb-fc086a6a66be'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['731096de-cda3-4436-a0fb-fc086a6a66be'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '731096de-cda3-4436-a0fb-fc086a6a66be').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "8WbH3wkuWW5fAaAJMoq9pg==",
        "title": "World War II Veteran",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-russian-art/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-russian-art",
        "expires": "",
        "published": "2014/05/25",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/129562/images/mezzanine_918.png"
        },
        "rating": "NR",
        "description": "Hear a story from a World War II vet told at the Fagen Fighters Museum in Granite Falls.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "7904e355-b071-40df-bd1c-b9c40f9fcde0",
        "runtime": "6:15"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('731096de-cda3-4436-a0fb-fc086a6a66be');
    });
    $(window).resize(function(){
        resizePlaylist('731096de-cda3-4436-a0fb-fc086a6a66be');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['731096de-cda3-4436-a0fb-fc086a6a66be'] = playlistJson;
    window.settingsMapping['731096de-cda3-4436-a0fb-fc086a6a66be'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'];
            var currentSettings = settingsMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('c7624abe-8ca5-4904-9d86-f53c1d41edeb', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'];
        var currentSettings = settingsMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['c7624abe-8ca5-4904-9d86-f53c1d41edeb'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'c7624abe-8ca5-4904-9d86-f53c1d41edeb').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "2ibVRJ0sIwIIMWUk8NccQQ==",
        "title": "Willmar War Memorial Room",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-willmar-war-memorial-room/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-willmar-war-memorial-room",
        "expires": "",
        "published": "2014/04/06",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/122893/images/mezzanine_922.jpg"
        },
        "rating": "NR",
        "description": "Willmar War Auditorium is featured.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "d20b13e6-6d39-46d7-a656-613d1d0b7556",
        "runtime": "8:26"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('c7624abe-8ca5-4904-9d86-f53c1d41edeb');
    });
    $(window).resize(function(){
        resizePlaylist('c7624abe-8ca5-4904-9d86-f53c1d41edeb');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'] = playlistJson;
    window.settingsMapping['c7624abe-8ca5-4904-9d86-f53c1d41edeb'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['d817fa37-9e48-4036-a337-1c950ac5267b'];
            var currentSettings = settingsMapping['d817fa37-9e48-4036-a337-1c950ac5267b'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('d817fa37-9e48-4036-a337-1c950ac5267b', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['d817fa37-9e48-4036-a337-1c950ac5267b'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['d817fa37-9e48-4036-a337-1c950ac5267b'];
        var currentSettings = settingsMapping['d817fa37-9e48-4036-a337-1c950ac5267b'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['d817fa37-9e48-4036-a337-1c950ac5267b'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'd817fa37-9e48-4036-a337-1c950ac5267b').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "AKz9r7Sw6KlSyc4LN2W3Xw==",
        "title": "Earl Orr",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-earl-orr/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-earl-orr",
        "expires": "",
        "published": "2014/05/04",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/127304/images/mezzanine_442.jpg"
        },
        "rating": "NR",
        "description": "Memories from US Navy veteran, Earl W. Orr.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "1bd28339-73f4-49c0-9870-e172d929f04a",
        "runtime": "4:40"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('d817fa37-9e48-4036-a337-1c950ac5267b');
    });
    $(window).resize(function(){
        resizePlaylist('d817fa37-9e48-4036-a337-1c950ac5267b');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['d817fa37-9e48-4036-a337-1c950ac5267b'] = playlistJson;
    window.settingsMapping['d817fa37-9e48-4036-a337-1c950ac5267b'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'];
            var currentSettings = settingsMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('0d5120f9-9e8e-4873-a963-dddab7ae89b8', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'];
        var currentSettings = settingsMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['0d5120f9-9e8e-4873-a963-dddab7ae89b8'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '0d5120f9-9e8e-4873-a963-dddab7ae89b8').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "OAytzdTu23kYef28Ma8pJg==",
        "title": "War Stories: Stan Reeves",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-war-stories-stan-reeves/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-war-stories-stan-reeves",
        "expires": "",
        "published": "2014/04/06",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/122890/images/mezzanine_610.jpg"
        },
        "rating": "NR",
        "description": "Local veteran tells his story at the Fagen Fighters WWII Museum.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "f5407ccb-dde7-4ca3-aba4-367317d78afb",
        "runtime": "5:55"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('0d5120f9-9e8e-4873-a963-dddab7ae89b8');
    });
    $(window).resize(function(){
        resizePlaylist('0d5120f9-9e8e-4873-a963-dddab7ae89b8');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'] = playlistJson;
    window.settingsMapping['0d5120f9-9e8e-4873-a963-dddab7ae89b8'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'];
            var currentSettings = settingsMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('5136d017-3694-41f6-8bb6-9a2dc9e14411', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'];
        var currentSettings = settingsMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['5136d017-3694-41f6-8bb6-9a2dc9e14411'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '5136d017-3694-41f6-8bb6-9a2dc9e14411').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "ULGCSUQDarg-0FwVSE4v0A==",
        "title": "Honor Flight Southwest Minnesota, Part 1",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-honor-flight-southwest-minnesota-part-1/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-honor-flight-southwest-minnesota-part-1",
        "expires": "",
        "published": "2011/10/29",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/3177/images/Mezzanine_325.jpg"
        },
        "rating": "NR",
        "description": "A documentary detailing a trip to Washington D.C. by 100 World War II veterans from SW MN.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "16fe9fd3-27a0-410b-ad4f-5edba7f23e7c",
        "runtime": "28:44"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('5136d017-3694-41f6-8bb6-9a2dc9e14411');
    });
    $(window).resize(function(){
        resizePlaylist('5136d017-3694-41f6-8bb6-9a2dc9e14411');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'] = playlistJson;
    window.settingsMapping['5136d017-3694-41f6-8bb6-9a2dc9e14411'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['556c61ca-fec0-410d-9f09-22792d065180'];
            var currentSettings = settingsMapping['556c61ca-fec0-410d-9f09-22792d065180'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('556c61ca-fec0-410d-9f09-22792d065180', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['556c61ca-fec0-410d-9f09-22792d065180'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['556c61ca-fec0-410d-9f09-22792d065180'];
        var currentSettings = settingsMapping['556c61ca-fec0-410d-9f09-22792d065180'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['556c61ca-fec0-410d-9f09-22792d065180'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '556c61ca-fec0-410d-9f09-22792d065180').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "partnerPlayerUrl": "KAACY31kfZmbSeFf92bhOw==",
        "title": "Honor Flight Southwest Minnesota, Part 2",
        "titlePlaceholder": "Title",
        "url": "http://pbs.org/video/postcards-honor-flight-sw-mn-part-2/",
        "videoSource": "cove",
        "descriptionPlaceholder": "Description",
        "videoId": "postcards-honor-flight-sw-mn-part-2",
        "expires": "",
        "published": "2011/10/29",
        "img": {
            "isDefault": false,
            "url": "https://image.pbs.org/video-assets/KWCM/postcards/3115/images/Mezzanine_062.jpg"
        },
        "rating": "NR",
        "description": "An overview of 2010 programming produced by Pioneer Public Television.",
        "channelPlaceholder": "Content channel",
        "channel": "Postcards",
        "id": "1a9750c1-0d54-4ae2-b80a-87ccbd59f6e0",
        "runtime": "28:01"
    }
];
        var settingsJson = {
    "playlistHeight": 4,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "showDescription": true,
    "showContentChannel": true,
    "showTitle": true
}
    


    $(window).on('load', function(){
        resizePlaylist('556c61ca-fec0-410d-9f09-22792d065180');
    });
    $(window).resize(function(){
        resizePlaylist('556c61ca-fec0-410d-9f09-22792d065180');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['556c61ca-fec0-410d-9f09-22792d065180'] = playlistJson;
    window.settingsMapping['556c61ca-fec0-410d-9f09-22792d065180'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'];
            var currentSettings = settingsMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('be8cfea0-d78b-11ec-b27b-0d437218d429', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'];
        var currentSettings = settingsMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['be8cfea0-d78b-11ec-b27b-0d437218d429'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + 'be8cfea0-d78b-11ec-b27b-0d437218d429').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Prairie Sportsman",
        "channelPlaceholder": "Content channel",
        "title": "Lake of the Woods Memorial",
        "titlePlaceholder": "Title",
        "description": "The late Mark Bode, a U.S. Navy veteran, is memorialized at Lake of the Woods.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/92RyGzK-asset-mezzanine-16x9-J6sNZO6.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "v5Zn2SxdT7yDwVTTbT2HIg==",
        "expires": "",
        "rating": "",
        "runtime": "10:00",
        "published": "2022/02/08",
        "url": "http://pbs.org/video/lake-woods-memorial/",
        "videoId": "lake-woods-memorial",
        "videoSource": "cove",
        "id": "6852828d-50a5-4e0c-bdcf-d157a5b5251d"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4
}
    


    $(window).on('load', function(){
        resizePlaylist('be8cfea0-d78b-11ec-b27b-0d437218d429');
    });
    $(window).resize(function(){
        resizePlaylist('be8cfea0-d78b-11ec-b27b-0d437218d429');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'] = playlistJson;
    window.settingsMapping['be8cfea0-d78b-11ec-b27b-0d437218d429'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['98eae680-d78b-11ec-b27b-0d437218d429'];
            var currentSettings = settingsMapping['98eae680-d78b-11ec-b27b-0d437218d429'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('98eae680-d78b-11ec-b27b-0d437218d429', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['98eae680-d78b-11ec-b27b-0d437218d429'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['98eae680-d78b-11ec-b27b-0d437218d429'];
        var currentSettings = settingsMapping['98eae680-d78b-11ec-b27b-0d437218d429'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['98eae680-d78b-11ec-b27b-0d437218d429'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '98eae680-d78b-11ec-b27b-0d437218d429').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Prairie Sportsman",
        "channelPlaceholder": "Content channel",
        "title": "One of a Kind",
        "titlePlaceholder": "Title",
        "description": "An army sergeant who lost an arm is presented with a custom-made rod and reel.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/TQzs3l3-asset-mezzanine-16x9-QKtkj6j.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "wQTZiSID_MkjZPDjH5F_ig==",
        "expires": "",
        "rating": "",
        "runtime": "12:52",
        "published": "2022/01/26",
        "url": "http://pbs.org/video/one-kind/",
        "videoId": "one-kind",
        "videoSource": "cove",
        "id": "0902dd61-d7b9-471e-b076-f1e8440f2c24"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4
}
    


    $(window).on('load', function(){
        resizePlaylist('98eae680-d78b-11ec-b27b-0d437218d429');
    });
    $(window).resize(function(){
        resizePlaylist('98eae680-d78b-11ec-b27b-0d437218d429');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['98eae680-d78b-11ec-b27b-0d437218d429'] = playlistJson;
    window.settingsMapping['98eae680-d78b-11ec-b27b-0d437218d429'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['5d523f60-d78b-11ec-b27b-0d437218d429'];
            var currentSettings = settingsMapping['5d523f60-d78b-11ec-b27b-0d437218d429'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('5d523f60-d78b-11ec-b27b-0d437218d429', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['5d523f60-d78b-11ec-b27b-0d437218d429'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['5d523f60-d78b-11ec-b27b-0d437218d429'];
        var currentSettings = settingsMapping['5d523f60-d78b-11ec-b27b-0d437218d429'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['5d523f60-d78b-11ec-b27b-0d437218d429'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '5d523f60-d78b-11ec-b27b-0d437218d429').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Prairie Sportsman",
        "channelPlaceholder": "Content channel",
        "title": "Veterans Appreciation Hunt",
        "titlePlaceholder": "Title",
        "description": "Nobles County Pheasants Forever hosts an annual Veterans Appreciation Hunt.",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/QMV5bNT-asset-mezzanine-16x9-kPE9ktn.png",
            "isDefault": false
        },
        "partnerPlayerUrl": "mN6RV9QD2uYGcIi97Jih6w==",
        "expires": "",
        "rating": "",
        "runtime": "9:36",
        "published": "2021/04/06",
        "url": "http://pbs.org/video/veterans-appreciation-hunt-1utcif/",
        "videoId": "veterans-appreciation-hunt-1utcif",
        "videoSource": "cove",
        "id": "22fce489-4769-49e2-871d-d25dd6a397e9"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4
}
    


    $(window).on('load', function(){
        resizePlaylist('5d523f60-d78b-11ec-b27b-0d437218d429');
    });
    $(window).resize(function(){
        resizePlaylist('5d523f60-d78b-11ec-b27b-0d437218d429');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['5d523f60-d78b-11ec-b27b-0d437218d429'] = playlistJson;
    window.settingsMapping['5d523f60-d78b-11ec-b27b-0d437218d429'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>
<script>
        $(document).ready(function () {
            var currentPlaylist = playlistMapping['675dada0-d54b-437c-a6da-d9e446442633'];
            var currentSettings = settingsMapping['675dada0-d54b-437c-a6da-d9e446442633'];
            $('.playlist-item').on('click', function () {
                $(this).addClass('selected-item').siblings().removeClass('selected-item');
            });
            if (currentPlaylist[0].videoSource === 'cove') {
                loadMMVideo('675dada0-d54b-437c-a6da-d9e446442633', 0, currentPlaylist, currentSettings, 'KWCM');
            }
        });

        function displayMMInfoItem(type, item, metadataSection) {
            var tag = '';

            var label = type && (type[0].toUpperCase() + type.slice(1));
            var tag = type !== 'runtime' ? label : '';

            if (item) {
                $('<div class="additional-mm-info ' + type + '"></div>').appendTo(metadataSection);
                var mediaManagerInfoItem = $(metadataSection + ' .' + type);
                tag && mediaManagerInfoItem.html(label + ': ');
                mediaManagerInfoItem.append(item);
            }
        }

        function fitMMVideo(elem) {
            var iFrame = elem;
            var aspectRatio = null;
            var actualPlayerWidth = iFrame.width();
            var topBarHeight = 0;


            if (iFrame.attr("width") != '100%') {
                //for backwards compatibility use hardcoded old values for player dimensions
                try {
                    var styleWidth = 512;
                    var styleHeight = 288;
                    aspectRatio = styleWidth / styleHeight;

                    iFrame.css({
                        "max-width": styleWidth,
                        "max-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth,
                        "min-height": actualPlayerWidth * styleHeight / styleWidth > styleHeight ? styleHeight : actualPlayerWidth * styleHeight / styleWidth
                    });
                } catch (e) {
                }
            } else {
                // the new player with width=100% and height=100%
                try {
                    aspectRatio = 16 / 9;

                    if (iFrame.attr('src').indexOf('topbar=true') != -1) {
                        topBarHeight = 40;
                    }

                    iFrame.css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                    iFrame.parent().css({
                        "height": actualPlayerWidth / aspectRatio + topBarHeight,
                    });
                } catch (e) {
                }
            }
        }

        function loadVideoIframe(response, playerObject, callsign) {
            var currentSettings = settingsMapping['675dada0-d54b-437c-a6da-d9e446442633'];
            template = response.player_code.template;
            var iframe = jQuery(template);
            iframe.attr('allow', 'encrypted-media');

            if (callsign) {
                iframe.attr('src', function (i, e) {
                    return e += '&callsign=' + callsign;
                })
            }
            iframe.attr('src', function (i, e) {
                return e += '&endscreen=' + !!currentSettings.endScreen;
            })
            playerObject.html(iframe);
            fitMMVideo(iframe);
            iframe.on('load', function () {
                fitMMVideo(jQuery(this));
            });
        }

        function loadVideoMetadata(currentSettings, item, metadataSection) {
            currentSettings.showTitle &&
            $(metadataSection + ' .title').html(item.title);

            currentSettings.showContentChannel &&
            $(metadataSection + ' .channel').html(item.channel);

            $(metadataSection + ' .additional-mm-info').remove();
            if (currentSettings.showAdditionalMediaManagerInfo) {
                var mediaManagerInfoTypes = ['runtime', 'published', 'expires', 'rating'];
                var mediaManagerInfoTypesLength = mediaManagerInfoTypes.length;
                for (var i = 0; i <= mediaManagerInfoTypesLength; i++) {
                    displayMMInfoItem(mediaManagerInfoTypes[i], item[mediaManagerInfoTypes[i]], metadataSection);
                }
            }

            if (currentSettings.showDescription) {
                $(metadataSection + ' .description').remove();
                $('<p class="description"></p>').appendTo(metadataSection);
                $(metadataSection + ' .description').html(item.description);
            }
        }

        function loadMMVideo(componentId, index, currentPlaylist, currentSettings, callsign) {
            var youtubeWrapper = '#youtube-wrapper_' + componentId;
            var videoContainer = '#video-container_' + componentId;
            var videoComponent = '#video-component_' + componentId;
            var videoContainerWrapper = videoComponent + ' .video-container__wrapper';
            var metadataSection = videoComponent + ' .video-info';

            $(youtubeWrapper).remove();
            $(videoContainer).remove();

            var videoContainerEl = document.createElement('div');
            videoContainerEl.id = 'video-container_' + componentId;
            videoContainerEl.className = 'video-container';
            $(videoContainerWrapper).prepend(videoContainerEl);
            var videoId = currentPlaylist[index].videoId;
            var title = currentPlaylist[index].title;
            var partnerPlayerUrl = currentPlaylist[index].partnerPlayerUrl;
            var APIBaseURL = PBS.BentoConfig.APIBaseURL || '/';
            var url = APIBaseURL + 'merlin_plugin/video_frame/';
            url += partnerPlayerUrl ? partnerPlayerUrl : videoId;
            if (callsign) {
                url += '/?callsign=' + callsign + '&title=' + title;
            }
            url += '/';
            $.ajax({
                url: url,
                dataType: 'json',
                success: function (response) {
                    var template, notAvailableImg;
                    var playerObject = $('#video-container_' + componentId);
                    var imgUrl = currentPlaylist[index].img.url;

                    if (response.player_code) {
                        loadVideoIframe(response, playerObject, callsign);
                    } else {
                        var notAvailableVideo = $('<img />');
                        notAvailableVideo.attr('src', imgUrl);
                        playerObject.html($(notAvailableVideo));
                    }

                    loadVideoMetadata(currentSettings, currentPlaylist[index], metadataSection);

                },
                error: function (xhr, status, err) {
                    console.error(xhr, status, err.toString());
                }
            });
        }
    </script>
<script>
    $(document).ready(function() {
        var currentPlaylist = playlistMapping['675dada0-d54b-437c-a6da-d9e446442633'];
        var currentSettings = settingsMapping['675dada0-d54b-437c-a6da-d9e446442633'];

        window.youtubeIframeMap = window.youtubeIframeMap || {};
        if(currentPlaylist[0].videoSource === 'youtube') {
            if (typeof window.youtubeIframeMap === 'undefined') {
                window.youtubeIframeMap = {};
            }
            window.youtubeIframeMap['675dada0-d54b-437c-a6da-d9e446442633'] = {
                'playlist': currentPlaylist,
                'settings': currentSettings,
            };
        }

        //check if single video & no metadata
        if ((currentPlaylist.length === 1 || !currentSettings.showPlaylist) &&
            !currentSettings.showTitle &&
            !currentSettings.showContentChannel &&
            !currentSettings.showDescription &&
            !currentSettings.showAdditionalMediaManagerInfo){
            $('#video-component_' + '675dada0-d54b-437c-a6da-d9e446442633').css({border: 'none'});
        }

        // This code loads the IFrame Player API code asynchronously.
        var scriptTag = document.getElementById("youtube_iframe_api");
        if(!scriptTag) {
            scriptTag = document.createElement('script');
            scriptTag.src = "https://www.youtube.com/iframe_api";
            scriptTag.id = "youtube_iframe_api";
            var firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag);
        }
    })

    // This function creates an <iframe> (and YouTube player) after the API code downloads.
    function onYouTubeIframeAPIReady() {
        for (var componentId in window.youtubeIframeMap) {
             var currentPlaylist = window.youtubeIframeMap[componentId]['playlist'];
             var currentSettings = window.youtubeIframeMap[componentId]['settings'];
             loadYoutubeVideo(componentId, 0, currentPlaylist, currentSettings);
        }
    }

    function loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings) {
        var player, playerVars;
        var videoComponent = '#video-component_' + componentId;
        var youtubeWrapper = document.createElement('div');
        youtubeWrapper.id = 'youtube-wrapper_' + componentId;
        youtubeWrapper.className = 'youtube-wrapper video-container';

        $('#video-container_' + componentId).remove();
        $('#youtube-wrapper_' + componentId).remove();
        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;

        $(videoComponent + ' .video-container__wrapper').prepend(youtubeWrapper);

        $(videoComponent + ' .youtube-wrapper').prepend(videoContainerEl);

        playerVars = Object.assign({},
            (currentPlaylist[index].rel === false) && { rel: 0 },
            (currentPlaylist[index].controls === false) && { controls: 0 },
            (currentPlaylist[index].fs === false) && { fs: 0 },
            (currentPlaylist[index].autoplay === true) && { autoplay: 1 },
            (currentPlaylist[index].start > 0) && { start: currentPlaylist[index].start },
            (currentPlaylist[index].end > 0  && currentPlaylist[index].start < currentPlaylist[index].end) && { end: currentPlaylist[index].end }
        );

        player = new YT.Player('video-container_' + componentId, {
            videoId: currentPlaylist[index].videoId,
            playerVars
        });

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description);

        $(videoComponent + ' .additional-mm-info').remove();
    }
</script>
<script>
    
        var playlistJson = [
    {
        "channel": "Prairie Sportsman",
        "channelPlaceholder": "Content channel",
        "title": "National Guard Pheasant Hunt",
        "titlePlaceholder": "Title",
        "description": "The Annual Minnesota National Guard Pheasant Hunt near Holloway, Minnesota",
        "descriptionPlaceholder": "Description",
        "img": {
            "url": "https://image.pbs.org/video-assets/KWCM/prairie-sportsman/3120/images/Mezzanine_975.jpg",
            "isDefault": false
        },
        "partnerPlayerUrl": "DhYwGdMrblITNiOLHcgznQ==",
        "expires": "",
        "rating": "NR",
        "runtime": "28:46",
        "published": "2011/02/26",
        "url": "http://pbs.org/video/prairie-sportsman-national-guard-pheasant-hunt/",
        "videoId": "prairie-sportsman-national-guard-pheasant-hunt",
        "videoSource": "cove",
        "id": "7aca0ff2-b2c0-4ed3-92e8-048d8a786c16"
    }
];
        var settingsJson = {
    "showTitle": true,
    "showContentChannel": true,
    "showDescription": true,
    "showAdditionalMediaManagerInfo": false,
    "showPlaylist": false,
    "playlistHeight": 4
}
    


    $(window).on('load', function(){
        resizePlaylist('675dada0-d54b-437c-a6da-d9e446442633');
    });
    $(window).resize(function(){
        resizePlaylist('675dada0-d54b-437c-a6da-d9e446442633');
    });

    if (typeof window.playlistMapping === 'undefined') {
        window.playlistMapping = {};
    }

    if (typeof window.settingsMapping === 'undefined') {
        window.settingsMapping = {};
    }
    window.playlistMapping['675dada0-d54b-437c-a6da-d9e446442633'] = playlistJson;
    window.settingsMapping['675dada0-d54b-437c-a6da-d9e446442633'] = settingsJson;

    function resizePlaylist(componentId) {
        const videoComponent = $('#video-component_' + componentId);
        const playlistWrapper = videoComponent.find('.playlist__wrapper');
        const playlistBody = playlistWrapper.find('.playlist-body');
        const isSmallPlaylist = playlistWrapper.hasClass('playlist-sm');
        const isLargeWindow =  $(window).width() >= 1024;
        const isOneColWithPlaylist = videoComponent.hasClass('column-12');
        if (isOneColWithPlaylist) {
            if(isLargeWindow) {
                const mainVideoHeight = videoComponent.find('.video-container').outerHeight() +
                                        videoComponent.find('.video-info').outerHeight();
                const playlistHeaderHeight = $('#playlist-header_' + componentId).outerHeight();

                playlistWrapper.css('height', mainVideoHeight + 'px');
                playlistBody.css('max-height', (mainVideoHeight - playlistHeaderHeight) + 'px');
            }
            else {
                playlistWrapper.css('height', 'auto');
                playlistBody.css('max-height', '400px');
            }
        }
        if(isSmallPlaylist){
            const playlistItemImgWrapper = playlistWrapper.find('.playlist-item-img-wrapper');
            const playlistItemInfo = playlistWrapper.find('.playlist-item-info');
            if(!isLargeWindow) {
                $(playlistItemImgWrapper).removeClass('span6');
                $(playlistItemInfo).removeClass('span6');
                $(playlistItemImgWrapper).addClass('span4');
                $(playlistItemInfo).addClass('span8');
            }
            else {
                $(playlistItemImgWrapper).removeClass('span4');
                $(playlistItemInfo).removeClass('span8');
                $(playlistItemImgWrapper).addClass('span6');
                $(playlistItemInfo).addClass('span6');
            }
        }

    }

    function selectPlaylistItem(componentId, index, videoSource) {
        var currentPlaylist = playlistMapping[componentId];
        var currentSettings = settingsMapping[componentId];
        switch(videoSource) {
            case 'cove':
                loadMMVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            case 'youtube':
                loadYoutubeVideo(componentId, index, currentPlaylist, currentSettings);
                break;
            default:
                loadDefault(componentId, index, currentPlaylist, currentSettings);
                break;
        }

    }

    function loadDefault(componentId, index, currentPlaylist, currentSettings) {
        var youtubeWrapper = '#youtube-wrapper_' + componentId;
        var videoContainer = '#video-container_' + componentId;
        var videoComponent = '#video-component_' + componentId;

        $(youtubeWrapper).remove();
        $(videoContainer).remove();

        var videoContainerEl = document.createElement('div');
        videoContainerEl.id = 'video-container_' + componentId;
        videoContainerEl.className = 'video-container';
        $(videoComponent + ' .video-container__wrapper').prepend(videoContainerEl);

        var defaultImg = document.createElement('img');
        defaultImg.alt = currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder;
        defaultImg.src = currentPlaylist[index].img.url;
        $(videoContainerEl).prepend(defaultImg);

        currentSettings.showTitle &&
            $(videoComponent + ' .title').html(currentPlaylist[index].title||currentPlaylist[index].titlePlaceholder);

        currentSettings.showContentChannel &&
            $(videoComponent + ' .channel').html(currentPlaylist[index].channel||currentPlaylist[index].channelPlaceholder);

        currentSettings.showDescription &&
            $(videoComponent + ' .description').html(currentPlaylist[index].description||currentPlaylist[index].descriptionPlaceholder);

        $(videoComponent + ' .additional-mm-info').remove();
    }

    function showCurrentIndex(index, componentId) {
        var itemsCount = $('#playlist-items-count_' + componentId);
        var currentItem = itemsCount.children('span');
        currentItem.text(index + '/');
    }

    function togglePlaylist(componentId) {
        var playlistHeader = $('#playlist-header_' + componentId);
        if(playlistHeader.find('.dropdown-caret').length) {
            var playlistBody = $('#playlist-body_' + componentId);
            playlistBody.css('overflow', 'auto');
            playlistBody.slideToggle('slow', function(){ playlistBody.css('overflow','auto') });
            playlistHeader.find('i').toggleClass('fa-caret-up fa-caret-down');
        }
    }

</script>


</body>
</html>
